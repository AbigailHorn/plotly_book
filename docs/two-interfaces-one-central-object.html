<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>A plotly tutoRial</title>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta name="description" content="An overview of the R package plotly">
  <meta name="generator" content="bookdown 0.1 and GitBook 2.6.7">

  <meta property="og:title" content="A plotly tutoRial" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="<a href="http://ropensci.github.io/plotly/" class="uri">http://ropensci.github.io/plotly/</a>" />
  <meta property="og:image" content="<a href="http://ropensci.github.io/plotly/" class="uri">http://ropensci.github.io/plotly/</a>images/plotly.png" />
  <meta property="og:description" content="An overview of the R package plotly" />
  <meta name="github-repo" content="ropensci/plotly" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="A plotly tutoRial" />
  
  <meta name="twitter:description" content="An overview of the R package plotly" />
  <meta name="twitter:image" content="<a href="http://ropensci.github.io/plotly/" class="uri">http://ropensci.github.io/plotly/</a>images/plotly.png" />

<meta name="author" content="Carson Sievert">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="plot-ly-for-collaboration.html">
<link rel="next" href="a-case-study-of-housing-sales-in-texas.html">

<script src="libs/jquery/jquery.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets/htmlwidgets.js"></script>
<link href="libs/plotlyjs/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotlyjs/plotly-latest.min.js"></script>
<script src="libs/plotly-binding/plotly.js"></script>
<script src="libs/crosstalk/js/crosstalk.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>


  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A plotly tutoRial</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Overview</a><ul>
<li class="chapter" data-level="" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i>Installation</a></li>
<li class="chapter" data-level="" data-path="get-started.html"><a href="get-started.html"><i class="fa fa-check"></i>Get started</a></li>
<li class="chapter" data-level="" data-path="plot-ly-for-collaboration.html"><a href="plot-ly-for-collaboration.html"><i class="fa fa-check"></i>plot.ly for collaboration</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="two-interfaces-one-central-object.html"><a href="two-interfaces-one-central-object.html"><i class="fa fa-check"></i><b>1</b> Two interfaces, one central object</a><ul>
<li class="chapter" data-level="1.1" data-path="a-case-study-of-housing-sales-in-texas.html"><a href="a-case-study-of-housing-sales-in-texas.html"><i class="fa fa-check"></i><b>1.1</b> A case study of housing sales in Texas</a><ul>
<li class="chapter" data-level="1.1.1" data-path="a-case-study-of-housing-sales-in-texas.html"><a href="a-case-study-of-housing-sales-in-texas.html#the-plot_ly-interface"><i class="fa fa-check"></i><b>1.1.1</b> The <code>plot_ly()</code> interface</a></li>
<li class="chapter" data-level="1.1.2" data-path="a-case-study-of-housing-sales-in-texas.html"><a href="a-case-study-of-housing-sales-in-texas.html#adding-layers"><i class="fa fa-check"></i><b>1.1.2</b> Adding layers</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="combining-the-two.html"><a href="combining-the-two.html"><i class="fa fa-check"></i><b>1.2</b> Combining the two</a></li>
<li class="chapter" data-level="1.3" data-path="choosing-an-interface-sec-choosing.html"><a href="choosing-an-interface-sec-choosing.html"><i class="fa fa-check"></i><b>1.3</b> Choosing an interface {sec: choosing}</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="an-intro-to-plot-ly.html"><a href="an-intro-to-plot-ly.html"><i class="fa fa-check"></i><b>2</b> An intro to plot_ly()</a><ul>
<li class="chapter" data-level="2.1" data-path="smart-defaults-messages-warnings-errors.html"><a href="smart-defaults-messages-warnings-errors.html"><i class="fa fa-check"></i><b>2.1</b> Smart defaults, messages, warnings, errors</a></li>
<li class="chapter" data-level="2.2" data-path="functional-interface.html"><a href="functional-interface.html"><i class="fa fa-check"></i><b>2.2</b> Functional interface</a></li>
<li class="chapter" data-level="2.3" data-path="special-arguments.html"><a href="special-arguments.html"><i class="fa fa-check"></i><b>2.3</b> Special arguments</a><ul>
<li class="chapter" data-level="2.3.1" data-path="special-arguments.html"><a href="special-arguments.html#the-color-argument"><i class="fa fa-check"></i><b>2.3.1</b> The color argument</a></li>
<li class="chapter" data-level="2.3.2" data-path="special-arguments.html"><a href="special-arguments.html#the-symbol-argument"><i class="fa fa-check"></i><b>2.3.2</b> The symbol argument</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="subplot.html"><a href="subplot.html"><i class="fa fa-check"></i><b>3</b> The subplot() function</a><ul>
<li class="chapter" data-level="3.1" data-path="recursive-subplots.html"><a href="recursive-subplots.html"><i class="fa fa-check"></i><b>3.1</b> Recursive subplots</a></li>
<li class="chapter" data-level="3.2" data-path="ggplot2-subplots.html"><a href="ggplot2-subplots.html"><i class="fa fa-check"></i><b>3.2</b> ggplot2 subplots</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">A plotly tutoRial</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="two-interfaces-one-central-object" class="section level1">
<h1><span class="header-section-number">1</span> Two interfaces, one central object</h1>
<p>There are two main ways to create a <strong>plotly</strong> object (i.e., visualization) in R. The <code>plot_ly()</code> function transforms <em>data</em> into a <strong>plotly</strong> object, while the <code>ggplotly()</code> function transforms a ggplot object into a plotly object <span class="citation">(Wickham <a href="#ref-ggplot2">2009</a>)</span>; <span class="citation">(Sievert et al. <a href="#ref-plotly">2016</a>)</span>. No matter which interface you use, printing a plotly object results in an interactive web-based visualization with tooltips, zooming, and panning. Furthermore, once you have a plotly object, any <strong>plotly</strong> function can be used to modify that plotly object. As a result, we can effectively modify or post-process <strong>ggplot2</strong> plots to leverage features exclusive to plotly (see section XXX for some compelling examples showing the power of this idea).</p>
<p>A good question to ask now would be: “Why the need for two interfaces”? The quick and easy answer is that <strong>ggplot2</strong> can be quite slow; but has an elegant interface with many useful abstractions (e.g., a consistent interface for altering scales), smart defaults, very extensive set of features, and a huge community of users and developers. On the other hand, <code>plot_ly()</code> can be much faster, mostly because it does less magic. Furthermore, <strong>ggplot2</strong> is focused on 2D graphics, whereas plotly.js has awesome 3D scientific visualization capabilities – the inspiration having <code>plot_ly()</code> in the first place. Even though <strong>ggplot2</strong> does a lot of things right (which <code>plot_ly()</code> strives to adopt), one could argue it has a number of design flaws which will probably never be fixed (which <code>plot_ly()</code> strives to avoid).</p>
<p>As shown explicitly in the next section, the design of the <code>plot_ly()</code> interface is heavily inspired by <strong>ggplot2</strong>, and it’s implementation of the Grammar of Graphics <span class="citation">(Wilkinson <a href="#ref-Wilkinson:2005">2005</a>)</span>. In its layered approach to the grammar of graphics <span class="citation">(Wickham <a href="#ref-Wickham:2010hya">2010</a>)</span>, it defines a <em>layer</em> as the combination of five elements: (1) data (2) aesthetic mapping (3) geometry (4) statistical summary (5) positional adjustment. The fact that these elements are easily understood in isolation, but can be combined in many ways to produce complex visualizations, is a huge reason for ggplot2’s success (not to mention its support for a bunch of different useful geometries and statistics).</p>
<p>One could argue, however, that embedding data transformations (e.g., statistical summaries and positional adjustments) inside the plot building step was a mistake since other packages can’t leverage that functionality. We’re already seeing <a href="https://channel9.msdn.com/Events/useR-international-R-User-conference/useR2016/Towards-a-grammar-of-interactive-graphics">glimpses</a> of Hadley’s vision for the future where statistical computations and data transformations are decoupled from the actual rendering stage <span class="citation">(Chang and Wickham <a href="#ref-ggvis">2016</a>)</span>; <span class="citation">(Wickham <a href="#ref-ggstat">2016</a>)</span>. One could also argue that <strong>ggplot2</strong>’s overriding of the <code>+</code> operator to combine components is another design flaw – layers should instead be described as a sequence of pure functions which perform data transformation(s) and mapping(s) to visuals.</p>
<p>As always, the devil is in the detail, so I’ve provided a list at the end of this chapter that provides more details about the limitations behind each interface which may be helpful for <a href="#sec:choosing">Choosing an interface</a>. For now, we’ll point out some obvious similarities and differences with a few examples.</p> 
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-ggplot2">
<p>Wickham, Hadley. 2009. <em>Ggplot2: Elegant Graphics for Data Analysis</em>. Springer-Verlag New York. <a href="http://ggplot2.org" class="uri">http://ggplot2.org</a>.</p>
</div>
<div id="ref-plotly">
<p>Sievert, Carson, Chris Parmer, Toby Hocking, Scott Chamberlain, Karthik Ram, Marianne Corvellec, and Pedro Despouy. 2016. <em>Plotly: Create Interactive Web Graphics via ’Plotly.js’</em>.</p>
</div>
<div id="ref-Wilkinson:2005">
<p>Wilkinson, Leland. 2005. <em>The Grammar of Graphics (Statistics and Computing)</em>. Secaucus, NJ, USA: Springer-Verlag New York, Inc.</p>
</div>
<div id="ref-Wickham:2010hya">
<p>Wickham, Hadley. 2010. “A Layered Grammar of Graphics.” <em>Journal of Computational and Graphical Statistics</em> 19 (1): 3–28.</p>
</div>
<div id="ref-ggvis">
<p>Chang, Winston, and Hadley Wickham. 2016. <em>Ggvis: Interactive Grammar of Graphics</em>. <a href="https://CRAN.R-project.org/package=ggvis" class="uri">https://CRAN.R-project.org/package=ggvis</a>.</p>
</div>
<div id="ref-ggstat">
<p>Wickham, Hadley. 2016. <em>Ggstat: Statistical Computations for Visualisation</em>. <a href="https://github.com/hadley/ggstat" class="uri">https://github.com/hadley/ggstat</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="plot-ly-for-collaboration.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="a-case-study-of-housing-sales-in-texas.html" class="navigation navigation-next " aria-label="Next page""><i class="fa fa-angle-right"></i></a>

<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/lunr.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/cpsievert/plotly_book/edit/master/01-ggplotly-vs-plotly.Rmd",
"text": "Edit"
},
"download": ["bookdown.pdf", "bookdown.epub", "bookdown.mobi"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
