<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>37 Modifying ggplotly() results | Interactive web-based data visualization with R, plotly, and shiny</title>
  <meta name="description" content="A book example for a Chapman &amp; Hall book.">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="37 Modifying ggplotly() results | Interactive web-based data visualization with R, plotly, and shiny" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="A book example for a Chapman &amp; Hall book." />
  <meta name="github-repo" content="ropensci/plotly" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="37 Modifying ggplotly() results | Interactive web-based data visualization with R, plotly, and shiny" />
  <meta name="twitter:site" content="@cpsievert" />
  <meta name="twitter:description" content="A book example for a Chapman &amp; Hall book." />
  

<meta name="author" content="Carson Sievert">


<meta name="date" content="2019-03-09">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="the-data-plot-pipeline.html">
<link rel="next" href="embedding-images.html">
<script src="libs/jquery/jquery.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets/htmlwidgets.js"></script>
<script src="libs/plotly-binding/plotly.js"></script>
<script src="libs/typedarray/typedarray.min.js"></script>
<link href="libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main/plotly-latest.min.js"></script>
<link href="libs/selectize/selectize.bootstrap3.css" rel="stylesheet" />
<script src="libs/selectize/selectize.min.js"></script>
<link href="libs/colourpicker/colourpicker.min.css" rel="stylesheet" />
<script src="libs/colourpicker/colourpicker.min.js"></script>
<link href="libs/datatables-css/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding/datatables.js"></script>
<link href="libs/dt-core/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core/js/jquery.dataTables.min.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/plotly.css" type="text/css" />
<link rel="stylesheet" href="css/style.css" type="text/css" />
<link rel="stylesheet" href="css/summary-fix.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#what-you-will-learn"><i class="fa fa-check"></i><b>1.1</b> What you will learn</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#how-this-book-is-organized"><i class="fa fa-check"></i><b>1.2</b> How this book is organized</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#what-you-wont-learn"><i class="fa fa-check"></i><b>1.3</b> What you won’t learn</a><ul>
<li class="chapter" data-level="1.3.1" data-path="introduction.html"><a href="introduction.html#web-technologies"><i class="fa fa-check"></i><b>1.3.1</b> Web technologies</a></li>
<li class="chapter" data-level="1.3.2" data-path="introduction.html"><a href="introduction.html#d3js"><i class="fa fa-check"></i><b>1.3.2</b> d3js</a></li>
<li class="chapter" data-level="1.3.3" data-path="introduction.html"><a href="introduction.html#ggplot2"><i class="fa fa-check"></i><b>1.3.3</b> ggplot2</a></li>
<li class="chapter" data-level="1.3.4" data-path="introduction.html"><a href="introduction.html#graphical-data-analysis"><i class="fa fa-check"></i><b>1.3.4</b> Graphical data analysis</a></li>
<li class="chapter" data-level="1.3.5" data-path="introduction.html"><a href="introduction.html#data-visualization-best-practices"><i class="fa fa-check"></i><b>1.3.5</b> Data visualization best practices</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#prerequisites"><i class="fa fa-check"></i><b>1.4</b> Prerequisites</a></li>
<li class="chapter" data-level="1.5" data-path="introduction.html"><a href="introduction.html#run-code-examples"><i class="fa fa-check"></i><b>1.5</b> Run code examples</a></li>
<li class="chapter" data-level="1.6" data-path="introduction.html"><a href="introduction.html#getting-help-and-learning-more"><i class="fa fa-check"></i><b>1.6</b> Getting help and learning more</a></li>
<li class="chapter" data-level="1.7" data-path="introduction.html"><a href="introduction.html#acknowledgements"><i class="fa fa-check"></i><b>1.7</b> Acknowledgements</a></li>
<li class="chapter" data-level="1.8" data-path="introduction.html"><a href="introduction.html#colophon"><i class="fa fa-check"></i><b>1.8</b> Colophon</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="why-web-graphics.html"><a href="why-web-graphics.html"><i class="fa fa-check"></i><b>2</b> Why interactive web graphics in R?</a></li>
<li class="part"><span><b>I Creating views</b></span></li>
<li class="chapter" data-level="3" data-path="overview.html"><a href="overview.html"><i class="fa fa-check"></i><b>3</b> Overview</a><ul>
<li class="chapter" data-level="3.1" data-path="overview.html"><a href="overview.html#intro-plotly"><i class="fa fa-check"></i><b>3.1</b> Intro to <code>plot_ly()</code></a></li>
<li class="chapter" data-level="3.2" data-path="overview.html"><a href="overview.html#intro-plotly-js"><i class="fa fa-check"></i><b>3.2</b> Intro to plotly.js</a></li>
<li class="chapter" data-level="3.3" data-path="overview.html"><a href="overview.html#intro-to-ggplotly"><i class="fa fa-check"></i><b>3.3</b> Intro to <code>ggplotly()</code></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="scatter-traces.html"><a href="scatter-traces.html"><i class="fa fa-check"></i><b>4</b> Scattered foundations</a><ul>
<li class="chapter" data-level="4.1" data-path="scatter-traces.html"><a href="scatter-traces.html#markers"><i class="fa fa-check"></i><b>4.1</b> Markers</a><ul>
<li class="chapter" data-level="4.1.1" data-path="scatter-traces.html"><a href="scatter-traces.html#marker-alpha"><i class="fa fa-check"></i><b>4.1.1</b> Alpha blending</a></li>
<li class="chapter" data-level="4.1.2" data-path="scatter-traces.html"><a href="scatter-traces.html#marker-color"><i class="fa fa-check"></i><b>4.1.2</b> Colors</a></li>
<li class="chapter" data-level="4.1.3" data-path="scatter-traces.html"><a href="scatter-traces.html#marker-symbol"><i class="fa fa-check"></i><b>4.1.3</b> Symbols</a></li>
<li class="chapter" data-level="4.1.4" data-path="scatter-traces.html"><a href="scatter-traces.html#marker-stroke"><i class="fa fa-check"></i><b>4.1.4</b> Stroke and span</a></li>
<li class="chapter" data-level="4.1.5" data-path="scatter-traces.html"><a href="scatter-traces.html#marker-size"><i class="fa fa-check"></i><b>4.1.5</b> Size</a></li>
<li class="chapter" data-level="4.1.6" data-path="scatter-traces.html"><a href="scatter-traces.html#dot-plots"><i class="fa fa-check"></i><b>4.1.6</b> Dotplots &amp; error bars</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="scatter-traces.html"><a href="scatter-traces.html#lines"><i class="fa fa-check"></i><b>4.2</b> Lines</a><ul>
<li class="chapter" data-level="4.2.1" data-path="scatter-traces.html"><a href="scatter-traces.html#linetypes"><i class="fa fa-check"></i><b>4.2.1</b> Linetypes</a></li>
<li class="chapter" data-level="4.2.2" data-path="scatter-traces.html"><a href="scatter-traces.html#segments"><i class="fa fa-check"></i><b>4.2.2</b> Segments</a></li>
<li class="chapter" data-level="4.2.3" data-path="scatter-traces.html"><a href="scatter-traces.html#density-plots"><i class="fa fa-check"></i><b>4.2.3</b> Density plots</a></li>
<li class="chapter" data-level="4.2.4" data-path="scatter-traces.html"><a href="scatter-traces.html#parallel-coordinates"><i class="fa fa-check"></i><b>4.2.4</b> Parallel Coordinates</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="scatter-traces.html"><a href="scatter-traces.html#polygons"><i class="fa fa-check"></i><b>4.3</b> Polygons</a><ul>
<li class="chapter" data-level="4.3.1" data-path="scatter-traces.html"><a href="scatter-traces.html#ribbons"><i class="fa fa-check"></i><b>4.3.1</b> Ribbons</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="maps.html"><a href="maps.html"><i class="fa fa-check"></i><b>5</b> Maps</a><ul>
<li class="chapter" data-level="5.1" data-path="maps.html"><a href="maps.html#maps-integrated"><i class="fa fa-check"></i><b>5.1</b> Integrated maps</a><ul>
<li class="chapter" data-level="5.1.1" data-path="maps.html"><a href="maps.html#overview-1"><i class="fa fa-check"></i><b>5.1.1</b> Overview</a></li>
<li class="chapter" data-level="5.1.2" data-path="maps.html"><a href="maps.html#choropleths"><i class="fa fa-check"></i><b>5.1.2</b> Choropleths</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="maps.html"><a href="maps.html#maps-custom"><i class="fa fa-check"></i><b>5.2</b> Custom maps</a><ul>
<li class="chapter" data-level="5.2.1" data-path="maps.html"><a href="maps.html#sf"><i class="fa fa-check"></i><b>5.2.1</b> Simple features (sf)</a></li>
<li class="chapter" data-level="5.2.2" data-path="maps.html"><a href="maps.html#cartograms"><i class="fa fa-check"></i><b>5.2.2</b> Cartograms</a></li>
<li class="chapter" data-level="5.2.3" data-path="maps.html"><a href="maps.html#geo-faceting"><i class="fa fa-check"></i><b>5.2.3</b> Geo faceting</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="bars-histograms.html"><a href="bars-histograms.html"><i class="fa fa-check"></i><b>6</b> Bars &amp; histograms</a><ul>
<li class="chapter" data-level="6.1" data-path="bars-histograms.html"><a href="bars-histograms.html#multiple-numeric-distributions"><i class="fa fa-check"></i><b>6.1</b> Multiple numeric distributions</a></li>
<li class="chapter" data-level="6.2" data-path="bars-histograms.html"><a href="bars-histograms.html#multiple-discrete-distributions"><i class="fa fa-check"></i><b>6.2</b> Multiple discrete distributions</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="boxplots.html"><a href="boxplots.html"><i class="fa fa-check"></i><b>7</b> Boxplots</a></li>
<li class="chapter" data-level="8" data-path="frequencies-2D.html"><a href="frequencies-2D.html"><i class="fa fa-check"></i><b>8</b> 2D frequencies</a><ul>
<li class="chapter" data-level="8.1" data-path="frequencies-2D.html"><a href="frequencies-2D.html#rectangular-binning-in-plotly.js"><i class="fa fa-check"></i><b>8.1</b> Rectangular binning in plotly.js</a></li>
<li class="chapter" data-level="8.2" data-path="frequencies-2D.html"><a href="frequencies-2D.html#rectangular-binning-in-r"><i class="fa fa-check"></i><b>8.2</b> Rectangular binning in R</a></li>
<li class="chapter" data-level="8.3" data-path="frequencies-2D.html"><a href="frequencies-2D.html#categorical-axes"><i class="fa fa-check"></i><b>8.3</b> Categorical axes</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="d-charts.html"><a href="d-charts.html"><i class="fa fa-check"></i><b>9</b> 3D charts</a><ul>
<li class="chapter" data-level="9.0.1" data-path="d-charts.html"><a href="d-charts.html#markers-and-lines"><i class="fa fa-check"></i><b>9.0.1</b> Markers and lines</a></li>
<li class="chapter" data-level="9.0.2" data-path="d-charts.html"><a href="d-charts.html#d-paths"><i class="fa fa-check"></i><b>9.0.2</b> 3D paths</a></li>
</ul></li>
<li class="part"><span><b>II Publishing views</b></span></li>
<li class="chapter" data-level="10" data-path="introduction-1.html"><a href="introduction-1.html"><i class="fa fa-check"></i><b>10</b> Introduction</a></li>
<li class="chapter" data-level="11" data-path="saving-and-embedding-html.html"><a href="saving-and-embedding-html.html"><i class="fa fa-check"></i><b>11</b> Saving and embedding HTML</a></li>
<li class="chapter" data-level="12" data-path="exporting-static-images.html"><a href="exporting-static-images.html"><i class="fa fa-check"></i><b>12</b> Exporting static images</a><ul>
<li class="chapter" data-level="12.1" data-path="exporting-static-images.html"><a href="exporting-static-images.html#with-code"><i class="fa fa-check"></i><b>12.1</b> With code</a></li>
<li class="chapter" data-level="12.2" data-path="exporting-static-images.html"><a href="exporting-static-images.html#from-a-browser"><i class="fa fa-check"></i><b>12.2</b> From a browser</a></li>
<li class="chapter" data-level="12.3" data-path="exporting-static-images.html"><a href="exporting-static-images.html#sizing-exports"><i class="fa fa-check"></i><b>12.3</b> Sizing exports</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="editing-views.html"><a href="editing-views.html"><i class="fa fa-check"></i><b>13</b> Editing views for publishing</a></li>
<li class="part"><span><b>III Combining multiple views</b></span></li>
<li class="chapter" data-level="14" data-path="arranging-views.html"><a href="arranging-views.html"><i class="fa fa-check"></i><b>14</b> Arranging views</a><ul>
<li class="chapter" data-level="14.1" data-path="arranging-views.html"><a href="arranging-views.html#arranging-htmlwidgets"><i class="fa fa-check"></i><b>14.1</b> Arranging htmlwidgets</a></li>
<li class="chapter" data-level="14.2" data-path="arranging-views.html"><a href="arranging-views.html#merging-plotly-objects"><i class="fa fa-check"></i><b>14.2</b> Merging plotly objects</a><ul>
<li class="chapter" data-level="14.2.1" data-path="arranging-views.html"><a href="arranging-views.html#recursive-subplots"><i class="fa fa-check"></i><b>14.2.1</b> Recursive subplots</a></li>
<li class="chapter" data-level="14.2.2" data-path="arranging-views.html"><a href="arranging-views.html#ggplot2-subplots"><i class="fa fa-check"></i><b>14.2.2</b> ggplot2 subplots</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="arranging-views.html"><a href="arranging-views.html#creating-facets-with-subplot"><i class="fa fa-check"></i><b>14.3</b> Creating facets with <code>subplot()</code></a></li>
<li class="chapter" data-level="14.4" data-path="arranging-views.html"><a href="arranging-views.html#scatterplot-matrices-with-ggally"><i class="fa fa-check"></i><b>14.4</b> Scatterplot matrices with GGally</a></li>
<li class="chapter" data-level="14.5" data-path="arranging-views.html"><a href="arranging-views.html#navigating-many-views"><i class="fa fa-check"></i><b>14.5</b> Navigating many views</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="animating-views.html"><a href="animating-views.html"><i class="fa fa-check"></i><b>15</b> Animating views</a><ul>
<li class="chapter" data-level="15.1" data-path="animating-views.html"><a href="animating-views.html#animation-api"><i class="fa fa-check"></i><b>15.1</b> Animation API</a></li>
<li class="chapter" data-level="15.2" data-path="animating-views.html"><a href="animating-views.html#animation-support"><i class="fa fa-check"></i><b>15.2</b> Animation support</a></li>
</ul></li>
<li class="part"><span><b>IV Linking multiple views</b></span></li>
<li class="chapter" data-level="16" data-path="introduction-2.html"><a href="introduction-2.html"><i class="fa fa-check"></i><b>16</b> Introduction</a></li>
<li class="chapter" data-level="17" data-path="client-side-linking.html"><a href="client-side-linking.html"><i class="fa fa-check"></i><b>17</b> Client-side linking</a><ul>
<li class="chapter" data-level="17.1" data-path="client-side-linking.html"><a href="client-side-linking.html#graphical-queries"><i class="fa fa-check"></i><b>17.1</b> Graphical queries</a></li>
<li class="chapter" data-level="17.2" data-path="client-side-linking.html"><a href="client-side-linking.html#filter"><i class="fa fa-check"></i><b>17.2</b> Highlight versus filter events</a></li>
<li class="chapter" data-level="17.3" data-path="client-side-linking.html"><a href="client-side-linking.html#linking-animated-views"><i class="fa fa-check"></i><b>17.3</b> Linking animated views</a></li>
<li class="chapter" data-level="17.4" data-path="client-side-linking.html"><a href="client-side-linking.html#querying-examples"><i class="fa fa-check"></i><b>17.4</b> Examples</a><ul>
<li class="chapter" data-level="17.4.1" data-path="client-side-linking.html"><a href="client-side-linking.html#trellis-linking"><i class="fa fa-check"></i><b>17.4.1</b> Querying facetted charts</a></li>
<li class="chapter" data-level="17.4.2" data-path="client-side-linking.html"><a href="client-side-linking.html#statistical-queries"><i class="fa fa-check"></i><b>17.4.2</b> Statistical queries</a></li>
<li class="chapter" data-level="17.4.3" data-path="client-side-linking.html"><a href="client-side-linking.html#statistical-queries-ggplot"><i class="fa fa-check"></i><b>17.4.3</b> Statistical queries with <code>ggplotly()</code></a></li>
<li class="chapter" data-level="17.4.4" data-path="client-side-linking.html"><a href="client-side-linking.html#geo-spatial-queries"><i class="fa fa-check"></i><b>17.4.4</b> Geo-spatial queries</a></li>
<li class="chapter" data-level="17.4.5" data-path="client-side-linking.html"><a href="client-side-linking.html#linking-with-other-htmlwidgets"><i class="fa fa-check"></i><b>17.4.5</b> Linking with other htmlwidgets</a></li>
<li class="chapter" data-level="17.4.6" data-path="client-side-linking.html"><a href="client-side-linking.html#ggally-ggpairs"><i class="fa fa-check"></i><b>17.4.6</b> Generalized pairs plots</a></li>
<li class="chapter" data-level="17.4.7" data-path="client-side-linking.html"><a href="client-side-linking.html#ggally-ggnostic"><i class="fa fa-check"></i><b>17.4.7</b> Querying diagnostic plots</a></li>
</ul></li>
<li class="chapter" data-level="17.5" data-path="client-side-linking.html"><a href="client-side-linking.html#limitations"><i class="fa fa-check"></i><b>17.5</b> Limitations</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="linking-server-side.html"><a href="linking-server-side.html"><i class="fa fa-check"></i><b>18</b> Server-side linking with shiny</a><ul>
<li class="chapter" data-level="18.1" data-path="linking-server-side.html"><a href="linking-server-side.html#hello-shiny"><i class="fa fa-check"></i><b>18.1</b> Embedding plotly in shiny</a><ul>
<li class="chapter" data-level="18.1.1" data-path="linking-server-side.html"><a href="linking-server-side.html#your-first-shiny-app"><i class="fa fa-check"></i><b>18.1.1</b> Your first shiny app</a></li>
<li class="chapter" data-level="18.1.2" data-path="linking-server-side.html"><a href="linking-server-side.html#hiding-and-redrawing-on-resize"><i class="fa fa-check"></i><b>18.1.2</b> Hiding and redrawing on resize</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="linking-server-side.html"><a href="linking-server-side.html#shiny-plotly-inputs"><i class="fa fa-check"></i><b>18.2</b> Leveraging plotly input events</a><ul>
<li class="chapter" data-level="18.2.1" data-path="linking-server-side.html"><a href="linking-server-side.html#dragging-events"><i class="fa fa-check"></i><b>18.2.1</b> Dragging events</a></li>
<li class="chapter" data-level="18.2.2" data-path="linking-server-side.html"><a href="linking-server-side.html#d-events"><i class="fa fa-check"></i><b>18.2.2</b> 3D events</a></li>
<li class="chapter" data-level="18.2.3" data-path="linking-server-side.html"><a href="linking-server-side.html#edit-events"><i class="fa fa-check"></i><b>18.2.3</b> Edit events</a></li>
<li class="chapter" data-level="18.2.4" data-path="linking-server-side.html"><a href="linking-server-side.html#relayout-vs-restyle-events"><i class="fa fa-check"></i><b>18.2.4</b> Relayout vs restyle events</a></li>
<li class="chapter" data-level="18.2.5" data-path="linking-server-side.html"><a href="linking-server-side.html#scoping-events"><i class="fa fa-check"></i><b>18.2.5</b> Scoping events</a></li>
<li class="chapter" data-level="18.2.6" data-path="linking-server-side.html"><a href="linking-server-side.html#event-priority"><i class="fa fa-check"></i><b>18.2.6</b> Event priority</a></li>
<li class="chapter" data-level="18.2.7" data-path="linking-server-side.html"><a href="linking-server-side.html#handling-discrete-axes"><i class="fa fa-check"></i><b>18.2.7</b> Handling discrete axes</a></li>
<li class="chapter" data-level="18.2.8" data-path="linking-server-side.html"><a href="linking-server-side.html#reactive-vals"><i class="fa fa-check"></i><b>18.2.8</b> Accumulating and managing event data</a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="linking-server-side.html"><a href="linking-server-side.html#shiny-performance"><i class="fa fa-check"></i><b>18.3</b> Improving performance</a><ul>
<li class="chapter" data-level="18.3.1" data-path="linking-server-side.html"><a href="linking-server-side.html#proxies"><i class="fa fa-check"></i><b>18.3.1</b> Partial plotly updates</a></li>
<li class="chapter" data-level="18.3.2" data-path="linking-server-side.html"><a href="linking-server-side.html#partial-update-examples"><i class="fa fa-check"></i><b>18.3.2</b> Partial update examples</a></li>
</ul></li>
<li class="chapter" data-level="18.4" data-path="linking-server-side.html"><a href="linking-server-side.html#advanced-applications"><i class="fa fa-check"></i><b>18.4</b> Advanced applications</a><ul>
<li class="chapter" data-level="18.4.1" data-path="linking-server-side.html"><a href="linking-server-side.html#drill-down"><i class="fa fa-check"></i><b>18.4.1</b> Drill-down</a></li>
<li class="chapter" data-level="18.4.2" data-path="linking-server-side.html"><a href="linking-server-side.html#crossfilter"><i class="fa fa-check"></i><b>18.4.2</b> Cross-filter</a></li>
<li class="chapter" data-level="18.4.3" data-path="linking-server-side.html"><a href="linking-server-side.html#drag-brush"><i class="fa fa-check"></i><b>18.4.3</b> A draggable brush</a></li>
</ul></li>
<li class="chapter" data-level="18.5" data-path="linking-server-side.html"><a href="linking-server-side.html#discussion"><i class="fa fa-check"></i><b>18.5</b> Discussion</a></li>
</ul></li>
<li class="part"><span><b>V Scaling views</b></span></li>
<li class="chapter" data-level="19" data-path="scaling.html"><a href="scaling.html"><i class="fa fa-check"></i><b>19</b> Introduction</a></li>
<li class="chapter" data-level="20" data-path="run-time-efficiency.html"><a href="run-time-efficiency.html"><i class="fa fa-check"></i><b>20</b> Run-time efficiency</a></li>
<li class="chapter" data-level="21" data-path="print-time-efficiency.html"><a href="print-time-efficiency.html"><i class="fa fa-check"></i><b>21</b> Print-time efficiency</a></li>
<li class="chapter" data-level="22" data-path="a-case-study-with-cranlogs.html"><a href="a-case-study-with-cranlogs.html"><i class="fa fa-check"></i><b>22</b> A case study with cranlogs</a></li>
<li class="part"><span><b>VI Custom behavior with JavaScript</b></span></li>
<li class="chapter" data-level="23" data-path="javascript.html"><a href="javascript.html"><i class="fa fa-check"></i><b>23</b> Introduction</a></li>
<li class="chapter" data-level="24" data-path="json.html"><a href="json.html"><i class="fa fa-check"></i><b>24</b> Working with JSON</a><ul>
<li class="chapter" data-level="24.1" data-path="json.html"><a href="json.html#assignment-subsetting-and-iteration"><i class="fa fa-check"></i><b>24.1</b> Assignment, subsetting, and iteration</a></li>
<li class="chapter" data-level="24.2" data-path="json.html"><a href="json.html#mapping-r-to-json"><i class="fa fa-check"></i><b>24.2</b> Mapping R to JSON</a></li>
</ul></li>
<li class="chapter" data-level="25" data-path="js-event-handlers.html"><a href="js-event-handlers.html"><i class="fa fa-check"></i><b>25</b> Adding custom event handlers</a></li>
<li class="chapter" data-level="26" data-path="supplying-custom-data.html"><a href="supplying-custom-data.html"><i class="fa fa-check"></i><b>26</b> Supplying custom data</a></li>
<li class="chapter" data-level="27" data-path="client-side.html"><a href="client-side.html"><i class="fa fa-check"></i><b>27</b> Leveraging web technologies from R</a></li>
<li class="part"><span><b>VII Various special topics</b></span></li>
<li class="chapter" data-level="28" data-path="is-plotly-free-secure.html"><a href="is-plotly-free-secure.html"><i class="fa fa-check"></i><b>28</b> Is plotly free &amp; secure?</a></li>
<li class="chapter" data-level="29" data-path="controlling-tooltips.html"><a href="controlling-tooltips.html"><i class="fa fa-check"></i><b>29</b> Controlling tooltips</a><ul>
<li class="chapter" data-level="29.1" data-path="controlling-tooltips.html"><a href="controlling-tooltips.html#tooltip-text"><i class="fa fa-check"></i><b>29.1</b> <code>plot_ly()</code> tooltips</a></li>
<li class="chapter" data-level="29.2" data-path="controlling-tooltips.html"><a href="controlling-tooltips.html#tooltip-text-ggplotly"><i class="fa fa-check"></i><b>29.2</b> <code>ggplotly()</code> tooltips</a></li>
<li class="chapter" data-level="29.3" data-path="controlling-tooltips.html"><a href="controlling-tooltips.html#styling"><i class="fa fa-check"></i><b>29.3</b> Styling</a></li>
</ul></li>
<li class="chapter" data-level="30" data-path="control-the-modebar.html"><a href="control-the-modebar.html"><i class="fa fa-check"></i><b>30</b> Control the modebar</a><ul>
<li class="chapter" data-level="30.1" data-path="control-the-modebar.html"><a href="control-the-modebar.html#remove-the-entire-modebar"><i class="fa fa-check"></i><b>30.1</b> Remove the entire modebar</a></li>
<li class="chapter" data-level="30.2" data-path="control-the-modebar.html"><a href="control-the-modebar.html#remove-the-plotly-logo"><i class="fa fa-check"></i><b>30.2</b> Remove the plotly logo</a></li>
<li class="chapter" data-level="30.3" data-path="control-the-modebar.html"><a href="control-the-modebar.html#remove-modebar-buttons-by-name"><i class="fa fa-check"></i><b>30.3</b> Remove modebar buttons by name</a></li>
<li class="chapter" data-level="30.4" data-path="control-the-modebar.html"><a href="control-the-modebar.html#add-custom-modebar-buttons"><i class="fa fa-check"></i><b>30.4</b> Add custom modebar buttons</a></li>
<li class="chapter" data-level="30.5" data-path="control-the-modebar.html"><a href="control-the-modebar.html#control-image-downloads"><i class="fa fa-check"></i><b>30.5</b> Control image downloads</a></li>
</ul></li>
<li class="chapter" data-level="31" data-path="working-with-colors.html"><a href="working-with-colors.html"><i class="fa fa-check"></i><b>31</b> Working with colors</a></li>
<li class="chapter" data-level="32" data-path="working-with-symbols.html"><a href="working-with-symbols.html"><i class="fa fa-check"></i><b>32</b> Working with symbols and glyphs</a></li>
<li class="chapter" data-level="33" data-path="control-the-layout.html"><a href="control-the-layout.html"><i class="fa fa-check"></i><b>33</b> Control the layout</a><ul>
<li class="chapter" data-level="33.1" data-path="control-the-layout.html"><a href="control-the-layout.html#axis-titles"><i class="fa fa-check"></i><b>33.1</b> Axis titles</a></li>
<li class="chapter" data-level="33.2" data-path="control-the-layout.html"><a href="control-the-layout.html#axis-labels"><i class="fa fa-check"></i><b>33.2</b> Axis labels</a></li>
<li class="chapter" data-level="33.3" data-path="control-the-layout.html"><a href="control-the-layout.html#margins"><i class="fa fa-check"></i><b>33.3</b> Margins</a></li>
<li class="chapter" data-level="33.4" data-path="control-the-layout.html"><a href="control-the-layout.html#fonts"><i class="fa fa-check"></i><b>33.4</b> Fonts</a></li>
</ul></li>
<li class="chapter" data-level="34" data-path="locales.html"><a href="locales.html"><i class="fa fa-check"></i><b>34</b> Language support</a></li>
<li class="chapter" data-level="35" data-path="mathjax.html"><a href="mathjax.html"><i class="fa fa-check"></i><b>35</b> LaTeX rendering</a><ul>
<li class="chapter" data-level="35.1" data-path="mathjax.html"><a href="mathjax.html#mathjax-caveats"><i class="fa fa-check"></i><b>35.1</b> MathJax caveats</a></li>
</ul></li>
<li class="chapter" data-level="36" data-path="the-data-plot-pipeline.html"><a href="the-data-plot-pipeline.html"><i class="fa fa-check"></i><b>36</b> The data-plot-pipeline</a></li>
<li class="chapter" data-level="37" data-path="modifying-ggplotly.html"><a href="modifying-ggplotly.html"><i class="fa fa-check"></i><b>37</b> Modifying <code>ggplotly()</code> results</a><ul>
<li class="chapter" data-level="37.1" data-path="modifying-ggplotly.html"><a href="modifying-ggplotly.html#modifying-layout"><i class="fa fa-check"></i><b>37.1</b> Modifying layout</a></li>
<li class="chapter" data-level="37.2" data-path="modifying-ggplotly.html"><a href="modifying-ggplotly.html#modifying-data"><i class="fa fa-check"></i><b>37.2</b> Modifying data</a></li>
<li class="chapter" data-level="37.3" data-path="modifying-ggplotly.html"><a href="modifying-ggplotly.html#leveraging-statistical-output"><i class="fa fa-check"></i><b>37.3</b> Leveraging statistical output</a></li>
</ul></li>
<li class="chapter" data-level="38" data-path="embedding-images.html"><a href="embedding-images.html"><i class="fa fa-check"></i><b>38</b> Embedding images</a></li>
<li class="part"><span><b>VIII Developer-facing topics</b></span></li>
<li class="chapter" data-level="39" data-path="custom-geoms.html"><a href="custom-geoms.html"><i class="fa fa-check"></i><b>39</b> Translating custom ggplot2 geoms</a></li>
<li class="chapter" data-level="40" data-path="designing-an-htmlwidget-interface.html"><a href="designing-an-htmlwidget-interface.html"><i class="fa fa-check"></i><b>40</b> Designing an htmlwidget interface</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Interactive web-based data visualization with R, plotly, and shiny</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="modifying-ggplotly" class="section level1">
<h1><span class="header-section-number">37</span> Modifying <code>ggplotly()</code> results</h1>
<div id="modifying-layout" class="section level2">
<h2><span class="header-section-number">37.1</span> Modifying layout</h2>
<p>Since the <code>ggplotly()</code> function returns a plotly object, we can manipulate that object in the same way that we would manipulate any other plotly object. A simple and useful application of this is to specify interaction modes, like plotly.js’ <a href="https://plot.ly/r/reference/#layout-dragmode">layout.dragmode</a> for specifying the mode of click+drag events. Figure <a href="modifying-ggplotly.html#fig:ggplotly-layout">37.1</a> demonstrates how the default for this attribute can be modified via the <code>layout()</code> function.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(forecast)
<span class="kw">data</span>(gold, <span class="dt">package =</span> <span class="st">&quot;forecast&quot;</span>)
p &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="kw">fortify</span>(gold), <span class="kw">aes</span>(x, y)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>()
gg &lt;-<span class="st"> </span><span class="kw">ggplotly</span>(p)
<span class="kw">layout</span>(gg, <span class="dt">dragmode =</span> <span class="st">&quot;pan&quot;</span>)</code></pre>
<div class="figure" style="text-align: center"><span id="fig:ggplotly-layout"></span>
<div id="htmlwidget-cb53f5a7759b49b7ecac" style="width:100%;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-cb53f5a7759b49b7ecac">{"x":{"data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480,481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560,561,562,563,564,565,566,567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599,600,601,602,603,604,605,606,607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,630,631,632,633,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,689,690,691,692,693,694,695,696,697,698,699,700,701,702,703,704,705,706,707,708,709,710,711,712,713,714,715,716,717,718,719,720,721,722,723,724,725,726,727,728,729,730,731,732,733,734,735,736,737,738,739,740,741,742,743,744,745,746,747,748,749,750,751,752,753,754,755,756,757,758,759,760,761,762,763,764,765,766,767,768,769,770,771,772,773,774,775,776,777,778,779,780,781,782,783,784,785,786,787,788,789,790,791,792,793,794,795,796,797,798,799,800,801,802,803,804,805,806,807,808,809,810,811,812,813,814,815,816,817,818,819,820,821,822,823,824,825,826,827,828,829,830,831,832,833,834,835,836,837,838,839,840,841,842,843,844,845,846,847,848,849,850,851,852,853,854,855,856,857,858,859,860,861,862,863,864,865,866,867,868,869,870,871,872,873,874,875,876,877,878,879,880,881,882,883,884,885,886,887,888,889,890,891,892,893,894,895,896,897,898,899,900,901,902,903,904,905,906,907,908,909,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,930,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,975,976,977,978,979,980,981,982,983,984,985,986,987,988,989,990,991,992,993,994,995,996,997,998,999,1000,1001,1002,1003,1004,1005,1006,1007,1008,1009,1010,1011,1012,1013,1014,1015,1016,1017,1018,1019,1020,1021,1022,1023,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108],"y":[306.25,299.5,303.45,296.75,304.4,298.35,304,304,301.25,302.5,302.45,305.8,306.9,307,306.85,302.15,301.9,299.25,298.6,303.5,303,304.9,304.8,301.25,301.75,303.45,302.5,300.6,300,303.45,302.8,303.4,304.9,304.95,302.9,302.85,302,298.8,290,285,290.75,290.5,288.1,288.3,288.85,286.7,289.3,289,290.25,288.75,290.1,290.25,289.9,293.7,307.25,333.25,312.5,320.75,315.9,316,329.9,328.75,329.8,324.65,317,321.1,317,null,null,323.1,323.3,329,331.25,330.3,331.5,327,325.5,327.7,328.1,326,322.6,322.4,322.5,323,324.65,315.6,314.25,313.7,null,311.25,313.35,314.5,313.55,316.75,324.75,322.85,320.4,319.8,323.65,316.5,317.4,316.4,316.35,null,313.9,311.2,315,313.15,316.85,316.25,314.75,314.9,315,310.75,313.25,313.75,314.1,315.75,317.25,321.65,325.2,322,315.25,314.1,315.9,316.5,316.25,316.5,313.35,310.85,310.4,310.7,310.9,312.2,314.8,314.7,313.8,315.05,317.15,316.8,321.7,322.25,319,317.4,322.75,318.5,319.4,317.6,323,323.25,328.1,326.75,319.65,323,321.4,320.65,322.9,322.4,326.6,328.5,326.2,328.9,335.4,339.25,335.5,335.75,337.6,333.6,null,335.25,339.3,338.4,335.75,335.45,332.7,325,326,318.75,320.2,320,322,318,321.75,318.85,318.7,315.5,315.9,319.2,328.1,328.4,328.7,330.4,328.95,326.5,323.15,324.75,324.35,330.55,326.25,326.1,326.95,325.55,325.8,326.6,326.85,325.9,324.6,326.25,326.5,325.9,326.9,325.95,325.65,326.5,326.55,326.8,325.75,324.65,325.6,324.55,324.75,323.6,322.1,323.25,322.7,324.5,325,324.55,323.75,324.1,325.05,325.75,326,330.5,331.5,330.45,326.75,327.4,323.95,322.5,324.5,322.5,322.5,320.15,316.1,316.8,316.05,317.9,318.25,321.9,321.1,323.4,323.55,325.75,324.85,null,null,324.8,326.15,327,null,327.1,326,327.8,328.9,330.9,333.9,339.45,340.75,338.8,345.3,359.6,357.25,353.25,356.5,352.75,349.5,355.25,361.75,353.8,354.4,355.4,354,347.35,338.5,335.95,337.1,337.9,340.5,337.2,338.35,335.4,329.5,333,332.4,343.7,339.25,339,343.35,351.4,345.1,337.85,338.25,339.45,337.9,342.2,343,342,341.8,341.65,344.5,349.8,347.6,348.2,350.8,349.25,350.6,351.35,352.4,352.9,344.9,345.5,null,null,333.7,335.5,336.6,335.6,336.5,340.65,338.65,338.15,340.25,343.2,340.25,340.75,339.3,341,342.45,344.15,347.25,346,344.3,344.4,342.35,344.75,345.6,341.6,null,341.55,342.15,344.6,344.25,344.9,343.8,342.75,342.5,342.75,342.05,340.3,338.6,339.4,340.85,null,341.15,341.6,342.75,343.35,343,341.85,341.4,341.5,341.5,341.85,347.55,347.5,347.95,347.4,346.5,337.3,338.5,338.7,338.9,340.5,340.75,343.25,343.8,343.55,345.5,345.65,344,343.5,343.8,344.45,346.5,350.35,347.5,347.65,346.2,345.85,348.35,346.9,347.1,353,353.5,351.75,348.5,349,350.8,353.3,351.35,375.75,360.5,358.75,358.5,360.85,360.85,361.85,394.5,386.1,391.25,384,386.4,377.25,372.5,379,381.75,384.65,null,397.3,377.8,384,386,392,395.5,407.2,404,418.25,419,412.5,414.5,407,418.75,416,413.55,413.6,415.7,423,442.75,435.15,434,432.25,434,429.45,421.2,425.5,425.5,436.9,436.5,442,439.4,435.8,428.15,431.4,431.25,426.25,426,420,420,426.8,426.6,425.4,413,409.6,409.55,407.75,404,401.5,400.3,408.5,410.25,405,408.3,409.9,407.4,407.45,406.85,409,393.25,388,391.5,387,389.5,380.4,380.75,384,382.3,390,399.6,394.3,385.25,391.2,388.6,390.5,389.2,387.25,388.75,389.7,394.6,393.7,393.4,392.5,394.15,395.35,392.75,391,null,null,391.4,389.4,390.9,null,402.4,399,401.7,399.5,401.6,402.25,409.9,408.6,414.4,415,414.5,421.25,417.4,408.5,410.6,403.55,403.35,408.7,416.5,411,407.3,406.45,402,401.75,402.6,402.7,402.95,404.4,402.9,402,395.55,397.2,396.85,392.25,392.6,397.5,403,401.95,406.7,403.1,408.7,404.4,403.7,407.65,411.45,406.5,404.85,405,406.85,408,409.25,404.65,406,406.4,405.05,405,406.6,410.3,415,411.3,415.9,421.8,419,418.5,420.25,418.65,420.55,419.8,423.2,421.5,423.3,436.5,440.25,445.5,441,null,null,454.3,446.8,453,462.6,476.6,455.75,451.75,454.5,452.15,null,464.5,456.75,457.4,456.7,454.75,460.25,459.5,460,466.7,476.5,471.35,479.95,468.6,473.6,null,459.65,447.9,453.35,451.75,443.4,449.3,453.35,450.25,454.7,454.4,452.05,456.65,456.4,460.8,450.35,452.75,448.25,451.1,452.25,443.6,438.1,443,439,441.4,446,447.1,449.5,447.4,443,443.1,444.8,442.15,445.3,444.25,443.7,447.15,448.25,452.9,452.5,449.65,452.5,454.45,454.75,454,453.1,454.2,459.5,457.2,464.2,473.25,476,469.85,468.85,464,459.5,463.2,461,462,457.4,454.8,454.9,457.65,457.4,454.1,455.8,458.5,457.4,458.25,455.9,null,453.1,456.55,462.15,464.4,463.35,462.75,458,461,460.9,456.6,458.35,458.5,458.8,461.35,458.85,463.15,461.05,463.85,461,460.9,458.9,459.15,454.1,455,455.15,456.85,458.55,458.25,461.75,461.85,459.65,459.45,461.75,464.25,479.5,481.6,466.65,469.8,472.65,474.85,473.45,479.65,474.05,468,469.95,470.1,467,459.7,458.6,463.5,458.75,461.3,463,464.2,461.75,463.55,464.2,465.8,466.25,468.25,476.95,478.75,477.65,477.8,493.9,486.9,490,488.95,485.75,480.9,483,485.3,484.5,495,502.75,593.7,487.05,487.75,484.55,481,481.6,483.25,483.75,null,null,489.55,486.9,486.5,null,484.1,477.3,481.6,483.95,479.5,485.3,482.05,481.4,480.9,484.8,475.85,476.75,477.75,476.5,477.85,471.4,471.4,469.4,468,465.25,454.65,455.15,447.1,437.6,444.15,443.05,439.25,443.8,440.2,440.3,443.6,444.25,444.4,446.25,443.45,445.1,443.95,438,433.95,432.65,423.75,429.15,431.55,429.15,430.75,436,435.7,436.1,437.25,444.1,441.9,442.25,447.15,445.35,442.8,446.5,449.4,450,453.9,451.5,453.1,454.7,454,458,null,null,456,450.8,446.25,448.6,450.15,450.2,448.5,447,453.85,457.55,456.55,458,454,453.15,449.75,448.25,449.1,452.15,449.75,null,444.3,441.95,445.35,445.95,443.6,447.1,449.35,448.65,451.05,453.4,453.15,452.7,456.65,459.5,460.25,458.6,458.6,453,452.5,null,454,457,454.6,464.85,464.1,463.4,458.75,455,457.1,450.5,450.8,450.3,452.65,449.8,453.9,451.7,449.8,447.6,447,442,443.85,434.9,436.85,436.5,437.15,437.4,438.1,439.15,438.9,439.65,434.5,436.2,439.05,438.1,437.65,437.25,445,443.2,443.2,442.2,430.15,431.7,428.75,432.7,436.4,432.9,431.25,433.4,431.45,431.85,428.25,426.95,429,428.4,431.15,432,429,430.2,432.4,429.7,432.7,432.1,434.8,433.75,null,429.4,426.35,430.3,430.3,427,427.65,427,428,428.9,418,420.8,421.9,421.5,417.3,409,410.4,401.6,399.6,399.3,389.05,397,397.65,398.6,396.15,394.2,397.35,397.25,403,404.25,406.25,408,404.7,408.6,406.5,411.15,413.05,410.8,411.4,410.55,406.3,406.6,407.5,407.15,407.3,412.3,411,412.5,422.9,419.5,422,421.85,419.5,422.25,420.75,420.65,422.8,422.6,423.3,419.75,416.6,416.1,417.95,419.85,422.6,421.4,422.1,421.3,425.5,423.8,430.4,429,425.35,423.3,422.2,421,420.05,419.6,421.4,412.6,413.65,413.2,413.85,415.6,417.55,null,null,413.65,413.1,410.15,null,413.6,410.5,408,408.45,404.45,405.5,403.5,404.85,403.5,401.75,402.1,402.85,402.3,404.5,407.75,407.8,404.75,406,402.25,394.3,394.85,392,392.7,390.85,390.25,391.45,390.4,394.1,393.8,386.7,385.65,381.7,384.25,378.95,382.15,382.75,386,389,389.25,390.75,386.75,386.1,384.1,384.1,388.4,386.3,393.1,392.5,397,393.1,394.3,394.45,391,389.25,395.3,394.1,393.4,396,null,null,391.25,383.3,384,382.3],"text":["x:    1<br />y: 306","x:    2<br />y: 300","x:    3<br />y: 303","x:    4<br />y: 297","x:    5<br />y: 304","x:    6<br />y: 298","x:    7<br />y: 304","x:    8<br />y: 304","x:    9<br />y: 301","x:   10<br />y: 302","x:   11<br />y: 302","x:   12<br />y: 306","x:   13<br />y: 307","x:   14<br />y: 307","x:   15<br />y: 307","x:   16<br />y: 302","x:   17<br />y: 302","x:   18<br />y: 299","x:   19<br />y: 299","x:   20<br />y: 304","x:   21<br />y: 303","x:   22<br />y: 305","x:   23<br />y: 305","x:   24<br />y: 301","x:   25<br />y: 302","x:   26<br />y: 303","x:   27<br />y: 302","x:   28<br />y: 301","x:   29<br />y: 300","x:   30<br />y: 303","x:   31<br />y: 303","x:   32<br />y: 303","x:   33<br />y: 305","x:   34<br />y: 305","x:   35<br />y: 303","x:   36<br />y: 303","x:   37<br />y: 302","x:   38<br />y: 299","x:   39<br />y: 290","x:   40<br />y: 285","x:   41<br />y: 291","x:   42<br />y: 290","x:   43<br />y: 288","x:   44<br />y: 288","x:   45<br />y: 289","x:   46<br />y: 287","x:   47<br />y: 289","x:   48<br />y: 289","x:   49<br />y: 290","x:   50<br />y: 289","x:   51<br />y: 290","x:   52<br />y: 290","x:   53<br />y: 290","x:   54<br />y: 294","x:   55<br />y: 307","x:   56<br />y: 333","x:   57<br />y: 312","x:   58<br />y: 321","x:   59<br />y: 316","x:   60<br />y: 316","x:   61<br />y: 330","x:   62<br />y: 329","x:   63<br />y: 330","x:   64<br />y: 325","x:   65<br />y: 317","x:   66<br />y: 321","x:   67<br />y: 317","x:   68<br />y:  NA","x:   69<br />y:  NA","x:   70<br />y: 323","x:   71<br />y: 323","x:   72<br />y: 329","x:   73<br />y: 331","x:   74<br />y: 330","x:   75<br />y: 332","x:   76<br />y: 327","x:   77<br />y: 326","x:   78<br />y: 328","x:   79<br />y: 328","x:   80<br />y: 326","x:   81<br />y: 323","x:   82<br />y: 322","x:   83<br />y: 322","x:   84<br />y: 323","x:   85<br />y: 325","x:   86<br />y: 316","x:   87<br />y: 314","x:   88<br />y: 314","x:   89<br />y:  NA","x:   90<br />y: 311","x:   91<br />y: 313","x:   92<br />y: 314","x:   93<br />y: 314","x:   94<br />y: 317","x:   95<br />y: 325","x:   96<br />y: 323","x:   97<br />y: 320","x:   98<br />y: 320","x:   99<br />y: 324","x:  100<br />y: 316","x:  101<br />y: 317","x:  102<br />y: 316","x:  103<br />y: 316","x:  104<br />y:  NA","x:  105<br />y: 314","x:  106<br />y: 311","x:  107<br />y: 315","x:  108<br />y: 313","x:  109<br />y: 317","x:  110<br />y: 316","x:  111<br />y: 315","x:  112<br />y: 315","x:  113<br />y: 315","x:  114<br />y: 311","x:  115<br />y: 313","x:  116<br />y: 314","x:  117<br />y: 314","x:  118<br />y: 316","x:  119<br />y: 317","x:  120<br />y: 322","x:  121<br />y: 325","x:  122<br />y: 322","x:  123<br />y: 315","x:  124<br />y: 314","x:  125<br />y: 316","x:  126<br />y: 316","x:  127<br />y: 316","x:  128<br />y: 316","x:  129<br />y: 313","x:  130<br />y: 311","x:  131<br />y: 310","x:  132<br />y: 311","x:  133<br />y: 311","x:  134<br />y: 312","x:  135<br />y: 315","x:  136<br />y: 315","x:  137<br />y: 314","x:  138<br />y: 315","x:  139<br />y: 317","x:  140<br />y: 317","x:  141<br />y: 322","x:  142<br />y: 322","x:  143<br />y: 319","x:  144<br />y: 317","x:  145<br />y: 323","x:  146<br />y: 318","x:  147<br />y: 319","x:  148<br />y: 318","x:  149<br />y: 323","x:  150<br />y: 323","x:  151<br />y: 328","x:  152<br />y: 327","x:  153<br />y: 320","x:  154<br />y: 323","x:  155<br />y: 321","x:  156<br />y: 321","x:  157<br />y: 323","x:  158<br />y: 322","x:  159<br />y: 327","x:  160<br />y: 328","x:  161<br />y: 326","x:  162<br />y: 329","x:  163<br />y: 335","x:  164<br />y: 339","x:  165<br />y: 336","x:  166<br />y: 336","x:  167<br />y: 338","x:  168<br />y: 334","x:  169<br />y:  NA","x:  170<br />y: 335","x:  171<br />y: 339","x:  172<br />y: 338","x:  173<br />y: 336","x:  174<br />y: 335","x:  175<br />y: 333","x:  176<br />y: 325","x:  177<br />y: 326","x:  178<br />y: 319","x:  179<br />y: 320","x:  180<br />y: 320","x:  181<br />y: 322","x:  182<br />y: 318","x:  183<br />y: 322","x:  184<br />y: 319","x:  185<br />y: 319","x:  186<br />y: 316","x:  187<br />y: 316","x:  188<br />y: 319","x:  189<br />y: 328","x:  190<br />y: 328","x:  191<br />y: 329","x:  192<br />y: 330","x:  193<br />y: 329","x:  194<br />y: 326","x:  195<br />y: 323","x:  196<br />y: 325","x:  197<br />y: 324","x:  198<br />y: 331","x:  199<br />y: 326","x:  200<br />y: 326","x:  201<br />y: 327","x:  202<br />y: 326","x:  203<br />y: 326","x:  204<br />y: 327","x:  205<br />y: 327","x:  206<br />y: 326","x:  207<br />y: 325","x:  208<br />y: 326","x:  209<br />y: 326","x:  210<br />y: 326","x:  211<br />y: 327","x:  212<br />y: 326","x:  213<br />y: 326","x:  214<br />y: 326","x:  215<br />y: 327","x:  216<br />y: 327","x:  217<br />y: 326","x:  218<br />y: 325","x:  219<br />y: 326","x:  220<br />y: 325","x:  221<br />y: 325","x:  222<br />y: 324","x:  223<br />y: 322","x:  224<br />y: 323","x:  225<br />y: 323","x:  226<br />y: 324","x:  227<br />y: 325","x:  228<br />y: 325","x:  229<br />y: 324","x:  230<br />y: 324","x:  231<br />y: 325","x:  232<br />y: 326","x:  233<br />y: 326","x:  234<br />y: 330","x:  235<br />y: 332","x:  236<br />y: 330","x:  237<br />y: 327","x:  238<br />y: 327","x:  239<br />y: 324","x:  240<br />y: 322","x:  241<br />y: 324","x:  242<br />y: 322","x:  243<br />y: 322","x:  244<br />y: 320","x:  245<br />y: 316","x:  246<br />y: 317","x:  247<br />y: 316","x:  248<br />y: 318","x:  249<br />y: 318","x:  250<br />y: 322","x:  251<br />y: 321","x:  252<br />y: 323","x:  253<br />y: 324","x:  254<br />y: 326","x:  255<br />y: 325","x:  256<br />y:  NA","x:  257<br />y:  NA","x:  258<br />y: 325","x:  259<br />y: 326","x:  260<br />y: 327","x:  261<br />y:  NA","x:  262<br />y: 327","x:  263<br />y: 326","x:  264<br />y: 328","x:  265<br />y: 329","x:  266<br />y: 331","x:  267<br />y: 334","x:  268<br />y: 339","x:  269<br />y: 341","x:  270<br />y: 339","x:  271<br />y: 345","x:  272<br />y: 360","x:  273<br />y: 357","x:  274<br />y: 353","x:  275<br />y: 356","x:  276<br />y: 353","x:  277<br />y: 350","x:  278<br />y: 355","x:  279<br />y: 362","x:  280<br />y: 354","x:  281<br />y: 354","x:  282<br />y: 355","x:  283<br />y: 354","x:  284<br />y: 347","x:  285<br />y: 338","x:  286<br />y: 336","x:  287<br />y: 337","x:  288<br />y: 338","x:  289<br />y: 340","x:  290<br />y: 337","x:  291<br />y: 338","x:  292<br />y: 335","x:  293<br />y: 330","x:  294<br />y: 333","x:  295<br />y: 332","x:  296<br />y: 344","x:  297<br />y: 339","x:  298<br />y: 339","x:  299<br />y: 343","x:  300<br />y: 351","x:  301<br />y: 345","x:  302<br />y: 338","x:  303<br />y: 338","x:  304<br />y: 339","x:  305<br />y: 338","x:  306<br />y: 342","x:  307<br />y: 343","x:  308<br />y: 342","x:  309<br />y: 342","x:  310<br />y: 342","x:  311<br />y: 344","x:  312<br />y: 350","x:  313<br />y: 348","x:  314<br />y: 348","x:  315<br />y: 351","x:  316<br />y: 349","x:  317<br />y: 351","x:  318<br />y: 351","x:  319<br />y: 352","x:  320<br />y: 353","x:  321<br />y: 345","x:  322<br />y: 346","x:  323<br />y:  NA","x:  324<br />y:  NA","x:  325<br />y: 334","x:  326<br />y: 336","x:  327<br />y: 337","x:  328<br />y: 336","x:  329<br />y: 336","x:  330<br />y: 341","x:  331<br />y: 339","x:  332<br />y: 338","x:  333<br />y: 340","x:  334<br />y: 343","x:  335<br />y: 340","x:  336<br />y: 341","x:  337<br />y: 339","x:  338<br />y: 341","x:  339<br />y: 342","x:  340<br />y: 344","x:  341<br />y: 347","x:  342<br />y: 346","x:  343<br />y: 344","x:  344<br />y: 344","x:  345<br />y: 342","x:  346<br />y: 345","x:  347<br />y: 346","x:  348<br />y: 342","x:  349<br />y:  NA","x:  350<br />y: 342","x:  351<br />y: 342","x:  352<br />y: 345","x:  353<br />y: 344","x:  354<br />y: 345","x:  355<br />y: 344","x:  356<br />y: 343","x:  357<br />y: 342","x:  358<br />y: 343","x:  359<br />y: 342","x:  360<br />y: 340","x:  361<br />y: 339","x:  362<br />y: 339","x:  363<br />y: 341","x:  364<br />y:  NA","x:  365<br />y: 341","x:  366<br />y: 342","x:  367<br />y: 343","x:  368<br />y: 343","x:  369<br />y: 343","x:  370<br />y: 342","x:  371<br />y: 341","x:  372<br />y: 342","x:  373<br />y: 342","x:  374<br />y: 342","x:  375<br />y: 348","x:  376<br />y: 348","x:  377<br />y: 348","x:  378<br />y: 347","x:  379<br />y: 346","x:  380<br />y: 337","x:  381<br />y: 338","x:  382<br />y: 339","x:  383<br />y: 339","x:  384<br />y: 340","x:  385<br />y: 341","x:  386<br />y: 343","x:  387<br />y: 344","x:  388<br />y: 344","x:  389<br />y: 346","x:  390<br />y: 346","x:  391<br />y: 344","x:  392<br />y: 344","x:  393<br />y: 344","x:  394<br />y: 344","x:  395<br />y: 346","x:  396<br />y: 350","x:  397<br />y: 348","x:  398<br />y: 348","x:  399<br />y: 346","x:  400<br />y: 346","x:  401<br />y: 348","x:  402<br />y: 347","x:  403<br />y: 347","x:  404<br />y: 353","x:  405<br />y: 354","x:  406<br />y: 352","x:  407<br />y: 348","x:  408<br />y: 349","x:  409<br />y: 351","x:  410<br />y: 353","x:  411<br />y: 351","x:  412<br />y: 376","x:  413<br />y: 360","x:  414<br />y: 359","x:  415<br />y: 358","x:  416<br />y: 361","x:  417<br />y: 361","x:  418<br />y: 362","x:  419<br />y: 394","x:  420<br />y: 386","x:  421<br />y: 391","x:  422<br />y: 384","x:  423<br />y: 386","x:  424<br />y: 377","x:  425<br />y: 372","x:  426<br />y: 379","x:  427<br />y: 382","x:  428<br />y: 385","x:  429<br />y:  NA","x:  430<br />y: 397","x:  431<br />y: 378","x:  432<br />y: 384","x:  433<br />y: 386","x:  434<br />y: 392","x:  435<br />y: 396","x:  436<br />y: 407","x:  437<br />y: 404","x:  438<br />y: 418","x:  439<br />y: 419","x:  440<br />y: 412","x:  441<br />y: 414","x:  442<br />y: 407","x:  443<br />y: 419","x:  444<br />y: 416","x:  445<br />y: 414","x:  446<br />y: 414","x:  447<br />y: 416","x:  448<br />y: 423","x:  449<br />y: 443","x:  450<br />y: 435","x:  451<br />y: 434","x:  452<br />y: 432","x:  453<br />y: 434","x:  454<br />y: 429","x:  455<br />y: 421","x:  456<br />y: 426","x:  457<br />y: 426","x:  458<br />y: 437","x:  459<br />y: 436","x:  460<br />y: 442","x:  461<br />y: 439","x:  462<br />y: 436","x:  463<br />y: 428","x:  464<br />y: 431","x:  465<br />y: 431","x:  466<br />y: 426","x:  467<br />y: 426","x:  468<br />y: 420","x:  469<br />y: 420","x:  470<br />y: 427","x:  471<br />y: 427","x:  472<br />y: 425","x:  473<br />y: 413","x:  474<br />y: 410","x:  475<br />y: 410","x:  476<br />y: 408","x:  477<br />y: 404","x:  478<br />y: 402","x:  479<br />y: 400","x:  480<br />y: 408","x:  481<br />y: 410","x:  482<br />y: 405","x:  483<br />y: 408","x:  484<br />y: 410","x:  485<br />y: 407","x:  486<br />y: 407","x:  487<br />y: 407","x:  488<br />y: 409","x:  489<br />y: 393","x:  490<br />y: 388","x:  491<br />y: 392","x:  492<br />y: 387","x:  493<br />y: 390","x:  494<br />y: 380","x:  495<br />y: 381","x:  496<br />y: 384","x:  497<br />y: 382","x:  498<br />y: 390","x:  499<br />y: 400","x:  500<br />y: 394","x:  501<br />y: 385","x:  502<br />y: 391","x:  503<br />y: 389","x:  504<br />y: 390","x:  505<br />y: 389","x:  506<br />y: 387","x:  507<br />y: 389","x:  508<br />y: 390","x:  509<br />y: 395","x:  510<br />y: 394","x:  511<br />y: 393","x:  512<br />y: 392","x:  513<br />y: 394","x:  514<br />y: 395","x:  515<br />y: 393","x:  516<br />y: 391","x:  517<br />y:  NA","x:  518<br />y:  NA","x:  519<br />y: 391","x:  520<br />y: 389","x:  521<br />y: 391","x:  522<br />y:  NA","x:  523<br />y: 402","x:  524<br />y: 399","x:  525<br />y: 402","x:  526<br />y: 400","x:  527<br />y: 402","x:  528<br />y: 402","x:  529<br />y: 410","x:  530<br />y: 409","x:  531<br />y: 414","x:  532<br />y: 415","x:  533<br />y: 414","x:  534<br />y: 421","x:  535<br />y: 417","x:  536<br />y: 408","x:  537<br />y: 411","x:  538<br />y: 404","x:  539<br />y: 403","x:  540<br />y: 409","x:  541<br />y: 416","x:  542<br />y: 411","x:  543<br />y: 407","x:  544<br />y: 406","x:  545<br />y: 402","x:  546<br />y: 402","x:  547<br />y: 403","x:  548<br />y: 403","x:  549<br />y: 403","x:  550<br />y: 404","x:  551<br />y: 403","x:  552<br />y: 402","x:  553<br />y: 396","x:  554<br />y: 397","x:  555<br />y: 397","x:  556<br />y: 392","x:  557<br />y: 393","x:  558<br />y: 398","x:  559<br />y: 403","x:  560<br />y: 402","x:  561<br />y: 407","x:  562<br />y: 403","x:  563<br />y: 409","x:  564<br />y: 404","x:  565<br />y: 404","x:  566<br />y: 408","x:  567<br />y: 411","x:  568<br />y: 406","x:  569<br />y: 405","x:  570<br />y: 405","x:  571<br />y: 407","x:  572<br />y: 408","x:  573<br />y: 409","x:  574<br />y: 405","x:  575<br />y: 406","x:  576<br />y: 406","x:  577<br />y: 405","x:  578<br />y: 405","x:  579<br />y: 407","x:  580<br />y: 410","x:  581<br />y: 415","x:  582<br />y: 411","x:  583<br />y: 416","x:  584<br />y: 422","x:  585<br />y: 419","x:  586<br />y: 418","x:  587<br />y: 420","x:  588<br />y: 419","x:  589<br />y: 421","x:  590<br />y: 420","x:  591<br />y: 423","x:  592<br />y: 422","x:  593<br />y: 423","x:  594<br />y: 436","x:  595<br />y: 440","x:  596<br />y: 446","x:  597<br />y: 441","x:  598<br />y:  NA","x:  599<br />y:  NA","x:  600<br />y: 454","x:  601<br />y: 447","x:  602<br />y: 453","x:  603<br />y: 463","x:  604<br />y: 477","x:  605<br />y: 456","x:  606<br />y: 452","x:  607<br />y: 454","x:  608<br />y: 452","x:  609<br />y:  NA","x:  610<br />y: 464","x:  611<br />y: 457","x:  612<br />y: 457","x:  613<br />y: 457","x:  614<br />y: 455","x:  615<br />y: 460","x:  616<br />y: 460","x:  617<br />y: 460","x:  618<br />y: 467","x:  619<br />y: 476","x:  620<br />y: 471","x:  621<br />y: 480","x:  622<br />y: 469","x:  623<br />y: 474","x:  624<br />y:  NA","x:  625<br />y: 460","x:  626<br />y: 448","x:  627<br />y: 453","x:  628<br />y: 452","x:  629<br />y: 443","x:  630<br />y: 449","x:  631<br />y: 453","x:  632<br />y: 450","x:  633<br />y: 455","x:  634<br />y: 454","x:  635<br />y: 452","x:  636<br />y: 457","x:  637<br />y: 456","x:  638<br />y: 461","x:  639<br />y: 450","x:  640<br />y: 453","x:  641<br />y: 448","x:  642<br />y: 451","x:  643<br />y: 452","x:  644<br />y: 444","x:  645<br />y: 438","x:  646<br />y: 443","x:  647<br />y: 439","x:  648<br />y: 441","x:  649<br />y: 446","x:  650<br />y: 447","x:  651<br />y: 450","x:  652<br />y: 447","x:  653<br />y: 443","x:  654<br />y: 443","x:  655<br />y: 445","x:  656<br />y: 442","x:  657<br />y: 445","x:  658<br />y: 444","x:  659<br />y: 444","x:  660<br />y: 447","x:  661<br />y: 448","x:  662<br />y: 453","x:  663<br />y: 452","x:  664<br />y: 450","x:  665<br />y: 452","x:  666<br />y: 454","x:  667<br />y: 455","x:  668<br />y: 454","x:  669<br />y: 453","x:  670<br />y: 454","x:  671<br />y: 460","x:  672<br />y: 457","x:  673<br />y: 464","x:  674<br />y: 473","x:  675<br />y: 476","x:  676<br />y: 470","x:  677<br />y: 469","x:  678<br />y: 464","x:  679<br />y: 460","x:  680<br />y: 463","x:  681<br />y: 461","x:  682<br />y: 462","x:  683<br />y: 457","x:  684<br />y: 455","x:  685<br />y: 455","x:  686<br />y: 458","x:  687<br />y: 457","x:  688<br />y: 454","x:  689<br />y: 456","x:  690<br />y: 458","x:  691<br />y: 457","x:  692<br />y: 458","x:  693<br />y: 456","x:  694<br />y:  NA","x:  695<br />y: 453","x:  696<br />y: 457","x:  697<br />y: 462","x:  698<br />y: 464","x:  699<br />y: 463","x:  700<br />y: 463","x:  701<br />y: 458","x:  702<br />y: 461","x:  703<br />y: 461","x:  704<br />y: 457","x:  705<br />y: 458","x:  706<br />y: 458","x:  707<br />y: 459","x:  708<br />y: 461","x:  709<br />y: 459","x:  710<br />y: 463","x:  711<br />y: 461","x:  712<br />y: 464","x:  713<br />y: 461","x:  714<br />y: 461","x:  715<br />y: 459","x:  716<br />y: 459","x:  717<br />y: 454","x:  718<br />y: 455","x:  719<br />y: 455","x:  720<br />y: 457","x:  721<br />y: 459","x:  722<br />y: 458","x:  723<br />y: 462","x:  724<br />y: 462","x:  725<br />y: 460","x:  726<br />y: 459","x:  727<br />y: 462","x:  728<br />y: 464","x:  729<br />y: 480","x:  730<br />y: 482","x:  731<br />y: 467","x:  732<br />y: 470","x:  733<br />y: 473","x:  734<br />y: 475","x:  735<br />y: 473","x:  736<br />y: 480","x:  737<br />y: 474","x:  738<br />y: 468","x:  739<br />y: 470","x:  740<br />y: 470","x:  741<br />y: 467","x:  742<br />y: 460","x:  743<br />y: 459","x:  744<br />y: 464","x:  745<br />y: 459","x:  746<br />y: 461","x:  747<br />y: 463","x:  748<br />y: 464","x:  749<br />y: 462","x:  750<br />y: 464","x:  751<br />y: 464","x:  752<br />y: 466","x:  753<br />y: 466","x:  754<br />y: 468","x:  755<br />y: 477","x:  756<br />y: 479","x:  757<br />y: 478","x:  758<br />y: 478","x:  759<br />y: 494","x:  760<br />y: 487","x:  761<br />y: 490","x:  762<br />y: 489","x:  763<br />y: 486","x:  764<br />y: 481","x:  765<br />y: 483","x:  766<br />y: 485","x:  767<br />y: 484","x:  768<br />y: 495","x:  769<br />y: 503","x:  770<br />y: 594","x:  771<br />y: 487","x:  772<br />y: 488","x:  773<br />y: 485","x:  774<br />y: 481","x:  775<br />y: 482","x:  776<br />y: 483","x:  777<br />y: 484","x:  778<br />y:  NA","x:  779<br />y:  NA","x:  780<br />y: 490","x:  781<br />y: 487","x:  782<br />y: 486","x:  783<br />y:  NA","x:  784<br />y: 484","x:  785<br />y: 477","x:  786<br />y: 482","x:  787<br />y: 484","x:  788<br />y: 480","x:  789<br />y: 485","x:  790<br />y: 482","x:  791<br />y: 481","x:  792<br />y: 481","x:  793<br />y: 485","x:  794<br />y: 476","x:  795<br />y: 477","x:  796<br />y: 478","x:  797<br />y: 476","x:  798<br />y: 478","x:  799<br />y: 471","x:  800<br />y: 471","x:  801<br />y: 469","x:  802<br />y: 468","x:  803<br />y: 465","x:  804<br />y: 455","x:  805<br />y: 455","x:  806<br />y: 447","x:  807<br />y: 438","x:  808<br />y: 444","x:  809<br />y: 443","x:  810<br />y: 439","x:  811<br />y: 444","x:  812<br />y: 440","x:  813<br />y: 440","x:  814<br />y: 444","x:  815<br />y: 444","x:  816<br />y: 444","x:  817<br />y: 446","x:  818<br />y: 443","x:  819<br />y: 445","x:  820<br />y: 444","x:  821<br />y: 438","x:  822<br />y: 434","x:  823<br />y: 433","x:  824<br />y: 424","x:  825<br />y: 429","x:  826<br />y: 432","x:  827<br />y: 429","x:  828<br />y: 431","x:  829<br />y: 436","x:  830<br />y: 436","x:  831<br />y: 436","x:  832<br />y: 437","x:  833<br />y: 444","x:  834<br />y: 442","x:  835<br />y: 442","x:  836<br />y: 447","x:  837<br />y: 445","x:  838<br />y: 443","x:  839<br />y: 446","x:  840<br />y: 449","x:  841<br />y: 450","x:  842<br />y: 454","x:  843<br />y: 452","x:  844<br />y: 453","x:  845<br />y: 455","x:  846<br />y: 454","x:  847<br />y: 458","x:  848<br />y:  NA","x:  849<br />y:  NA","x:  850<br />y: 456","x:  851<br />y: 451","x:  852<br />y: 446","x:  853<br />y: 449","x:  854<br />y: 450","x:  855<br />y: 450","x:  856<br />y: 448","x:  857<br />y: 447","x:  858<br />y: 454","x:  859<br />y: 458","x:  860<br />y: 457","x:  861<br />y: 458","x:  862<br />y: 454","x:  863<br />y: 453","x:  864<br />y: 450","x:  865<br />y: 448","x:  866<br />y: 449","x:  867<br />y: 452","x:  868<br />y: 450","x:  869<br />y:  NA","x:  870<br />y: 444","x:  871<br />y: 442","x:  872<br />y: 445","x:  873<br />y: 446","x:  874<br />y: 444","x:  875<br />y: 447","x:  876<br />y: 449","x:  877<br />y: 449","x:  878<br />y: 451","x:  879<br />y: 453","x:  880<br />y: 453","x:  881<br />y: 453","x:  882<br />y: 457","x:  883<br />y: 460","x:  884<br />y: 460","x:  885<br />y: 459","x:  886<br />y: 459","x:  887<br />y: 453","x:  888<br />y: 452","x:  889<br />y:  NA","x:  890<br />y: 454","x:  891<br />y: 457","x:  892<br />y: 455","x:  893<br />y: 465","x:  894<br />y: 464","x:  895<br />y: 463","x:  896<br />y: 459","x:  897<br />y: 455","x:  898<br />y: 457","x:  899<br />y: 450","x:  900<br />y: 451","x:  901<br />y: 450","x:  902<br />y: 453","x:  903<br />y: 450","x:  904<br />y: 454","x:  905<br />y: 452","x:  906<br />y: 450","x:  907<br />y: 448","x:  908<br />y: 447","x:  909<br />y: 442","x:  910<br />y: 444","x:  911<br />y: 435","x:  912<br />y: 437","x:  913<br />y: 436","x:  914<br />y: 437","x:  915<br />y: 437","x:  916<br />y: 438","x:  917<br />y: 439","x:  918<br />y: 439","x:  919<br />y: 440","x:  920<br />y: 434","x:  921<br />y: 436","x:  922<br />y: 439","x:  923<br />y: 438","x:  924<br />y: 438","x:  925<br />y: 437","x:  926<br />y: 445","x:  927<br />y: 443","x:  928<br />y: 443","x:  929<br />y: 442","x:  930<br />y: 430","x:  931<br />y: 432","x:  932<br />y: 429","x:  933<br />y: 433","x:  934<br />y: 436","x:  935<br />y: 433","x:  936<br />y: 431","x:  937<br />y: 433","x:  938<br />y: 431","x:  939<br />y: 432","x:  940<br />y: 428","x:  941<br />y: 427","x:  942<br />y: 429","x:  943<br />y: 428","x:  944<br />y: 431","x:  945<br />y: 432","x:  946<br />y: 429","x:  947<br />y: 430","x:  948<br />y: 432","x:  949<br />y: 430","x:  950<br />y: 433","x:  951<br />y: 432","x:  952<br />y: 435","x:  953<br />y: 434","x:  954<br />y:  NA","x:  955<br />y: 429","x:  956<br />y: 426","x:  957<br />y: 430","x:  958<br />y: 430","x:  959<br />y: 427","x:  960<br />y: 428","x:  961<br />y: 427","x:  962<br />y: 428","x:  963<br />y: 429","x:  964<br />y: 418","x:  965<br />y: 421","x:  966<br />y: 422","x:  967<br />y: 422","x:  968<br />y: 417","x:  969<br />y: 409","x:  970<br />y: 410","x:  971<br />y: 402","x:  972<br />y: 400","x:  973<br />y: 399","x:  974<br />y: 389","x:  975<br />y: 397","x:  976<br />y: 398","x:  977<br />y: 399","x:  978<br />y: 396","x:  979<br />y: 394","x:  980<br />y: 397","x:  981<br />y: 397","x:  982<br />y: 403","x:  983<br />y: 404","x:  984<br />y: 406","x:  985<br />y: 408","x:  986<br />y: 405","x:  987<br />y: 409","x:  988<br />y: 406","x:  989<br />y: 411","x:  990<br />y: 413","x:  991<br />y: 411","x:  992<br />y: 411","x:  993<br />y: 411","x:  994<br />y: 406","x:  995<br />y: 407","x:  996<br />y: 408","x:  997<br />y: 407","x:  998<br />y: 407","x:  999<br />y: 412","x: 1000<br />y: 411","x: 1001<br />y: 412","x: 1002<br />y: 423","x: 1003<br />y: 420","x: 1004<br />y: 422","x: 1005<br />y: 422","x: 1006<br />y: 420","x: 1007<br />y: 422","x: 1008<br />y: 421","x: 1009<br />y: 421","x: 1010<br />y: 423","x: 1011<br />y: 423","x: 1012<br />y: 423","x: 1013<br />y: 420","x: 1014<br />y: 417","x: 1015<br />y: 416","x: 1016<br />y: 418","x: 1017<br />y: 420","x: 1018<br />y: 423","x: 1019<br />y: 421","x: 1020<br />y: 422","x: 1021<br />y: 421","x: 1022<br />y: 426","x: 1023<br />y: 424","x: 1024<br />y: 430","x: 1025<br />y: 429","x: 1026<br />y: 425","x: 1027<br />y: 423","x: 1028<br />y: 422","x: 1029<br />y: 421","x: 1030<br />y: 420","x: 1031<br />y: 420","x: 1032<br />y: 421","x: 1033<br />y: 413","x: 1034<br />y: 414","x: 1035<br />y: 413","x: 1036<br />y: 414","x: 1037<br />y: 416","x: 1038<br />y: 418","x: 1039<br />y:  NA","x: 1040<br />y:  NA","x: 1041<br />y: 414","x: 1042<br />y: 413","x: 1043<br />y: 410","x: 1044<br />y:  NA","x: 1045<br />y: 414","x: 1046<br />y: 410","x: 1047<br />y: 408","x: 1048<br />y: 408","x: 1049<br />y: 404","x: 1050<br />y: 406","x: 1051<br />y: 404","x: 1052<br />y: 405","x: 1053<br />y: 404","x: 1054<br />y: 402","x: 1055<br />y: 402","x: 1056<br />y: 403","x: 1057<br />y: 402","x: 1058<br />y: 404","x: 1059<br />y: 408","x: 1060<br />y: 408","x: 1061<br />y: 405","x: 1062<br />y: 406","x: 1063<br />y: 402","x: 1064<br />y: 394","x: 1065<br />y: 395","x: 1066<br />y: 392","x: 1067<br />y: 393","x: 1068<br />y: 391","x: 1069<br />y: 390","x: 1070<br />y: 391","x: 1071<br />y: 390","x: 1072<br />y: 394","x: 1073<br />y: 394","x: 1074<br />y: 387","x: 1075<br />y: 386","x: 1076<br />y: 382","x: 1077<br />y: 384","x: 1078<br />y: 379","x: 1079<br />y: 382","x: 1080<br />y: 383","x: 1081<br />y: 386","x: 1082<br />y: 389","x: 1083<br />y: 389","x: 1084<br />y: 391","x: 1085<br />y: 387","x: 1086<br />y: 386","x: 1087<br />y: 384","x: 1088<br />y: 384","x: 1089<br />y: 388","x: 1090<br />y: 386","x: 1091<br />y: 393","x: 1092<br />y: 392","x: 1093<br />y: 397","x: 1094<br />y: 393","x: 1095<br />y: 394","x: 1096<br />y: 394","x: 1097<br />y: 391","x: 1098<br />y: 389","x: 1099<br />y: 395","x: 1100<br />y: 394","x: 1101<br />y: 393","x: 1102<br />y: 396","x: 1103<br />y:  NA","x: 1104<br />y:  NA","x: 1105<br />y: 391","x: 1106<br />y: 383","x: 1107<br />y: 384","x: 1108<br />y: 382"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":43.1050228310502},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-54.35,1163.35],"tickmode":"array","ticktext":["0","300","600","900"],"tickvals":[7.105427357601e-15,300,600,900],"categoryorder":"array","categoryarray":["0","300","600","900"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"x","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[269.565,609.135],"tickmode":"array","ticktext":["300","400","500","600"],"tickvals":[300,400,500,600],"categoryorder":"array","categoryarray":["300","400","500","600"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"y","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative","dragmode":"pan"},"config":{"doubleClick":"reset","cloud":false},"source":"A","attrs":{"14d9049893aaf":{"x":{},"y":{},"type":"scatter"}},"cur_data":"14d9049893aaf","visdat":{"14d9049893aaf":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p class="caption">
FIGURE 37.1: Customizing the dragmode of an interactive ggplot2 graph.
</p>
</div>
<p>Perhaps a more useful application is to add a range slider to the x-axis, which allows you to zoom on the x-axis without losing the global context. This is quite useful for quickly altering the limits of your plot to achieve an optimal aspect ratio for your data without losing the global perspective <span class="citation">(William S. Cleveland <a href="#ref-banking" role="doc-biblioref">1988</a>)</span>. Figure <a href="modifying-ggplotly.html#fig:ggplotly-rangeslider">37.2</a> uses the <code>rangeslider()</code> function to add a rangeslider to the plot.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rangeslider</span>(gg)</code></pre>
<div class="figure" style="text-align: center"><span id="fig:ggplotly-rangeslider"></span>
<div id="htmlwidget-2f591f1b4cd6fe6f33f6" style="width:100%;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-2f591f1b4cd6fe6f33f6">{"x":{"data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480,481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560,561,562,563,564,565,566,567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599,600,601,602,603,604,605,606,607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,630,631,632,633,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,689,690,691,692,693,694,695,696,697,698,699,700,701,702,703,704,705,706,707,708,709,710,711,712,713,714,715,716,717,718,719,720,721,722,723,724,725,726,727,728,729,730,731,732,733,734,735,736,737,738,739,740,741,742,743,744,745,746,747,748,749,750,751,752,753,754,755,756,757,758,759,760,761,762,763,764,765,766,767,768,769,770,771,772,773,774,775,776,777,778,779,780,781,782,783,784,785,786,787,788,789,790,791,792,793,794,795,796,797,798,799,800,801,802,803,804,805,806,807,808,809,810,811,812,813,814,815,816,817,818,819,820,821,822,823,824,825,826,827,828,829,830,831,832,833,834,835,836,837,838,839,840,841,842,843,844,845,846,847,848,849,850,851,852,853,854,855,856,857,858,859,860,861,862,863,864,865,866,867,868,869,870,871,872,873,874,875,876,877,878,879,880,881,882,883,884,885,886,887,888,889,890,891,892,893,894,895,896,897,898,899,900,901,902,903,904,905,906,907,908,909,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,930,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,975,976,977,978,979,980,981,982,983,984,985,986,987,988,989,990,991,992,993,994,995,996,997,998,999,1000,1001,1002,1003,1004,1005,1006,1007,1008,1009,1010,1011,1012,1013,1014,1015,1016,1017,1018,1019,1020,1021,1022,1023,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108],"y":[306.25,299.5,303.45,296.75,304.4,298.35,304,304,301.25,302.5,302.45,305.8,306.9,307,306.85,302.15,301.9,299.25,298.6,303.5,303,304.9,304.8,301.25,301.75,303.45,302.5,300.6,300,303.45,302.8,303.4,304.9,304.95,302.9,302.85,302,298.8,290,285,290.75,290.5,288.1,288.3,288.85,286.7,289.3,289,290.25,288.75,290.1,290.25,289.9,293.7,307.25,333.25,312.5,320.75,315.9,316,329.9,328.75,329.8,324.65,317,321.1,317,null,null,323.1,323.3,329,331.25,330.3,331.5,327,325.5,327.7,328.1,326,322.6,322.4,322.5,323,324.65,315.6,314.25,313.7,null,311.25,313.35,314.5,313.55,316.75,324.75,322.85,320.4,319.8,323.65,316.5,317.4,316.4,316.35,null,313.9,311.2,315,313.15,316.85,316.25,314.75,314.9,315,310.75,313.25,313.75,314.1,315.75,317.25,321.65,325.2,322,315.25,314.1,315.9,316.5,316.25,316.5,313.35,310.85,310.4,310.7,310.9,312.2,314.8,314.7,313.8,315.05,317.15,316.8,321.7,322.25,319,317.4,322.75,318.5,319.4,317.6,323,323.25,328.1,326.75,319.65,323,321.4,320.65,322.9,322.4,326.6,328.5,326.2,328.9,335.4,339.25,335.5,335.75,337.6,333.6,null,335.25,339.3,338.4,335.75,335.45,332.7,325,326,318.75,320.2,320,322,318,321.75,318.85,318.7,315.5,315.9,319.2,328.1,328.4,328.7,330.4,328.95,326.5,323.15,324.75,324.35,330.55,326.25,326.1,326.95,325.55,325.8,326.6,326.85,325.9,324.6,326.25,326.5,325.9,326.9,325.95,325.65,326.5,326.55,326.8,325.75,324.65,325.6,324.55,324.75,323.6,322.1,323.25,322.7,324.5,325,324.55,323.75,324.1,325.05,325.75,326,330.5,331.5,330.45,326.75,327.4,323.95,322.5,324.5,322.5,322.5,320.15,316.1,316.8,316.05,317.9,318.25,321.9,321.1,323.4,323.55,325.75,324.85,null,null,324.8,326.15,327,null,327.1,326,327.8,328.9,330.9,333.9,339.45,340.75,338.8,345.3,359.6,357.25,353.25,356.5,352.75,349.5,355.25,361.75,353.8,354.4,355.4,354,347.35,338.5,335.95,337.1,337.9,340.5,337.2,338.35,335.4,329.5,333,332.4,343.7,339.25,339,343.35,351.4,345.1,337.85,338.25,339.45,337.9,342.2,343,342,341.8,341.65,344.5,349.8,347.6,348.2,350.8,349.25,350.6,351.35,352.4,352.9,344.9,345.5,null,null,333.7,335.5,336.6,335.6,336.5,340.65,338.65,338.15,340.25,343.2,340.25,340.75,339.3,341,342.45,344.15,347.25,346,344.3,344.4,342.35,344.75,345.6,341.6,null,341.55,342.15,344.6,344.25,344.9,343.8,342.75,342.5,342.75,342.05,340.3,338.6,339.4,340.85,null,341.15,341.6,342.75,343.35,343,341.85,341.4,341.5,341.5,341.85,347.55,347.5,347.95,347.4,346.5,337.3,338.5,338.7,338.9,340.5,340.75,343.25,343.8,343.55,345.5,345.65,344,343.5,343.8,344.45,346.5,350.35,347.5,347.65,346.2,345.85,348.35,346.9,347.1,353,353.5,351.75,348.5,349,350.8,353.3,351.35,375.75,360.5,358.75,358.5,360.85,360.85,361.85,394.5,386.1,391.25,384,386.4,377.25,372.5,379,381.75,384.65,null,397.3,377.8,384,386,392,395.5,407.2,404,418.25,419,412.5,414.5,407,418.75,416,413.55,413.6,415.7,423,442.75,435.15,434,432.25,434,429.45,421.2,425.5,425.5,436.9,436.5,442,439.4,435.8,428.15,431.4,431.25,426.25,426,420,420,426.8,426.6,425.4,413,409.6,409.55,407.75,404,401.5,400.3,408.5,410.25,405,408.3,409.9,407.4,407.45,406.85,409,393.25,388,391.5,387,389.5,380.4,380.75,384,382.3,390,399.6,394.3,385.25,391.2,388.6,390.5,389.2,387.25,388.75,389.7,394.6,393.7,393.4,392.5,394.15,395.35,392.75,391,null,null,391.4,389.4,390.9,null,402.4,399,401.7,399.5,401.6,402.25,409.9,408.6,414.4,415,414.5,421.25,417.4,408.5,410.6,403.55,403.35,408.7,416.5,411,407.3,406.45,402,401.75,402.6,402.7,402.95,404.4,402.9,402,395.55,397.2,396.85,392.25,392.6,397.5,403,401.95,406.7,403.1,408.7,404.4,403.7,407.65,411.45,406.5,404.85,405,406.85,408,409.25,404.65,406,406.4,405.05,405,406.6,410.3,415,411.3,415.9,421.8,419,418.5,420.25,418.65,420.55,419.8,423.2,421.5,423.3,436.5,440.25,445.5,441,null,null,454.3,446.8,453,462.6,476.6,455.75,451.75,454.5,452.15,null,464.5,456.75,457.4,456.7,454.75,460.25,459.5,460,466.7,476.5,471.35,479.95,468.6,473.6,null,459.65,447.9,453.35,451.75,443.4,449.3,453.35,450.25,454.7,454.4,452.05,456.65,456.4,460.8,450.35,452.75,448.25,451.1,452.25,443.6,438.1,443,439,441.4,446,447.1,449.5,447.4,443,443.1,444.8,442.15,445.3,444.25,443.7,447.15,448.25,452.9,452.5,449.65,452.5,454.45,454.75,454,453.1,454.2,459.5,457.2,464.2,473.25,476,469.85,468.85,464,459.5,463.2,461,462,457.4,454.8,454.9,457.65,457.4,454.1,455.8,458.5,457.4,458.25,455.9,null,453.1,456.55,462.15,464.4,463.35,462.75,458,461,460.9,456.6,458.35,458.5,458.8,461.35,458.85,463.15,461.05,463.85,461,460.9,458.9,459.15,454.1,455,455.15,456.85,458.55,458.25,461.75,461.85,459.65,459.45,461.75,464.25,479.5,481.6,466.65,469.8,472.65,474.85,473.45,479.65,474.05,468,469.95,470.1,467,459.7,458.6,463.5,458.75,461.3,463,464.2,461.75,463.55,464.2,465.8,466.25,468.25,476.95,478.75,477.65,477.8,493.9,486.9,490,488.95,485.75,480.9,483,485.3,484.5,495,502.75,593.7,487.05,487.75,484.55,481,481.6,483.25,483.75,null,null,489.55,486.9,486.5,null,484.1,477.3,481.6,483.95,479.5,485.3,482.05,481.4,480.9,484.8,475.85,476.75,477.75,476.5,477.85,471.4,471.4,469.4,468,465.25,454.65,455.15,447.1,437.6,444.15,443.05,439.25,443.8,440.2,440.3,443.6,444.25,444.4,446.25,443.45,445.1,443.95,438,433.95,432.65,423.75,429.15,431.55,429.15,430.75,436,435.7,436.1,437.25,444.1,441.9,442.25,447.15,445.35,442.8,446.5,449.4,450,453.9,451.5,453.1,454.7,454,458,null,null,456,450.8,446.25,448.6,450.15,450.2,448.5,447,453.85,457.55,456.55,458,454,453.15,449.75,448.25,449.1,452.15,449.75,null,444.3,441.95,445.35,445.95,443.6,447.1,449.35,448.65,451.05,453.4,453.15,452.7,456.65,459.5,460.25,458.6,458.6,453,452.5,null,454,457,454.6,464.85,464.1,463.4,458.75,455,457.1,450.5,450.8,450.3,452.65,449.8,453.9,451.7,449.8,447.6,447,442,443.85,434.9,436.85,436.5,437.15,437.4,438.1,439.15,438.9,439.65,434.5,436.2,439.05,438.1,437.65,437.25,445,443.2,443.2,442.2,430.15,431.7,428.75,432.7,436.4,432.9,431.25,433.4,431.45,431.85,428.25,426.95,429,428.4,431.15,432,429,430.2,432.4,429.7,432.7,432.1,434.8,433.75,null,429.4,426.35,430.3,430.3,427,427.65,427,428,428.9,418,420.8,421.9,421.5,417.3,409,410.4,401.6,399.6,399.3,389.05,397,397.65,398.6,396.15,394.2,397.35,397.25,403,404.25,406.25,408,404.7,408.6,406.5,411.15,413.05,410.8,411.4,410.55,406.3,406.6,407.5,407.15,407.3,412.3,411,412.5,422.9,419.5,422,421.85,419.5,422.25,420.75,420.65,422.8,422.6,423.3,419.75,416.6,416.1,417.95,419.85,422.6,421.4,422.1,421.3,425.5,423.8,430.4,429,425.35,423.3,422.2,421,420.05,419.6,421.4,412.6,413.65,413.2,413.85,415.6,417.55,null,null,413.65,413.1,410.15,null,413.6,410.5,408,408.45,404.45,405.5,403.5,404.85,403.5,401.75,402.1,402.85,402.3,404.5,407.75,407.8,404.75,406,402.25,394.3,394.85,392,392.7,390.85,390.25,391.45,390.4,394.1,393.8,386.7,385.65,381.7,384.25,378.95,382.15,382.75,386,389,389.25,390.75,386.75,386.1,384.1,384.1,388.4,386.3,393.1,392.5,397,393.1,394.3,394.45,391,389.25,395.3,394.1,393.4,396,null,null,391.25,383.3,384,382.3],"text":["x:    1<br />y: 306","x:    2<br />y: 300","x:    3<br />y: 303","x:    4<br />y: 297","x:    5<br />y: 304","x:    6<br />y: 298","x:    7<br />y: 304","x:    8<br />y: 304","x:    9<br />y: 301","x:   10<br />y: 302","x:   11<br />y: 302","x:   12<br />y: 306","x:   13<br />y: 307","x:   14<br />y: 307","x:   15<br />y: 307","x:   16<br />y: 302","x:   17<br />y: 302","x:   18<br />y: 299","x:   19<br />y: 299","x:   20<br />y: 304","x:   21<br />y: 303","x:   22<br />y: 305","x:   23<br />y: 305","x:   24<br />y: 301","x:   25<br />y: 302","x:   26<br />y: 303","x:   27<br />y: 302","x:   28<br />y: 301","x:   29<br />y: 300","x:   30<br />y: 303","x:   31<br />y: 303","x:   32<br />y: 303","x:   33<br />y: 305","x:   34<br />y: 305","x:   35<br />y: 303","x:   36<br />y: 303","x:   37<br />y: 302","x:   38<br />y: 299","x:   39<br />y: 290","x:   40<br />y: 285","x:   41<br />y: 291","x:   42<br />y: 290","x:   43<br />y: 288","x:   44<br />y: 288","x:   45<br />y: 289","x:   46<br />y: 287","x:   47<br />y: 289","x:   48<br />y: 289","x:   49<br />y: 290","x:   50<br />y: 289","x:   51<br />y: 290","x:   52<br />y: 290","x:   53<br />y: 290","x:   54<br />y: 294","x:   55<br />y: 307","x:   56<br />y: 333","x:   57<br />y: 312","x:   58<br />y: 321","x:   59<br />y: 316","x:   60<br />y: 316","x:   61<br />y: 330","x:   62<br />y: 329","x:   63<br />y: 330","x:   64<br />y: 325","x:   65<br />y: 317","x:   66<br />y: 321","x:   67<br />y: 317","x:   68<br />y:  NA","x:   69<br />y:  NA","x:   70<br />y: 323","x:   71<br />y: 323","x:   72<br />y: 329","x:   73<br />y: 331","x:   74<br />y: 330","x:   75<br />y: 332","x:   76<br />y: 327","x:   77<br />y: 326","x:   78<br />y: 328","x:   79<br />y: 328","x:   80<br />y: 326","x:   81<br />y: 323","x:   82<br />y: 322","x:   83<br />y: 322","x:   84<br />y: 323","x:   85<br />y: 325","x:   86<br />y: 316","x:   87<br />y: 314","x:   88<br />y: 314","x:   89<br />y:  NA","x:   90<br />y: 311","x:   91<br />y: 313","x:   92<br />y: 314","x:   93<br />y: 314","x:   94<br />y: 317","x:   95<br />y: 325","x:   96<br />y: 323","x:   97<br />y: 320","x:   98<br />y: 320","x:   99<br />y: 324","x:  100<br />y: 316","x:  101<br />y: 317","x:  102<br />y: 316","x:  103<br />y: 316","x:  104<br />y:  NA","x:  105<br />y: 314","x:  106<br />y: 311","x:  107<br />y: 315","x:  108<br />y: 313","x:  109<br />y: 317","x:  110<br />y: 316","x:  111<br />y: 315","x:  112<br />y: 315","x:  113<br />y: 315","x:  114<br />y: 311","x:  115<br />y: 313","x:  116<br />y: 314","x:  117<br />y: 314","x:  118<br />y: 316","x:  119<br />y: 317","x:  120<br />y: 322","x:  121<br />y: 325","x:  122<br />y: 322","x:  123<br />y: 315","x:  124<br />y: 314","x:  125<br />y: 316","x:  126<br />y: 316","x:  127<br />y: 316","x:  128<br />y: 316","x:  129<br />y: 313","x:  130<br />y: 311","x:  131<br />y: 310","x:  132<br />y: 311","x:  133<br />y: 311","x:  134<br />y: 312","x:  135<br />y: 315","x:  136<br />y: 315","x:  137<br />y: 314","x:  138<br />y: 315","x:  139<br />y: 317","x:  140<br />y: 317","x:  141<br />y: 322","x:  142<br />y: 322","x:  143<br />y: 319","x:  144<br />y: 317","x:  145<br />y: 323","x:  146<br />y: 318","x:  147<br />y: 319","x:  148<br />y: 318","x:  149<br />y: 323","x:  150<br />y: 323","x:  151<br />y: 328","x:  152<br />y: 327","x:  153<br />y: 320","x:  154<br />y: 323","x:  155<br />y: 321","x:  156<br />y: 321","x:  157<br />y: 323","x:  158<br />y: 322","x:  159<br />y: 327","x:  160<br />y: 328","x:  161<br />y: 326","x:  162<br />y: 329","x:  163<br />y: 335","x:  164<br />y: 339","x:  165<br />y: 336","x:  166<br />y: 336","x:  167<br />y: 338","x:  168<br />y: 334","x:  169<br />y:  NA","x:  170<br />y: 335","x:  171<br />y: 339","x:  172<br />y: 338","x:  173<br />y: 336","x:  174<br />y: 335","x:  175<br />y: 333","x:  176<br />y: 325","x:  177<br />y: 326","x:  178<br />y: 319","x:  179<br />y: 320","x:  180<br />y: 320","x:  181<br />y: 322","x:  182<br />y: 318","x:  183<br />y: 322","x:  184<br />y: 319","x:  185<br />y: 319","x:  186<br />y: 316","x:  187<br />y: 316","x:  188<br />y: 319","x:  189<br />y: 328","x:  190<br />y: 328","x:  191<br />y: 329","x:  192<br />y: 330","x:  193<br />y: 329","x:  194<br />y: 326","x:  195<br />y: 323","x:  196<br />y: 325","x:  197<br />y: 324","x:  198<br />y: 331","x:  199<br />y: 326","x:  200<br />y: 326","x:  201<br />y: 327","x:  202<br />y: 326","x:  203<br />y: 326","x:  204<br />y: 327","x:  205<br />y: 327","x:  206<br />y: 326","x:  207<br />y: 325","x:  208<br />y: 326","x:  209<br />y: 326","x:  210<br />y: 326","x:  211<br />y: 327","x:  212<br />y: 326","x:  213<br />y: 326","x:  214<br />y: 326","x:  215<br />y: 327","x:  216<br />y: 327","x:  217<br />y: 326","x:  218<br />y: 325","x:  219<br />y: 326","x:  220<br />y: 325","x:  221<br />y: 325","x:  222<br />y: 324","x:  223<br />y: 322","x:  224<br />y: 323","x:  225<br />y: 323","x:  226<br />y: 324","x:  227<br />y: 325","x:  228<br />y: 325","x:  229<br />y: 324","x:  230<br />y: 324","x:  231<br />y: 325","x:  232<br />y: 326","x:  233<br />y: 326","x:  234<br />y: 330","x:  235<br />y: 332","x:  236<br />y: 330","x:  237<br />y: 327","x:  238<br />y: 327","x:  239<br />y: 324","x:  240<br />y: 322","x:  241<br />y: 324","x:  242<br />y: 322","x:  243<br />y: 322","x:  244<br />y: 320","x:  245<br />y: 316","x:  246<br />y: 317","x:  247<br />y: 316","x:  248<br />y: 318","x:  249<br />y: 318","x:  250<br />y: 322","x:  251<br />y: 321","x:  252<br />y: 323","x:  253<br />y: 324","x:  254<br />y: 326","x:  255<br />y: 325","x:  256<br />y:  NA","x:  257<br />y:  NA","x:  258<br />y: 325","x:  259<br />y: 326","x:  260<br />y: 327","x:  261<br />y:  NA","x:  262<br />y: 327","x:  263<br />y: 326","x:  264<br />y: 328","x:  265<br />y: 329","x:  266<br />y: 331","x:  267<br />y: 334","x:  268<br />y: 339","x:  269<br />y: 341","x:  270<br />y: 339","x:  271<br />y: 345","x:  272<br />y: 360","x:  273<br />y: 357","x:  274<br />y: 353","x:  275<br />y: 356","x:  276<br />y: 353","x:  277<br />y: 350","x:  278<br />y: 355","x:  279<br />y: 362","x:  280<br />y: 354","x:  281<br />y: 354","x:  282<br />y: 355","x:  283<br />y: 354","x:  284<br />y: 347","x:  285<br />y: 338","x:  286<br />y: 336","x:  287<br />y: 337","x:  288<br />y: 338","x:  289<br />y: 340","x:  290<br />y: 337","x:  291<br />y: 338","x:  292<br />y: 335","x:  293<br />y: 330","x:  294<br />y: 333","x:  295<br />y: 332","x:  296<br />y: 344","x:  297<br />y: 339","x:  298<br />y: 339","x:  299<br />y: 343","x:  300<br />y: 351","x:  301<br />y: 345","x:  302<br />y: 338","x:  303<br />y: 338","x:  304<br />y: 339","x:  305<br />y: 338","x:  306<br />y: 342","x:  307<br />y: 343","x:  308<br />y: 342","x:  309<br />y: 342","x:  310<br />y: 342","x:  311<br />y: 344","x:  312<br />y: 350","x:  313<br />y: 348","x:  314<br />y: 348","x:  315<br />y: 351","x:  316<br />y: 349","x:  317<br />y: 351","x:  318<br />y: 351","x:  319<br />y: 352","x:  320<br />y: 353","x:  321<br />y: 345","x:  322<br />y: 346","x:  323<br />y:  NA","x:  324<br />y:  NA","x:  325<br />y: 334","x:  326<br />y: 336","x:  327<br />y: 337","x:  328<br />y: 336","x:  329<br />y: 336","x:  330<br />y: 341","x:  331<br />y: 339","x:  332<br />y: 338","x:  333<br />y: 340","x:  334<br />y: 343","x:  335<br />y: 340","x:  336<br />y: 341","x:  337<br />y: 339","x:  338<br />y: 341","x:  339<br />y: 342","x:  340<br />y: 344","x:  341<br />y: 347","x:  342<br />y: 346","x:  343<br />y: 344","x:  344<br />y: 344","x:  345<br />y: 342","x:  346<br />y: 345","x:  347<br />y: 346","x:  348<br />y: 342","x:  349<br />y:  NA","x:  350<br />y: 342","x:  351<br />y: 342","x:  352<br />y: 345","x:  353<br />y: 344","x:  354<br />y: 345","x:  355<br />y: 344","x:  356<br />y: 343","x:  357<br />y: 342","x:  358<br />y: 343","x:  359<br />y: 342","x:  360<br />y: 340","x:  361<br />y: 339","x:  362<br />y: 339","x:  363<br />y: 341","x:  364<br />y:  NA","x:  365<br />y: 341","x:  366<br />y: 342","x:  367<br />y: 343","x:  368<br />y: 343","x:  369<br />y: 343","x:  370<br />y: 342","x:  371<br />y: 341","x:  372<br />y: 342","x:  373<br />y: 342","x:  374<br />y: 342","x:  375<br />y: 348","x:  376<br />y: 348","x:  377<br />y: 348","x:  378<br />y: 347","x:  379<br />y: 346","x:  380<br />y: 337","x:  381<br />y: 338","x:  382<br />y: 339","x:  383<br />y: 339","x:  384<br />y: 340","x:  385<br />y: 341","x:  386<br />y: 343","x:  387<br />y: 344","x:  388<br />y: 344","x:  389<br />y: 346","x:  390<br />y: 346","x:  391<br />y: 344","x:  392<br />y: 344","x:  393<br />y: 344","x:  394<br />y: 344","x:  395<br />y: 346","x:  396<br />y: 350","x:  397<br />y: 348","x:  398<br />y: 348","x:  399<br />y: 346","x:  400<br />y: 346","x:  401<br />y: 348","x:  402<br />y: 347","x:  403<br />y: 347","x:  404<br />y: 353","x:  405<br />y: 354","x:  406<br />y: 352","x:  407<br />y: 348","x:  408<br />y: 349","x:  409<br />y: 351","x:  410<br />y: 353","x:  411<br />y: 351","x:  412<br />y: 376","x:  413<br />y: 360","x:  414<br />y: 359","x:  415<br />y: 358","x:  416<br />y: 361","x:  417<br />y: 361","x:  418<br />y: 362","x:  419<br />y: 394","x:  420<br />y: 386","x:  421<br />y: 391","x:  422<br />y: 384","x:  423<br />y: 386","x:  424<br />y: 377","x:  425<br />y: 372","x:  426<br />y: 379","x:  427<br />y: 382","x:  428<br />y: 385","x:  429<br />y:  NA","x:  430<br />y: 397","x:  431<br />y: 378","x:  432<br />y: 384","x:  433<br />y: 386","x:  434<br />y: 392","x:  435<br />y: 396","x:  436<br />y: 407","x:  437<br />y: 404","x:  438<br />y: 418","x:  439<br />y: 419","x:  440<br />y: 412","x:  441<br />y: 414","x:  442<br />y: 407","x:  443<br />y: 419","x:  444<br />y: 416","x:  445<br />y: 414","x:  446<br />y: 414","x:  447<br />y: 416","x:  448<br />y: 423","x:  449<br />y: 443","x:  450<br />y: 435","x:  451<br />y: 434","x:  452<br />y: 432","x:  453<br />y: 434","x:  454<br />y: 429","x:  455<br />y: 421","x:  456<br />y: 426","x:  457<br />y: 426","x:  458<br />y: 437","x:  459<br />y: 436","x:  460<br />y: 442","x:  461<br />y: 439","x:  462<br />y: 436","x:  463<br />y: 428","x:  464<br />y: 431","x:  465<br />y: 431","x:  466<br />y: 426","x:  467<br />y: 426","x:  468<br />y: 420","x:  469<br />y: 420","x:  470<br />y: 427","x:  471<br />y: 427","x:  472<br />y: 425","x:  473<br />y: 413","x:  474<br />y: 410","x:  475<br />y: 410","x:  476<br />y: 408","x:  477<br />y: 404","x:  478<br />y: 402","x:  479<br />y: 400","x:  480<br />y: 408","x:  481<br />y: 410","x:  482<br />y: 405","x:  483<br />y: 408","x:  484<br />y: 410","x:  485<br />y: 407","x:  486<br />y: 407","x:  487<br />y: 407","x:  488<br />y: 409","x:  489<br />y: 393","x:  490<br />y: 388","x:  491<br />y: 392","x:  492<br />y: 387","x:  493<br />y: 390","x:  494<br />y: 380","x:  495<br />y: 381","x:  496<br />y: 384","x:  497<br />y: 382","x:  498<br />y: 390","x:  499<br />y: 400","x:  500<br />y: 394","x:  501<br />y: 385","x:  502<br />y: 391","x:  503<br />y: 389","x:  504<br />y: 390","x:  505<br />y: 389","x:  506<br />y: 387","x:  507<br />y: 389","x:  508<br />y: 390","x:  509<br />y: 395","x:  510<br />y: 394","x:  511<br />y: 393","x:  512<br />y: 392","x:  513<br />y: 394","x:  514<br />y: 395","x:  515<br />y: 393","x:  516<br />y: 391","x:  517<br />y:  NA","x:  518<br />y:  NA","x:  519<br />y: 391","x:  520<br />y: 389","x:  521<br />y: 391","x:  522<br />y:  NA","x:  523<br />y: 402","x:  524<br />y: 399","x:  525<br />y: 402","x:  526<br />y: 400","x:  527<br />y: 402","x:  528<br />y: 402","x:  529<br />y: 410","x:  530<br />y: 409","x:  531<br />y: 414","x:  532<br />y: 415","x:  533<br />y: 414","x:  534<br />y: 421","x:  535<br />y: 417","x:  536<br />y: 408","x:  537<br />y: 411","x:  538<br />y: 404","x:  539<br />y: 403","x:  540<br />y: 409","x:  541<br />y: 416","x:  542<br />y: 411","x:  543<br />y: 407","x:  544<br />y: 406","x:  545<br />y: 402","x:  546<br />y: 402","x:  547<br />y: 403","x:  548<br />y: 403","x:  549<br />y: 403","x:  550<br />y: 404","x:  551<br />y: 403","x:  552<br />y: 402","x:  553<br />y: 396","x:  554<br />y: 397","x:  555<br />y: 397","x:  556<br />y: 392","x:  557<br />y: 393","x:  558<br />y: 398","x:  559<br />y: 403","x:  560<br />y: 402","x:  561<br />y: 407","x:  562<br />y: 403","x:  563<br />y: 409","x:  564<br />y: 404","x:  565<br />y: 404","x:  566<br />y: 408","x:  567<br />y: 411","x:  568<br />y: 406","x:  569<br />y: 405","x:  570<br />y: 405","x:  571<br />y: 407","x:  572<br />y: 408","x:  573<br />y: 409","x:  574<br />y: 405","x:  575<br />y: 406","x:  576<br />y: 406","x:  577<br />y: 405","x:  578<br />y: 405","x:  579<br />y: 407","x:  580<br />y: 410","x:  581<br />y: 415","x:  582<br />y: 411","x:  583<br />y: 416","x:  584<br />y: 422","x:  585<br />y: 419","x:  586<br />y: 418","x:  587<br />y: 420","x:  588<br />y: 419","x:  589<br />y: 421","x:  590<br />y: 420","x:  591<br />y: 423","x:  592<br />y: 422","x:  593<br />y: 423","x:  594<br />y: 436","x:  595<br />y: 440","x:  596<br />y: 446","x:  597<br />y: 441","x:  598<br />y:  NA","x:  599<br />y:  NA","x:  600<br />y: 454","x:  601<br />y: 447","x:  602<br />y: 453","x:  603<br />y: 463","x:  604<br />y: 477","x:  605<br />y: 456","x:  606<br />y: 452","x:  607<br />y: 454","x:  608<br />y: 452","x:  609<br />y:  NA","x:  610<br />y: 464","x:  611<br />y: 457","x:  612<br />y: 457","x:  613<br />y: 457","x:  614<br />y: 455","x:  615<br />y: 460","x:  616<br />y: 460","x:  617<br />y: 460","x:  618<br />y: 467","x:  619<br />y: 476","x:  620<br />y: 471","x:  621<br />y: 480","x:  622<br />y: 469","x:  623<br />y: 474","x:  624<br />y:  NA","x:  625<br />y: 460","x:  626<br />y: 448","x:  627<br />y: 453","x:  628<br />y: 452","x:  629<br />y: 443","x:  630<br />y: 449","x:  631<br />y: 453","x:  632<br />y: 450","x:  633<br />y: 455","x:  634<br />y: 454","x:  635<br />y: 452","x:  636<br />y: 457","x:  637<br />y: 456","x:  638<br />y: 461","x:  639<br />y: 450","x:  640<br />y: 453","x:  641<br />y: 448","x:  642<br />y: 451","x:  643<br />y: 452","x:  644<br />y: 444","x:  645<br />y: 438","x:  646<br />y: 443","x:  647<br />y: 439","x:  648<br />y: 441","x:  649<br />y: 446","x:  650<br />y: 447","x:  651<br />y: 450","x:  652<br />y: 447","x:  653<br />y: 443","x:  654<br />y: 443","x:  655<br />y: 445","x:  656<br />y: 442","x:  657<br />y: 445","x:  658<br />y: 444","x:  659<br />y: 444","x:  660<br />y: 447","x:  661<br />y: 448","x:  662<br />y: 453","x:  663<br />y: 452","x:  664<br />y: 450","x:  665<br />y: 452","x:  666<br />y: 454","x:  667<br />y: 455","x:  668<br />y: 454","x:  669<br />y: 453","x:  670<br />y: 454","x:  671<br />y: 460","x:  672<br />y: 457","x:  673<br />y: 464","x:  674<br />y: 473","x:  675<br />y: 476","x:  676<br />y: 470","x:  677<br />y: 469","x:  678<br />y: 464","x:  679<br />y: 460","x:  680<br />y: 463","x:  681<br />y: 461","x:  682<br />y: 462","x:  683<br />y: 457","x:  684<br />y: 455","x:  685<br />y: 455","x:  686<br />y: 458","x:  687<br />y: 457","x:  688<br />y: 454","x:  689<br />y: 456","x:  690<br />y: 458","x:  691<br />y: 457","x:  692<br />y: 458","x:  693<br />y: 456","x:  694<br />y:  NA","x:  695<br />y: 453","x:  696<br />y: 457","x:  697<br />y: 462","x:  698<br />y: 464","x:  699<br />y: 463","x:  700<br />y: 463","x:  701<br />y: 458","x:  702<br />y: 461","x:  703<br />y: 461","x:  704<br />y: 457","x:  705<br />y: 458","x:  706<br />y: 458","x:  707<br />y: 459","x:  708<br />y: 461","x:  709<br />y: 459","x:  710<br />y: 463","x:  711<br />y: 461","x:  712<br />y: 464","x:  713<br />y: 461","x:  714<br />y: 461","x:  715<br />y: 459","x:  716<br />y: 459","x:  717<br />y: 454","x:  718<br />y: 455","x:  719<br />y: 455","x:  720<br />y: 457","x:  721<br />y: 459","x:  722<br />y: 458","x:  723<br />y: 462","x:  724<br />y: 462","x:  725<br />y: 460","x:  726<br />y: 459","x:  727<br />y: 462","x:  728<br />y: 464","x:  729<br />y: 480","x:  730<br />y: 482","x:  731<br />y: 467","x:  732<br />y: 470","x:  733<br />y: 473","x:  734<br />y: 475","x:  735<br />y: 473","x:  736<br />y: 480","x:  737<br />y: 474","x:  738<br />y: 468","x:  739<br />y: 470","x:  740<br />y: 470","x:  741<br />y: 467","x:  742<br />y: 460","x:  743<br />y: 459","x:  744<br />y: 464","x:  745<br />y: 459","x:  746<br />y: 461","x:  747<br />y: 463","x:  748<br />y: 464","x:  749<br />y: 462","x:  750<br />y: 464","x:  751<br />y: 464","x:  752<br />y: 466","x:  753<br />y: 466","x:  754<br />y: 468","x:  755<br />y: 477","x:  756<br />y: 479","x:  757<br />y: 478","x:  758<br />y: 478","x:  759<br />y: 494","x:  760<br />y: 487","x:  761<br />y: 490","x:  762<br />y: 489","x:  763<br />y: 486","x:  764<br />y: 481","x:  765<br />y: 483","x:  766<br />y: 485","x:  767<br />y: 484","x:  768<br />y: 495","x:  769<br />y: 503","x:  770<br />y: 594","x:  771<br />y: 487","x:  772<br />y: 488","x:  773<br />y: 485","x:  774<br />y: 481","x:  775<br />y: 482","x:  776<br />y: 483","x:  777<br />y: 484","x:  778<br />y:  NA","x:  779<br />y:  NA","x:  780<br />y: 490","x:  781<br />y: 487","x:  782<br />y: 486","x:  783<br />y:  NA","x:  784<br />y: 484","x:  785<br />y: 477","x:  786<br />y: 482","x:  787<br />y: 484","x:  788<br />y: 480","x:  789<br />y: 485","x:  790<br />y: 482","x:  791<br />y: 481","x:  792<br />y: 481","x:  793<br />y: 485","x:  794<br />y: 476","x:  795<br />y: 477","x:  796<br />y: 478","x:  797<br />y: 476","x:  798<br />y: 478","x:  799<br />y: 471","x:  800<br />y: 471","x:  801<br />y: 469","x:  802<br />y: 468","x:  803<br />y: 465","x:  804<br />y: 455","x:  805<br />y: 455","x:  806<br />y: 447","x:  807<br />y: 438","x:  808<br />y: 444","x:  809<br />y: 443","x:  810<br />y: 439","x:  811<br />y: 444","x:  812<br />y: 440","x:  813<br />y: 440","x:  814<br />y: 444","x:  815<br />y: 444","x:  816<br />y: 444","x:  817<br />y: 446","x:  818<br />y: 443","x:  819<br />y: 445","x:  820<br />y: 444","x:  821<br />y: 438","x:  822<br />y: 434","x:  823<br />y: 433","x:  824<br />y: 424","x:  825<br />y: 429","x:  826<br />y: 432","x:  827<br />y: 429","x:  828<br />y: 431","x:  829<br />y: 436","x:  830<br />y: 436","x:  831<br />y: 436","x:  832<br />y: 437","x:  833<br />y: 444","x:  834<br />y: 442","x:  835<br />y: 442","x:  836<br />y: 447","x:  837<br />y: 445","x:  838<br />y: 443","x:  839<br />y: 446","x:  840<br />y: 449","x:  841<br />y: 450","x:  842<br />y: 454","x:  843<br />y: 452","x:  844<br />y: 453","x:  845<br />y: 455","x:  846<br />y: 454","x:  847<br />y: 458","x:  848<br />y:  NA","x:  849<br />y:  NA","x:  850<br />y: 456","x:  851<br />y: 451","x:  852<br />y: 446","x:  853<br />y: 449","x:  854<br />y: 450","x:  855<br />y: 450","x:  856<br />y: 448","x:  857<br />y: 447","x:  858<br />y: 454","x:  859<br />y: 458","x:  860<br />y: 457","x:  861<br />y: 458","x:  862<br />y: 454","x:  863<br />y: 453","x:  864<br />y: 450","x:  865<br />y: 448","x:  866<br />y: 449","x:  867<br />y: 452","x:  868<br />y: 450","x:  869<br />y:  NA","x:  870<br />y: 444","x:  871<br />y: 442","x:  872<br />y: 445","x:  873<br />y: 446","x:  874<br />y: 444","x:  875<br />y: 447","x:  876<br />y: 449","x:  877<br />y: 449","x:  878<br />y: 451","x:  879<br />y: 453","x:  880<br />y: 453","x:  881<br />y: 453","x:  882<br />y: 457","x:  883<br />y: 460","x:  884<br />y: 460","x:  885<br />y: 459","x:  886<br />y: 459","x:  887<br />y: 453","x:  888<br />y: 452","x:  889<br />y:  NA","x:  890<br />y: 454","x:  891<br />y: 457","x:  892<br />y: 455","x:  893<br />y: 465","x:  894<br />y: 464","x:  895<br />y: 463","x:  896<br />y: 459","x:  897<br />y: 455","x:  898<br />y: 457","x:  899<br />y: 450","x:  900<br />y: 451","x:  901<br />y: 450","x:  902<br />y: 453","x:  903<br />y: 450","x:  904<br />y: 454","x:  905<br />y: 452","x:  906<br />y: 450","x:  907<br />y: 448","x:  908<br />y: 447","x:  909<br />y: 442","x:  910<br />y: 444","x:  911<br />y: 435","x:  912<br />y: 437","x:  913<br />y: 436","x:  914<br />y: 437","x:  915<br />y: 437","x:  916<br />y: 438","x:  917<br />y: 439","x:  918<br />y: 439","x:  919<br />y: 440","x:  920<br />y: 434","x:  921<br />y: 436","x:  922<br />y: 439","x:  923<br />y: 438","x:  924<br />y: 438","x:  925<br />y: 437","x:  926<br />y: 445","x:  927<br />y: 443","x:  928<br />y: 443","x:  929<br />y: 442","x:  930<br />y: 430","x:  931<br />y: 432","x:  932<br />y: 429","x:  933<br />y: 433","x:  934<br />y: 436","x:  935<br />y: 433","x:  936<br />y: 431","x:  937<br />y: 433","x:  938<br />y: 431","x:  939<br />y: 432","x:  940<br />y: 428","x:  941<br />y: 427","x:  942<br />y: 429","x:  943<br />y: 428","x:  944<br />y: 431","x:  945<br />y: 432","x:  946<br />y: 429","x:  947<br />y: 430","x:  948<br />y: 432","x:  949<br />y: 430","x:  950<br />y: 433","x:  951<br />y: 432","x:  952<br />y: 435","x:  953<br />y: 434","x:  954<br />y:  NA","x:  955<br />y: 429","x:  956<br />y: 426","x:  957<br />y: 430","x:  958<br />y: 430","x:  959<br />y: 427","x:  960<br />y: 428","x:  961<br />y: 427","x:  962<br />y: 428","x:  963<br />y: 429","x:  964<br />y: 418","x:  965<br />y: 421","x:  966<br />y: 422","x:  967<br />y: 422","x:  968<br />y: 417","x:  969<br />y: 409","x:  970<br />y: 410","x:  971<br />y: 402","x:  972<br />y: 400","x:  973<br />y: 399","x:  974<br />y: 389","x:  975<br />y: 397","x:  976<br />y: 398","x:  977<br />y: 399","x:  978<br />y: 396","x:  979<br />y: 394","x:  980<br />y: 397","x:  981<br />y: 397","x:  982<br />y: 403","x:  983<br />y: 404","x:  984<br />y: 406","x:  985<br />y: 408","x:  986<br />y: 405","x:  987<br />y: 409","x:  988<br />y: 406","x:  989<br />y: 411","x:  990<br />y: 413","x:  991<br />y: 411","x:  992<br />y: 411","x:  993<br />y: 411","x:  994<br />y: 406","x:  995<br />y: 407","x:  996<br />y: 408","x:  997<br />y: 407","x:  998<br />y: 407","x:  999<br />y: 412","x: 1000<br />y: 411","x: 1001<br />y: 412","x: 1002<br />y: 423","x: 1003<br />y: 420","x: 1004<br />y: 422","x: 1005<br />y: 422","x: 1006<br />y: 420","x: 1007<br />y: 422","x: 1008<br />y: 421","x: 1009<br />y: 421","x: 1010<br />y: 423","x: 1011<br />y: 423","x: 1012<br />y: 423","x: 1013<br />y: 420","x: 1014<br />y: 417","x: 1015<br />y: 416","x: 1016<br />y: 418","x: 1017<br />y: 420","x: 1018<br />y: 423","x: 1019<br />y: 421","x: 1020<br />y: 422","x: 1021<br />y: 421","x: 1022<br />y: 426","x: 1023<br />y: 424","x: 1024<br />y: 430","x: 1025<br />y: 429","x: 1026<br />y: 425","x: 1027<br />y: 423","x: 1028<br />y: 422","x: 1029<br />y: 421","x: 1030<br />y: 420","x: 1031<br />y: 420","x: 1032<br />y: 421","x: 1033<br />y: 413","x: 1034<br />y: 414","x: 1035<br />y: 413","x: 1036<br />y: 414","x: 1037<br />y: 416","x: 1038<br />y: 418","x: 1039<br />y:  NA","x: 1040<br />y:  NA","x: 1041<br />y: 414","x: 1042<br />y: 413","x: 1043<br />y: 410","x: 1044<br />y:  NA","x: 1045<br />y: 414","x: 1046<br />y: 410","x: 1047<br />y: 408","x: 1048<br />y: 408","x: 1049<br />y: 404","x: 1050<br />y: 406","x: 1051<br />y: 404","x: 1052<br />y: 405","x: 1053<br />y: 404","x: 1054<br />y: 402","x: 1055<br />y: 402","x: 1056<br />y: 403","x: 1057<br />y: 402","x: 1058<br />y: 404","x: 1059<br />y: 408","x: 1060<br />y: 408","x: 1061<br />y: 405","x: 1062<br />y: 406","x: 1063<br />y: 402","x: 1064<br />y: 394","x: 1065<br />y: 395","x: 1066<br />y: 392","x: 1067<br />y: 393","x: 1068<br />y: 391","x: 1069<br />y: 390","x: 1070<br />y: 391","x: 1071<br />y: 390","x: 1072<br />y: 394","x: 1073<br />y: 394","x: 1074<br />y: 387","x: 1075<br />y: 386","x: 1076<br />y: 382","x: 1077<br />y: 384","x: 1078<br />y: 379","x: 1079<br />y: 382","x: 1080<br />y: 383","x: 1081<br />y: 386","x: 1082<br />y: 389","x: 1083<br />y: 389","x: 1084<br />y: 391","x: 1085<br />y: 387","x: 1086<br />y: 386","x: 1087<br />y: 384","x: 1088<br />y: 384","x: 1089<br />y: 388","x: 1090<br />y: 386","x: 1091<br />y: 393","x: 1092<br />y: 392","x: 1093<br />y: 397","x: 1094<br />y: 393","x: 1095<br />y: 394","x: 1096<br />y: 394","x: 1097<br />y: 391","x: 1098<br />y: 389","x: 1099<br />y: 395","x: 1100<br />y: 394","x: 1101<br />y: 393","x: 1102<br />y: 396","x: 1103<br />y:  NA","x: 1104<br />y:  NA","x: 1105<br />y: 391","x: 1106<br />y: 383","x: 1107<br />y: 384","x: 1108<br />y: 382"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":43.1050228310502},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"tickmode":"array","ticktext":["0","300","600","900"],"tickvals":[7.105427357601e-15,300,600,900],"categoryorder":"array","categoryarray":["0","300","600","900"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"x","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"hoverformat":".2f","rangeslider":{"visible":true}},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[269.565,609.135],"tickmode":"array","ticktext":["300","400","500","600"],"tickvals":[300,400,500,600],"categoryorder":"array","categoryarray":["300","400","500","600"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"y","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","cloud":false},"source":"A","attrs":{"121816395373d":{"x":{},"y":{},"type":"scatter"}},"cur_data":"121816395373d","visdat":{"121816395373d":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p class="caption">
FIGURE 37.2: Adding a rangeslider to an interactive ggplot2 graph.
</p>
</div>
<p>Since a single plotly object can only have one layout, modifying the layout of <code>ggplotly()</code> is fairly easy, but it’s trickier to modify the data underlying the graph.</p>
</div>
<div id="modifying-data" class="section level2">
<h2><span class="header-section-number">37.2</span> Modifying data</h2>
<p>As mentioned previously, <code>ggplotly()</code> translates each ggplot2 layer into one or more plotly.js traces. In this translation, it is forced to make a number of assumptions about trace attribute values that may or may not be appropriate for the use case. To demonstrate, consider Figure <a href="modifying-ggplotly.html#fig:simple-scatterplot">37.3</a>, which shows hover information for the points, the fitted line, and the confidence band. How could we make it so hover information is only displayed for the points?</p>
<pre class="sourceCode r"><code class="sourceCode r">p &lt;-<span class="st"> </span><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(<span class="dt">x =</span> wt, <span class="dt">y =</span> mpg)) <span class="op">+</span>
<span class="st">   </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span><span class="kw">geom_smooth</span>()
<span class="kw">ggplotly</span>(p)</code></pre>
<div class="figure" style="text-align: center"><span id="fig:simple-scatterplot"></span>
<div id="htmlwidget-cb53f5a7759b49b7ecac" style="width:100%;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-cb53f5a7759b49b7ecac">{"x":{"data":[{"x":[2.62,2.875,2.32,3.215,3.44,3.46,3.57,3.19,3.15,3.44,3.44,4.07,3.73,3.78,5.25,5.424,5.345,2.2,1.615,1.835,2.465,3.52,3.435,3.84,3.845,1.935,2.14,1.513,3.17,2.77,3.57,2.78],"y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"text":["wt: 2.62<br />mpg: 21.0","wt: 2.88<br />mpg: 21.0","wt: 2.32<br />mpg: 22.8","wt: 3.21<br />mpg: 21.4","wt: 3.44<br />mpg: 18.7","wt: 3.46<br />mpg: 18.1","wt: 3.57<br />mpg: 14.3","wt: 3.19<br />mpg: 24.4","wt: 3.15<br />mpg: 22.8","wt: 3.44<br />mpg: 19.2","wt: 3.44<br />mpg: 17.8","wt: 4.07<br />mpg: 16.4","wt: 3.73<br />mpg: 17.3","wt: 3.78<br />mpg: 15.2","wt: 5.25<br />mpg: 10.4","wt: 5.42<br />mpg: 10.4","wt: 5.34<br />mpg: 14.7","wt: 2.20<br />mpg: 32.4","wt: 1.61<br />mpg: 30.4","wt: 1.83<br />mpg: 33.9","wt: 2.46<br />mpg: 21.5","wt: 3.52<br />mpg: 15.5","wt: 3.44<br />mpg: 15.2","wt: 3.84<br />mpg: 13.3","wt: 3.85<br />mpg: 19.2","wt: 1.94<br />mpg: 27.3","wt: 2.14<br />mpg: 26.0","wt: 1.51<br />mpg: 30.4","wt: 3.17<br />mpg: 15.8","wt: 2.77<br />mpg: 19.7","wt: 3.57<br />mpg: 15.0","wt: 2.78<br />mpg: 21.4"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.513,1.56250632911392,1.61201265822785,1.66151898734177,1.7110253164557,1.76053164556962,1.81003797468354,1.85954430379747,1.90905063291139,1.95855696202532,2.00806329113924,2.05756962025316,2.10707594936709,2.15658227848101,2.20608860759494,2.25559493670886,2.30510126582278,2.35460759493671,2.40411392405063,2.45362025316456,2.50312658227848,2.55263291139241,2.60213924050633,2.65164556962025,2.70115189873418,2.7506582278481,2.80016455696203,2.84967088607595,2.89917721518987,2.9486835443038,2.99818987341772,3.04769620253165,3.09720253164557,3.14670886075949,3.19621518987342,3.24572151898734,3.29522784810127,3.34473417721519,3.39424050632911,3.44374683544304,3.49325316455696,3.54275949367089,3.59226582278481,3.64177215189873,3.69127848101266,3.74078481012658,3.79029113924051,3.83979746835443,3.88930379746835,3.93881012658228,3.9883164556962,4.03782278481013,4.08732911392405,4.13683544303798,4.1863417721519,4.23584810126582,4.28535443037975,4.33486075949367,4.3843670886076,4.43387341772152,4.48337974683544,4.53288607594937,4.58239240506329,4.63189873417722,4.68140506329114,4.73091139240506,4.78041772151899,4.82992405063291,4.87943037974684,4.92893670886076,4.97844303797468,5.02794936708861,5.07745569620253,5.12696202531646,5.17646835443038,5.2259746835443,5.27548101265823,5.32498734177215,5.37449367088608,5.424],"y":[32.08897233857,31.6878645869701,31.2816303797919,30.8703709543688,30.4541875480347,30.0331813981232,29.6074537419678,29.1771058169022,28.7422388602601,28.3001719301537,27.834621969428,27.3476575600419,26.84497968394,26.3322893230667,25.8152874593666,25.2996750747841,24.7911531512637,24.29542267075,23.8181846151875,23.3651399665205,22.955253039598,22.6138488714952,22.3275852300224,22.0817586181852,21.8616655389892,21.65260249544,21.4398659905432,21.2087525273044,20.953335722037,20.7158424594628,20.4957065225374,20.2829337645837,20.0675300389245,19.8395011988825,19.5888530977805,19.2971559094315,18.9444093670088,18.5670026794964,18.2056968860288,17.9009022641924,17.620602502374,17.3400153015964,17.079077805285,16.8175887231322,16.5575726926136,16.3083303048321,16.0791621508901,15.8793688218903,15.7018119854881,15.5259429561214,15.3517253848296,15.1793328075288,15.0089387601353,14.8407167785652,14.6748403987346,14.5114831565596,14.3508185879563,14.193020228841,14.0382616151298,13.8867162827388,13.7385577675841,13.5939596055819,13.4530953326483,13.3161384846995,13.1832625976516,13.0546412074207,12.930447849923,12.8108560610747,12.6960393767918,12.5861713329905,12.4814254655869,12.3819753104973,12.2879944036376,12.1996562809241,12.117134478273,12.0406025316002,11.9702339768221,11.9062023498547,11.8486811866141,11.7978440230166],"text":["wt: 1.51<br />mpg: 32.1","wt: 1.56<br />mpg: 31.7","wt: 1.61<br />mpg: 31.3","wt: 1.66<br />mpg: 30.9","wt: 1.71<br />mpg: 30.5","wt: 1.76<br />mpg: 30.0","wt: 1.81<br />mpg: 29.6","wt: 1.86<br />mpg: 29.2","wt: 1.91<br />mpg: 28.7","wt: 1.96<br />mpg: 28.3","wt: 2.01<br />mpg: 27.8","wt: 2.06<br />mpg: 27.3","wt: 2.11<br />mpg: 26.8","wt: 2.16<br />mpg: 26.3","wt: 2.21<br />mpg: 25.8","wt: 2.26<br />mpg: 25.3","wt: 2.31<br />mpg: 24.8","wt: 2.35<br />mpg: 24.3","wt: 2.40<br />mpg: 23.8","wt: 2.45<br />mpg: 23.4","wt: 2.50<br />mpg: 23.0","wt: 2.55<br />mpg: 22.6","wt: 2.60<br />mpg: 22.3","wt: 2.65<br />mpg: 22.1","wt: 2.70<br />mpg: 21.9","wt: 2.75<br />mpg: 21.7","wt: 2.80<br />mpg: 21.4","wt: 2.85<br />mpg: 21.2","wt: 2.90<br />mpg: 21.0","wt: 2.95<br />mpg: 20.7","wt: 3.00<br />mpg: 20.5","wt: 3.05<br />mpg: 20.3","wt: 3.10<br />mpg: 20.1","wt: 3.15<br />mpg: 19.8","wt: 3.20<br />mpg: 19.6","wt: 3.25<br />mpg: 19.3","wt: 3.30<br />mpg: 18.9","wt: 3.34<br />mpg: 18.6","wt: 3.39<br />mpg: 18.2","wt: 3.44<br />mpg: 17.9","wt: 3.49<br />mpg: 17.6","wt: 3.54<br />mpg: 17.3","wt: 3.59<br />mpg: 17.1","wt: 3.64<br />mpg: 16.8","wt: 3.69<br />mpg: 16.6","wt: 3.74<br />mpg: 16.3","wt: 3.79<br />mpg: 16.1","wt: 3.84<br />mpg: 15.9","wt: 3.89<br />mpg: 15.7","wt: 3.94<br />mpg: 15.5","wt: 3.99<br />mpg: 15.4","wt: 4.04<br />mpg: 15.2","wt: 4.09<br />mpg: 15.0","wt: 4.14<br />mpg: 14.8","wt: 4.19<br />mpg: 14.7","wt: 4.24<br />mpg: 14.5","wt: 4.29<br />mpg: 14.4","wt: 4.33<br />mpg: 14.2","wt: 4.38<br />mpg: 14.0","wt: 4.43<br />mpg: 13.9","wt: 4.48<br />mpg: 13.7","wt: 4.53<br />mpg: 13.6","wt: 4.58<br />mpg: 13.5","wt: 4.63<br />mpg: 13.3","wt: 4.68<br />mpg: 13.2","wt: 4.73<br />mpg: 13.1","wt: 4.78<br />mpg: 12.9","wt: 4.83<br />mpg: 12.8","wt: 4.88<br />mpg: 12.7","wt: 4.93<br />mpg: 12.6","wt: 4.98<br />mpg: 12.5","wt: 5.03<br />mpg: 12.4","wt: 5.08<br />mpg: 12.3","wt: 5.13<br />mpg: 12.2","wt: 5.18<br />mpg: 12.1","wt: 5.23<br />mpg: 12.0","wt: 5.28<br />mpg: 12.0","wt: 5.32<br />mpg: 11.9","wt: 5.37<br />mpg: 11.8","wt: 5.42<br />mpg: 11.8"],"type":"scatter","mode":"lines","name":"fitted values","line":{"width":3.77952755905512,"color":"rgba(51,102,255,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.513,1.56250632911392,1.61201265822785,1.66151898734177,1.7110253164557,1.76053164556962,1.81003797468354,1.85954430379747,1.90905063291139,1.95855696202532,2.00806329113924,2.05756962025316,2.10707594936709,2.15658227848101,2.20608860759494,2.25559493670886,2.30510126582278,2.35460759493671,2.40411392405063,2.45362025316456,2.50312658227848,2.55263291139241,2.60213924050633,2.65164556962025,2.70115189873418,2.7506582278481,2.80016455696203,2.84967088607595,2.89917721518987,2.9486835443038,2.99818987341772,3.04769620253165,3.09720253164557,3.14670886075949,3.19621518987342,3.24572151898734,3.29522784810127,3.34473417721519,3.39424050632911,3.44374683544304,3.49325316455696,3.54275949367089,3.59226582278481,3.64177215189873,3.69127848101266,3.74078481012658,3.79029113924051,3.83979746835443,3.88930379746835,3.93881012658228,3.9883164556962,4.03782278481013,4.08732911392405,4.13683544303798,4.1863417721519,4.23584810126582,4.28535443037975,4.33486075949367,4.3843670886076,4.43387341772152,4.48337974683544,4.53288607594937,4.58239240506329,4.63189873417722,4.68140506329114,4.73091139240506,4.78041772151899,4.82992405063291,4.87943037974684,4.92893670886076,4.97844303797468,5.02794936708861,5.07745569620253,5.12696202531646,5.17646835443038,5.2259746835443,5.27548101265823,5.32498734177215,5.37449367088608,5.424,5.424,5.424,5.37449367088608,5.32498734177215,5.27548101265823,5.2259746835443,5.17646835443038,5.12696202531646,5.07745569620253,5.02794936708861,4.97844303797468,4.92893670886076,4.87943037974684,4.82992405063291,4.78041772151899,4.73091139240506,4.68140506329114,4.63189873417722,4.58239240506329,4.53288607594937,4.48337974683544,4.43387341772152,4.3843670886076,4.33486075949367,4.28535443037975,4.23584810126582,4.1863417721519,4.13683544303798,4.08732911392405,4.03782278481013,3.9883164556962,3.93881012658228,3.88930379746835,3.83979746835443,3.79029113924051,3.74078481012658,3.69127848101266,3.64177215189873,3.59226582278481,3.54275949367089,3.49325316455696,3.44374683544304,3.39424050632911,3.34473417721519,3.29522784810127,3.24572151898734,3.19621518987342,3.14670886075949,3.09720253164557,3.04769620253165,2.99818987341772,2.9486835443038,2.89917721518987,2.84967088607595,2.80016455696203,2.7506582278481,2.70115189873418,2.65164556962025,2.60213924050633,2.55263291139241,2.50312658227848,2.45362025316456,2.40411392405063,2.35460759493671,2.30510126582278,2.25559493670886,2.20608860759494,2.15658227848101,2.10707594936709,2.05756962025316,2.00806329113924,1.95855696202532,1.90905063291139,1.85954430379747,1.81003797468354,1.76053164556962,1.7110253164557,1.66151898734177,1.61201265822785,1.56250632911392,1.513,1.513],"y":[28.1482086220996,28.1543901127744,28.1099674436912,28.0124927543079,27.8597327000998,27.65029180851,27.3844510391609,27.0649645489388,26.6973896057635,26.2875171160579,25.8324317349282,25.3425270424539,24.8283183379919,24.2983639184935,23.760112467877,23.2206139894969,22.687036670636,22.1669802400544,21.6686013586079,21.2005795966642,20.7958707916955,20.4925717120642,20.2505759220062,20.029411327989,19.7997196881028,19.5493238069997,19.2825463474608,19.0136396315242,18.7710547647632,18.6211620442909,18.5230794674341,18.4189767758076,18.2669703402974,18.0571226848891,17.8114857990939,17.5530651234175,17.2593882498087,16.9389000862352,16.6206523252766,16.3538304090665,16.1088696663206,15.8521950118163,15.5982657057393,15.310315393258,14.9820175870996,14.6192730587362,14.2305037174933,13.8250338832656,13.4106256557153,12.9994899989408,12.6032526728482,12.2284161008376,11.878558950985,11.5555601503064,11.2602695449179,10.9928832380879,10.7531583791314,10.5405374596263,10.3542190987777,10.1931951633603,10.0562649052018,9.94203169291403,9.84888494120486,9.77496807618837,9.71813244341526,9.67587696866419,9.64527447672617,9.62288862080818,9.60469153661199,9.58600284245437,9.56148555087706,9.52525005390405,9.47112215607742,9.39310561955942,9.28599841671342,9.14602153848871,8.97125544941046,8.76172457616168,8.5191180560953,8.24628312123558,8.24628312123558,15.3494049247976,15.1782443171329,15.0506801235477,14.9692125042337,14.9351835247118,14.9482705398325,15.0062069422889,15.1048666511978,15.2387005670905,15.4013653802968,15.5863398235266,15.7873872169716,15.9988235013412,16.2156212231199,16.4334054461773,16.6483927518879,16.8573088932106,17.0573057240918,17.2458875182498,17.4208506299664,17.5802374021172,17.722304131482,17.8455029980558,17.9484787967813,18.0300830750312,18.0894112525512,18.1258734068239,18.1393185692856,18.1302495142201,18.1001980968109,18.052395913302,17.992998315261,17.9337037605149,17.9278205842869,17.997387550928,18.1331277981277,18.3248620530063,18.5598899048308,18.8278355913766,19.1323353384275,19.4479741193182,19.7907414467811,20.1951052727576,20.6294304842089,21.0412466954455,21.3662203964672,21.621879712876,21.8680897375516,22.1468907533599,22.4683335776407,22.8105228746346,23.1356166793108,23.4038654230847,23.5971856336257,23.7558811838804,23.9236113898757,24.1341059083815,24.4045945380386,24.7351260309263,25.1146352875006,25.5297003363769,25.967767871767,26.4238651014456,26.8952696318915,27.3787361600713,27.8704624508562,28.36621472764,28.8616410298881,29.3527880776299,29.8368122039277,30.3128267442494,30.7870881147566,31.2892470848656,31.8304564447746,32.4160709877363,33.0486423959696,33.7282491544298,34.4532933158925,35.2213390611659,36.0297360550404,28.1482086220996],"text":["wt: 1.51<br />mpg: 32.1","wt: 1.56<br />mpg: 31.7","wt: 1.61<br />mpg: 31.3","wt: 1.66<br />mpg: 30.9","wt: 1.71<br />mpg: 30.5","wt: 1.76<br />mpg: 30.0","wt: 1.81<br />mpg: 29.6","wt: 1.86<br />mpg: 29.2","wt: 1.91<br />mpg: 28.7","wt: 1.96<br />mpg: 28.3","wt: 2.01<br />mpg: 27.8","wt: 2.06<br />mpg: 27.3","wt: 2.11<br />mpg: 26.8","wt: 2.16<br />mpg: 26.3","wt: 2.21<br />mpg: 25.8","wt: 2.26<br />mpg: 25.3","wt: 2.31<br />mpg: 24.8","wt: 2.35<br />mpg: 24.3","wt: 2.40<br />mpg: 23.8","wt: 2.45<br />mpg: 23.4","wt: 2.50<br />mpg: 23.0","wt: 2.55<br />mpg: 22.6","wt: 2.60<br />mpg: 22.3","wt: 2.65<br />mpg: 22.1","wt: 2.70<br />mpg: 21.9","wt: 2.75<br />mpg: 21.7","wt: 2.80<br />mpg: 21.4","wt: 2.85<br />mpg: 21.2","wt: 2.90<br />mpg: 21.0","wt: 2.95<br />mpg: 20.7","wt: 3.00<br />mpg: 20.5","wt: 3.05<br />mpg: 20.3","wt: 3.10<br />mpg: 20.1","wt: 3.15<br />mpg: 19.8","wt: 3.20<br />mpg: 19.6","wt: 3.25<br />mpg: 19.3","wt: 3.30<br />mpg: 18.9","wt: 3.34<br />mpg: 18.6","wt: 3.39<br />mpg: 18.2","wt: 3.44<br />mpg: 17.9","wt: 3.49<br />mpg: 17.6","wt: 3.54<br />mpg: 17.3","wt: 3.59<br />mpg: 17.1","wt: 3.64<br />mpg: 16.8","wt: 3.69<br />mpg: 16.6","wt: 3.74<br />mpg: 16.3","wt: 3.79<br />mpg: 16.1","wt: 3.84<br />mpg: 15.9","wt: 3.89<br />mpg: 15.7","wt: 3.94<br />mpg: 15.5","wt: 3.99<br />mpg: 15.4","wt: 4.04<br />mpg: 15.2","wt: 4.09<br />mpg: 15.0","wt: 4.14<br />mpg: 14.8","wt: 4.19<br />mpg: 14.7","wt: 4.24<br />mpg: 14.5","wt: 4.29<br />mpg: 14.4","wt: 4.33<br />mpg: 14.2","wt: 4.38<br />mpg: 14.0","wt: 4.43<br />mpg: 13.9","wt: 4.48<br />mpg: 13.7","wt: 4.53<br />mpg: 13.6","wt: 4.58<br />mpg: 13.5","wt: 4.63<br />mpg: 13.3","wt: 4.68<br />mpg: 13.2","wt: 4.73<br />mpg: 13.1","wt: 4.78<br />mpg: 12.9","wt: 4.83<br />mpg: 12.8","wt: 4.88<br />mpg: 12.7","wt: 4.93<br />mpg: 12.6","wt: 4.98<br />mpg: 12.5","wt: 5.03<br />mpg: 12.4","wt: 5.08<br />mpg: 12.3","wt: 5.13<br />mpg: 12.2","wt: 5.18<br />mpg: 12.1","wt: 5.23<br />mpg: 12.0","wt: 5.28<br />mpg: 12.0","wt: 5.32<br />mpg: 11.9","wt: 5.37<br />mpg: 11.8","wt: 5.42<br />mpg: 11.8","wt: 5.42<br />mpg: 11.8","wt: 5.42<br />mpg: 11.8","wt: 5.37<br />mpg: 11.8","wt: 5.32<br />mpg: 11.9","wt: 5.28<br />mpg: 12.0","wt: 5.23<br />mpg: 12.0","wt: 5.18<br />mpg: 12.1","wt: 5.13<br />mpg: 12.2","wt: 5.08<br />mpg: 12.3","wt: 5.03<br />mpg: 12.4","wt: 4.98<br />mpg: 12.5","wt: 4.93<br />mpg: 12.6","wt: 4.88<br />mpg: 12.7","wt: 4.83<br />mpg: 12.8","wt: 4.78<br />mpg: 12.9","wt: 4.73<br />mpg: 13.1","wt: 4.68<br />mpg: 13.2","wt: 4.63<br />mpg: 13.3","wt: 4.58<br />mpg: 13.5","wt: 4.53<br />mpg: 13.6","wt: 4.48<br />mpg: 13.7","wt: 4.43<br />mpg: 13.9","wt: 4.38<br />mpg: 14.0","wt: 4.33<br />mpg: 14.2","wt: 4.29<br />mpg: 14.4","wt: 4.24<br />mpg: 14.5","wt: 4.19<br />mpg: 14.7","wt: 4.14<br />mpg: 14.8","wt: 4.09<br />mpg: 15.0","wt: 4.04<br />mpg: 15.2","wt: 3.99<br />mpg: 15.4","wt: 3.94<br />mpg: 15.5","wt: 3.89<br />mpg: 15.7","wt: 3.84<br />mpg: 15.9","wt: 3.79<br />mpg: 16.1","wt: 3.74<br />mpg: 16.3","wt: 3.69<br />mpg: 16.6","wt: 3.64<br />mpg: 16.8","wt: 3.59<br />mpg: 17.1","wt: 3.54<br />mpg: 17.3","wt: 3.49<br />mpg: 17.6","wt: 3.44<br />mpg: 17.9","wt: 3.39<br />mpg: 18.2","wt: 3.34<br />mpg: 18.6","wt: 3.30<br />mpg: 18.9","wt: 3.25<br />mpg: 19.3","wt: 3.20<br />mpg: 19.6","wt: 3.15<br />mpg: 19.8","wt: 3.10<br />mpg: 20.1","wt: 3.05<br />mpg: 20.3","wt: 3.00<br />mpg: 20.5","wt: 2.95<br />mpg: 20.7","wt: 2.90<br />mpg: 21.0","wt: 2.85<br />mpg: 21.2","wt: 2.80<br />mpg: 21.4","wt: 2.75<br />mpg: 21.7","wt: 2.70<br />mpg: 21.9","wt: 2.65<br />mpg: 22.1","wt: 2.60<br />mpg: 22.3","wt: 2.55<br />mpg: 22.6","wt: 2.50<br />mpg: 23.0","wt: 2.45<br />mpg: 23.4","wt: 2.40<br />mpg: 23.8","wt: 2.35<br />mpg: 24.3","wt: 2.31<br />mpg: 24.8","wt: 2.26<br />mpg: 25.3","wt: 2.21<br />mpg: 25.8","wt: 2.16<br />mpg: 26.3","wt: 2.11<br />mpg: 26.8","wt: 2.06<br />mpg: 27.3","wt: 2.01<br />mpg: 27.8","wt: 1.96<br />mpg: 28.3","wt: 1.91<br />mpg: 28.7","wt: 1.86<br />mpg: 29.2","wt: 1.81<br />mpg: 29.6","wt: 1.76<br />mpg: 30.0","wt: 1.71<br />mpg: 30.5","wt: 1.66<br />mpg: 30.9","wt: 1.61<br />mpg: 31.3","wt: 1.56<br />mpg: 31.7","wt: 1.51<br />mpg: 32.1","wt: 1.51<br />mpg: 32.1"],"type":"scatter","mode":"lines","line":{"width":3.77952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(153,153,153,0.4)","hoveron":"points","hoverinfo":"x+y","showlegend":false,"xaxis":"x","yaxis":"y","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[1.31745,5.61955],"tickmode":"array","ticktext":["2","3","4","5"],"tickvals":[2,3,4,5],"categoryorder":"array","categoryarray":["2","3","4","5"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"wt","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[6.85711047454534,37.4189087017306],"tickmode":"array","ticktext":["10","20","30"],"tickvals":[10,20,30],"categoryorder":"array","categoryarray":["10","20","30"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"mpg","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","cloud":false},"source":"A","attrs":{"131c550bdb4ff":{"x":{},"y":{},"type":"scatter"},"131c556b5fac2":{"x":{},"y":{}}},"cur_data":"131c550bdb4ff","visdat":{"131c550bdb4ff":["function (y) ","x"],"131c556b5fac2":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p class="caption">
FIGURE 37.3: A scatterplot with a fitted line and confidence band.
</p>
</div>
<p>The <strong>ggplot2</strong> package doesn’t provide an API for interactive features, but by changing the <a href="https://plot.ly/r/reference/#scatter-hoverinfo">hoverinfo</a> attribute to <code>"none"</code>, we can turn off hover for the relevant traces. This sort of task (i.e. modifying trace attribute values) is best achieved through the <code>style()</code> function. Before using it, you may want to study the underlying traces with <code>plotly_json()</code> which uses the <strong>listviewer</strong> package to display a convenient interactive view of the JSON object sent to plotly.js <span class="citation">(de Jong and Russell <a href="#ref-listviewer" role="doc-biblioref">2016</a>)</span>. By clicking on the arrow next to the data element, you can see the traces (data) behind the plot. As shown in Figure <a href="modifying-ggplotly.html#fig:listviewer">37.4</a>, we have three traces: one for the <code>geom_point()</code> layer and two for the <code>geom_smooth()</code> layer.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plotly_json</span>(p)</code></pre>
<div class="figure" style="text-align: center"><span id="fig:listviewer"></span>
<img src="images/listviewer.png" alt="Using listviewer to inspect the JSON representation of a plotly object." width="100%" />
<p class="caption">
FIGURE 37.4: Using listviewer to inspect the JSON representation of a plotly object.
</p>
</div>
<p>This output indicates that the fitted line and confidence band are implemented in the 2nd and 3rd trace of the plotly object, so to turn off the hover of those traces:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">style</span>(p, <span class="dt">hoverinfo =</span> <span class="st">&quot;none&quot;</span>, <span class="dt">traces =</span> <span class="dv">2</span><span class="op">:</span><span class="dv">3</span>)</code></pre>
<div class="figure" style="text-align: center"><span id="fig:style-hoverinfo"></span>
<img src="images/style-hoverinfo.png" alt="Using the `style()` function to modify hoverinfo attribute values of a plotly object created via `ggplotly()` (by default, `ggplotly()` displays hoverinfo for all traces). In this case, the hoverinfo for a fitted line and error bounds are hidden." width="100%" />
<p class="caption">
FIGURE 37.5: Using the <code>style()</code> function to modify hoverinfo attribute values of a plotly object created via <code>ggplotly()</code> (by default, <code>ggplotly()</code> displays hoverinfo for all traces). In this case, the hoverinfo for a fitted line and error bounds are hidden.
</p>
</div>
</div>
<div id="leveraging-statistical-output" class="section level2">
<h2><span class="header-section-number">37.3</span> Leveraging statistical output</h2>
<p>Since <code>ggplotly()</code> returns a plotly object, and <strong>plotly</strong> objects can have data attached to them, it attaches data from <strong>ggplot2</strong> layer(s) (either before or after summary statistics have been applied). Furthermore, since each ggplot layer owns a data frame, it is useful to have some way to specify the particular layer of data of interest, which is done via the <code>layerData</code> argument in <code>ggplotly()</code>. Also, when a particular layer applies a summary statistic (e.g., <code>geom_bin()</code>), or applies a statistical model (e.g., <code>geom_smooth()</code>) to the data, it might be useful to access the output of that transformation, which is the point of the <code>originalData</code> argument in <code>ggplotly()</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r">p &lt;-<span class="st"> </span><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(<span class="dt">x =</span> wt, <span class="dt">y =</span> mpg)) <span class="op">+</span>
<span class="st">   </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span><span class="kw">geom_smooth</span>()
p <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplotly</span>(<span class="dt">layerData =</span> <span class="dv">2</span>, <span class="dt">originalData =</span> <span class="ot">FALSE</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">plotly_data</span>()
<span class="co">#&gt; # A tibble: 80 x 13</span>
<span class="co">#&gt;   PANEL     x     y  ymin  ymax    se group colour fill   size linetype</span>
<span class="co">#&gt;   &lt;fct&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt;    &lt;dbl&gt;</span>
<span class="co">#&gt; 1 1      1.51  32.1  28.1  36.0  1.92    -1 #3366… grey…     1        1</span>
<span class="co">#&gt; 2 1      1.56  31.7  28.2  35.2  1.72    -1 #3366… grey…     1        1</span>
<span class="co">#&gt; 3 1      1.61  31.3  28.1  34.5  1.54    -1 #3366… grey…     1        1</span>
<span class="co">#&gt; 4 1      1.66  30.9  28.0  33.7  1.39    -1 #3366… grey…     1        1</span>
<span class="co">#&gt; 5 1      1.71  30.5  27.9  33.0  1.26    -1 #3366… grey…     1        1</span>
<span class="co">#&gt; 6 1      1.76  30.0  27.7  32.4  1.16    -1 #3366… grey…     1        1</span>
<span class="co">#&gt; # … with 74 more rows, and 2 more variables: weight &lt;dbl&gt;, alpha &lt;dbl&gt;</span></code></pre>
<p>The data shown above is the data ggplot2 uses to actually draw the fitted values (as a line) and standard error bounds (as a ribbon). Figure <a href="modifying-ggplotly.html#fig:se-annotations">37.6</a> leverages this data to add additional information about the model fit; in particular, it adds a vertical lines and annotations at the x-values that are associated with the highest and lowest amount uncertainty in the fitted values. Producing a plot like this with <strong>ggplot2</strong> would be impossible using <code>geom_smooth()</code> alone.<a href="#fn39" class="footnote-ref" id="fnref39"><sup>39</sup></a> Providing a simple visual clue like this can help combat visual misperceptions of uncertainty bands due to the sine illusion <span class="citation">(VanderPlas and Hofmann <a href="#ref-sine-illusion" role="doc-biblioref">2015</a>)</span>.</p>
<pre class="sourceCode r"><code class="sourceCode r">p <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplotly</span>(<span class="dt">layerData =</span> <span class="dv">2</span>, <span class="dt">originalData =</span> <span class="ot">FALSE</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">add_fun</span>(<span class="cf">function</span>(p) {
    p <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">slice</span>(<span class="kw">which.max</span>(se)) <span class="op">%&gt;%</span>
<span class="st">      </span><span class="kw">add_segments</span>(<span class="dt">x =</span> <span class="op">~</span>x, <span class="dt">xend =</span> <span class="op">~</span>x, <span class="dt">y =</span> <span class="op">~</span>ymin, <span class="dt">yend =</span> <span class="op">~</span>ymax) <span class="op">%&gt;%</span>
<span class="st">      </span><span class="kw">add_annotations</span>(<span class="st">&quot;Maximum uncertainty&quot;</span>, <span class="dt">ax =</span> <span class="dv">60</span>)
  }) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">add_fun</span>(<span class="cf">function</span>(p) {
    p <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">slice</span>(<span class="kw">which.min</span>(se)) <span class="op">%&gt;%</span>
<span class="st">      </span><span class="kw">add_segments</span>(<span class="dt">x =</span> <span class="op">~</span>x, <span class="dt">xend =</span> <span class="op">~</span>x, <span class="dt">y =</span> <span class="op">~</span>ymin, <span class="dt">yend =</span> <span class="op">~</span>ymax) <span class="op">%&gt;%</span>
<span class="st">      </span><span class="kw">add_annotations</span>(<span class="st">&quot;Minimum uncertainty&quot;</span>)
  })</code></pre>
<div class="figure" style="text-align: center"><span id="fig:se-annotations"></span>
<img src="images/se-annotations.svg" alt="Leveraging data associated with a `geom_smooth()` layer to display additional information about the model fit." width="100%" />
<p class="caption">
FIGURE 37.6: Leveraging data associated with a <code>geom_smooth()</code> layer to display additional information about the model fit.
</p>
</div>
<p>In addition to leveraging output from <code>StatSmooth</code>, it is sometimes useful to leverage output of other statistics, especially for annotation purposes. Figure <a href="modifying-ggplotly.html#fig:StatBin">37.7</a> leverages the output of <code>StatBin</code> to add annotations to a stacked bar chart. Annotation is primarily helpful for displaying the heights of bars in a stacked bar chart, since decoding the heights of bars is a fairly difficult perceptual task <span class="citation">(Cleveland and McGill <a href="#ref-graphical-perception" role="doc-biblioref">1984</a>)</span>. As result, it is much easier to compare bar heights representing the proportion of diamonds with a given clarity across various diamond cuts.</p>
<pre class="sourceCode r"><code class="sourceCode r">p &lt;-<span class="st"> </span><span class="kw">ggplot</span>(diamonds, <span class="kw">aes</span>(cut, <span class="dt">fill =</span> clarity)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">position =</span> <span class="st">&quot;fill&quot;</span>)

<span class="kw">ggplotly</span>(p, <span class="dt">originalData =</span> <span class="ot">FALSE</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">ydiff =</span> ymax <span class="op">-</span><span class="st"> </span>ymin) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">add_text</span>(
    <span class="dt">x =</span> <span class="op">~</span>x, <span class="dt">y =</span> <span class="op">~</span>(ymin <span class="op">+</span><span class="st"> </span>ymax) <span class="op">/</span><span class="st"> </span><span class="dv">2</span>,
    <span class="dt">text =</span> <span class="op">~</span><span class="kw">ifelse</span>(ydiff <span class="op">&gt;</span><span class="st"> </span><span class="fl">0.02</span>, <span class="kw">round</span>(ydiff, <span class="dv">2</span>), <span class="st">&quot;&quot;</span>),
    <span class="dt">showlegend =</span> <span class="ot">FALSE</span>, <span class="dt">hoverinfo =</span> <span class="st">&quot;none&quot;</span>,
    <span class="dt">color =</span> <span class="kw">I</span>(<span class="st">&quot;black&quot;</span>), <span class="dt">size =</span> <span class="kw">I</span>(<span class="dv">9</span>)
  )</code></pre>
<div class="figure" style="text-align: center"><span id="fig:StatBin"></span>
<img src="images/StatBin.svg" alt="Leveraging output from `StatBin` to add annotations to a stacked bar chart (created via `geom_bar()`) which makes it easier to compare bar heights." width="100%" />
<p class="caption">
FIGURE 37.7: Leveraging output from <code>StatBin</code> to add annotations to a stacked bar chart (created via <code>geom_bar()</code>) which makes it easier to compare bar heights.
</p>
</div>
<p>Another useful application is labelling the levels of each piece/polygon output by <code>StatDensity2d</code> as shown in Figure <a href="modifying-ggplotly.html#fig:StatDensity2d">37.8</a>. Note that, in this example, the <code>add_text()</code> layer takes advantage of <code>ggplotly()</code>’s ability to inherit aesthetics from the global mapping. Furthermore, since <code>originalData</code> is <code>FALSE</code>, it attaches the “built” aesthetics (i.e., the <code>x</code>/<code>y</code> positions after <code>StatDensity2d</code> has been applied to the raw data).</p>
<pre class="sourceCode r"><code class="sourceCode r">p &lt;-<span class="st"> </span><span class="kw">ggplot</span>(MASS<span class="op">::</span>geyser, <span class="kw">aes</span>(<span class="dt">x =</span> waiting, <span class="dt">y =</span> duration)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_density2d</span>()

<span class="kw">ggplotly</span>(p, <span class="dt">originalData =</span> <span class="ot">FALSE</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(piece) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">slice</span>(<span class="kw">which.min</span>(y)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">add_text</span>(
    <span class="dt">text =</span> <span class="op">~</span>level, <span class="dt">size =</span> <span class="kw">I</span>(<span class="dv">9</span>), <span class="dt">color =</span> <span class="kw">I</span>(<span class="st">&quot;black&quot;</span>), <span class="dt">hoverinfo =</span> <span class="st">&quot;none&quot;</span>
  )</code></pre>
<div class="figure" style="text-align: center"><span id="fig:StatDensity2d"></span>
<img src="images/StatDensity2d.svg" alt="Leveraging output from `StatDensity2d` to add annotations to contour levels." width="100%" />
<p class="caption">
FIGURE 37.8: Leveraging output from <code>StatDensity2d</code> to add annotations to contour levels.
</p>
</div>
<!-- TODO: make this more convincing
## Choosing an interface

1. ggplot2 requires data frame(s) and can be inefficient (especially for time series).
2. ggplot2 does not have a functional interface (making it awkward to combine with modern functional interfaces such as dplyr), and does not satisfy [referential transparency](https://en.wikipedia.org/wiki/Referential_transparency) (making it easier to program with -- for more details, see )
3. `ggplotly()` tries to replicate _exactly_ what you see in the corresponding static ggplot2 graph. To do so, it sends axis tick information to plotly as [tickvals](https://plot.ly/r/reference/#layout-xaxis-tickvals)/[ticktext](https://plot.ly/r/reference/#layout-xaxis-ticktext) properties, and consequently, axis ticks do not update on zoom events.
4. ggplot2's interface wasn't designed for interactive graphics. Directly extending the grammar to support more advanced types of interaction (e.g., linked brushing) is a risky endeavor.
-->
</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-banking">
<p>William S. Cleveland, Robert McGill, Marylyn E. McGill. 1988. “The Shape Parameter of a Two-Variable Graph.” <em>Journal of the American Statistical Association</em> 83 (402): 289–300. <a href="http://www.jstor.org/stable/2288843">http://www.jstor.org/stable/2288843</a>.</p>
</div>
<div id="ref-listviewer">
<p>de Jong, Jos, and Kenton Russell. 2016. <em>Listviewer: ’Htmlwidget’ for Interactive Views of R Lists</em>. <a href="https://github.com/timelyportfolio/listviewer">https://github.com/timelyportfolio/listviewer</a>.</p>
</div>
<div id="ref-sine-illusion">
<p>VanderPlas, Susan, and Heike Hofmann. 2015. “Signs of the Sine Illusion—Why We Need to Care.” <em>Journal of Computational and Graphical Statistics</em> 24 (4): 1170–90. <a href="https://doi.org/10.1080/10618600.2014.951547">https://doi.org/10.1080/10618600.2014.951547</a>.</p>
</div>
<div id="ref-graphical-perception">
<p>Cleveland, William S, and Robert McGill. 1984. “Graphical Perception: Theory, Experimentation, and Application to the Development of Graphical Methods.” <em>Journal of the American Statistical Association</em> 79 (September): 531–54.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="39">
<li id="fn39"><p>It could be recreated by fitting the model via <code>loess()</code>, obtaining the fitted values and standard error with <code>predict()</code>, and feeding those results into <code>geom_line()</code>/<code>geom_ribbon()</code>/<code>geom_text()</code>/<code>geom_segment()</code>, but that process is much more onerous.<a href="modifying-ggplotly.html#fnref39" class="footnote-back">↩</a></p></li>
</ol>
</div>
<script>
  var header = document.querySelector(".book-header h1");

  var img = document.createElement("img");
  img.src = "images/rstudioCloud.svg";
  img.width = 200;
  img.align = "right";
  img.style = "margin-top: 10px";

  var a = document.createElement("a");
  a.href = "https://rstudio.cloud/project/156701";
  a.target = "_blank";
  a.appendChild(img);

  header.appendChild(a);
</script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-60116966-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-60116966-3');
</script>
            </section>

          </div>
        </div>
      </div>
<a href="the-data-plot-pipeline.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="embedding-images.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/lunr.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/cpsievert/plotly_book/edit/master/topics.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
