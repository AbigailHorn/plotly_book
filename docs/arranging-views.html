<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>13 Arranging views | Interactive web-based data visualization with R, plotly, and shiny</title>
  <meta name="description" content="A useR guide to creating highly interactive graphics for exploratory and expository visualization.">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="13 Arranging views | Interactive web-based data visualization with R, plotly, and shiny" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="A useR guide to creating highly interactive graphics for exploratory and expository visualization." />
  <meta name="github-repo" content="ropensci/plotly" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="13 Arranging views | Interactive web-based data visualization with R, plotly, and shiny" />
  <meta name="twitter:site" content="@cpsievert" />
  <meta name="twitter:description" content="A useR guide to creating highly interactive graphics for exploratory and expository visualization." />
  

<meta name="author" content="Carson Sievert">


<meta name="date" content="2019-03-19">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="editing-views.html">
<link rel="next" href="animating-views.html">
<script src="libs/jquery/jquery.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets/htmlwidgets.js"></script>
<script src="libs/plotly-binding/plotly.js"></script>
<script src="libs/typedarray/typedarray.min.js"></script>
<link href="libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main/plotly-latest.min.js"></script>
<link href="libs/selectize/selectize.bootstrap3.css" rel="stylesheet" />
<script src="libs/selectize/selectize.min.js"></script>
<link href="libs/colourpicker/colourpicker.min.css" rel="stylesheet" />
<script src="libs/colourpicker/colourpicker.min.js"></script>
<link href="libs/datatables-css/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding/datatables.js"></script>
<link href="libs/dt-core/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core/js/jquery.dataTables.min.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/plotly.css" type="text/css" />
<link rel="stylesheet" href="css/style.css" type="text/css" />
<link rel="stylesheet" href="css/summary-fix.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#why-interactive-web-graphics-from-r"><i class="fa fa-check"></i><b>1.1</b> Why interactive web graphics <em>from R</em>?</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#what-you-will-learn"><i class="fa fa-check"></i><b>1.2</b> What you will learn</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#what-you-wont-learn"><i class="fa fa-check"></i><b>1.3</b> What you won’t learn</a><ul>
<li class="chapter" data-level="1.3.1" data-path="introduction.html"><a href="introduction.html#web-technologies"><i class="fa fa-check"></i><b>1.3.1</b> Web technologies</a></li>
<li class="chapter" data-level="1.3.2" data-path="introduction.html"><a href="introduction.html#d3js"><i class="fa fa-check"></i><b>1.3.2</b> d3js</a></li>
<li class="chapter" data-level="1.3.3" data-path="introduction.html"><a href="introduction.html#ggplot2"><i class="fa fa-check"></i><b>1.3.3</b> ggplot2</a></li>
<li class="chapter" data-level="1.3.4" data-path="introduction.html"><a href="introduction.html#graphical-data-analysis"><i class="fa fa-check"></i><b>1.3.4</b> Graphical data analysis</a></li>
<li class="chapter" data-level="1.3.5" data-path="introduction.html"><a href="introduction.html#data-visualization-best-practices"><i class="fa fa-check"></i><b>1.3.5</b> Data visualization best practices</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#prerequisites"><i class="fa fa-check"></i><b>1.4</b> Prerequisites</a></li>
<li class="chapter" data-level="1.5" data-path="introduction.html"><a href="introduction.html#run-code-examples"><i class="fa fa-check"></i><b>1.5</b> Run code examples</a></li>
<li class="chapter" data-level="1.6" data-path="introduction.html"><a href="introduction.html#getting-help-and-learning-more"><i class="fa fa-check"></i><b>1.6</b> Getting help and learning more</a></li>
<li class="chapter" data-level="1.7" data-path="introduction.html"><a href="introduction.html#acknowledgements"><i class="fa fa-check"></i><b>1.7</b> Acknowledgements</a></li>
<li class="chapter" data-level="1.8" data-path="introduction.html"><a href="introduction.html#colophon"><i class="fa fa-check"></i><b>1.8</b> Colophon</a></li>
</ul></li>
<li class="part"><span><b>I Creating views</b></span></li>
<li class="chapter" data-level="2" data-path="overview.html"><a href="overview.html"><i class="fa fa-check"></i><b>2</b> Overview</a><ul>
<li class="chapter" data-level="2.1" data-path="overview.html"><a href="overview.html#intro-plotly"><i class="fa fa-check"></i><b>2.1</b> Intro to <code>plot_ly()</code></a></li>
<li class="chapter" data-level="2.2" data-path="overview.html"><a href="overview.html#intro-plotly-js"><i class="fa fa-check"></i><b>2.2</b> Intro to plotly.js</a></li>
<li class="chapter" data-level="2.3" data-path="overview.html"><a href="overview.html#intro-ggplotly"><i class="fa fa-check"></i><b>2.3</b> Intro to <code>ggplotly()</code></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="scatter-traces.html"><a href="scatter-traces.html"><i class="fa fa-check"></i><b>3</b> Scattered foundations</a><ul>
<li class="chapter" data-level="3.1" data-path="scatter-traces.html"><a href="scatter-traces.html#markers"><i class="fa fa-check"></i><b>3.1</b> Markers</a><ul>
<li class="chapter" data-level="3.1.1" data-path="scatter-traces.html"><a href="scatter-traces.html#marker-alpha"><i class="fa fa-check"></i><b>3.1.1</b> Alpha blending</a></li>
<li class="chapter" data-level="3.1.2" data-path="scatter-traces.html"><a href="scatter-traces.html#marker-color"><i class="fa fa-check"></i><b>3.1.2</b> Colors</a></li>
<li class="chapter" data-level="3.1.3" data-path="scatter-traces.html"><a href="scatter-traces.html#marker-symbol"><i class="fa fa-check"></i><b>3.1.3</b> Symbols</a></li>
<li class="chapter" data-level="3.1.4" data-path="scatter-traces.html"><a href="scatter-traces.html#marker-stroke"><i class="fa fa-check"></i><b>3.1.4</b> Stroke and span</a></li>
<li class="chapter" data-level="3.1.5" data-path="scatter-traces.html"><a href="scatter-traces.html#marker-size"><i class="fa fa-check"></i><b>3.1.5</b> Size</a></li>
<li class="chapter" data-level="3.1.6" data-path="scatter-traces.html"><a href="scatter-traces.html#dot-plots"><i class="fa fa-check"></i><b>3.1.6</b> Dotplots &amp; error bars</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="scatter-traces.html"><a href="scatter-traces.html#lines"><i class="fa fa-check"></i><b>3.2</b> Lines</a><ul>
<li class="chapter" data-level="3.2.1" data-path="scatter-traces.html"><a href="scatter-traces.html#linetypes"><i class="fa fa-check"></i><b>3.2.1</b> Linetypes</a></li>
<li class="chapter" data-level="3.2.2" data-path="scatter-traces.html"><a href="scatter-traces.html#segments"><i class="fa fa-check"></i><b>3.2.2</b> Segments</a></li>
<li class="chapter" data-level="3.2.3" data-path="scatter-traces.html"><a href="scatter-traces.html#density-plots"><i class="fa fa-check"></i><b>3.2.3</b> Density plots</a></li>
<li class="chapter" data-level="3.2.4" data-path="scatter-traces.html"><a href="scatter-traces.html#parallel-coordinates"><i class="fa fa-check"></i><b>3.2.4</b> Parallel Coordinates</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="scatter-traces.html"><a href="scatter-traces.html#polygons"><i class="fa fa-check"></i><b>3.3</b> Polygons</a><ul>
<li class="chapter" data-level="3.3.1" data-path="scatter-traces.html"><a href="scatter-traces.html#ribbons"><i class="fa fa-check"></i><b>3.3.1</b> Ribbons</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="maps.html"><a href="maps.html"><i class="fa fa-check"></i><b>4</b> Maps</a><ul>
<li class="chapter" data-level="4.1" data-path="maps.html"><a href="maps.html#maps-integrated"><i class="fa fa-check"></i><b>4.1</b> Integrated maps</a><ul>
<li class="chapter" data-level="4.1.1" data-path="maps.html"><a href="maps.html#overview-1"><i class="fa fa-check"></i><b>4.1.1</b> Overview</a></li>
<li class="chapter" data-level="4.1.2" data-path="maps.html"><a href="maps.html#choropleths"><i class="fa fa-check"></i><b>4.1.2</b> Choropleths</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="maps.html"><a href="maps.html#maps-custom"><i class="fa fa-check"></i><b>4.2</b> Custom maps</a><ul>
<li class="chapter" data-level="4.2.1" data-path="maps.html"><a href="maps.html#sf"><i class="fa fa-check"></i><b>4.2.1</b> Simple features (sf)</a></li>
<li class="chapter" data-level="4.2.2" data-path="maps.html"><a href="maps.html#cartograms"><i class="fa fa-check"></i><b>4.2.2</b> Cartograms</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="bars-histograms.html"><a href="bars-histograms.html"><i class="fa fa-check"></i><b>5</b> Bars &amp; histograms</a><ul>
<li class="chapter" data-level="5.1" data-path="bars-histograms.html"><a href="bars-histograms.html#multiple-numeric-distributions"><i class="fa fa-check"></i><b>5.1</b> Multiple numeric distributions</a></li>
<li class="chapter" data-level="5.2" data-path="bars-histograms.html"><a href="bars-histograms.html#multiple-discrete-distributions"><i class="fa fa-check"></i><b>5.2</b> Multiple discrete distributions</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="boxplots.html"><a href="boxplots.html"><i class="fa fa-check"></i><b>6</b> Boxplots</a></li>
<li class="chapter" data-level="7" data-path="frequencies-2D.html"><a href="frequencies-2D.html"><i class="fa fa-check"></i><b>7</b> 2D frequencies</a><ul>
<li class="chapter" data-level="7.1" data-path="frequencies-2D.html"><a href="frequencies-2D.html#rectangular-binning-in-plotly.js"><i class="fa fa-check"></i><b>7.1</b> Rectangular binning in plotly.js</a></li>
<li class="chapter" data-level="7.2" data-path="frequencies-2D.html"><a href="frequencies-2D.html#rectangular-binning-in-r"><i class="fa fa-check"></i><b>7.2</b> Rectangular binning in R</a></li>
<li class="chapter" data-level="7.3" data-path="frequencies-2D.html"><a href="frequencies-2D.html#categorical-axes"><i class="fa fa-check"></i><b>7.3</b> Categorical axes</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="d-charts.html"><a href="d-charts.html"><i class="fa fa-check"></i><b>8</b> 3D charts</a><ul>
<li class="chapter" data-level="8.0.1" data-path="d-charts.html"><a href="d-charts.html#markers-and-lines"><i class="fa fa-check"></i><b>8.0.1</b> Markers and lines</a></li>
<li class="chapter" data-level="8.0.2" data-path="d-charts.html"><a href="d-charts.html#d-paths"><i class="fa fa-check"></i><b>8.0.2</b> 3D paths</a></li>
<li class="chapter" data-level="8.0.3" data-path="d-charts.html"><a href="d-charts.html#d-surfaces"><i class="fa fa-check"></i><b>8.0.3</b> 3D surfaces</a></li>
</ul></li>
<li class="part"><span><b>II Publishing views</b></span></li>
<li class="chapter" data-level="9" data-path="introduction-1.html"><a href="introduction-1.html"><i class="fa fa-check"></i><b>9</b> Introduction</a></li>
<li class="chapter" data-level="10" data-path="saving-and-embedding-html.html"><a href="saving-and-embedding-html.html"><i class="fa fa-check"></i><b>10</b> Saving and embedding HTML</a></li>
<li class="chapter" data-level="11" data-path="exporting-static-images.html"><a href="exporting-static-images.html"><i class="fa fa-check"></i><b>11</b> Exporting static images</a><ul>
<li class="chapter" data-level="11.1" data-path="exporting-static-images.html"><a href="exporting-static-images.html#with-code"><i class="fa fa-check"></i><b>11.1</b> With code</a></li>
<li class="chapter" data-level="11.2" data-path="exporting-static-images.html"><a href="exporting-static-images.html#from-a-browser"><i class="fa fa-check"></i><b>11.2</b> From a browser</a></li>
<li class="chapter" data-level="11.3" data-path="exporting-static-images.html"><a href="exporting-static-images.html#sizing-exports"><i class="fa fa-check"></i><b>11.3</b> Sizing exports</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="editing-views.html"><a href="editing-views.html"><i class="fa fa-check"></i><b>12</b> Editing views for publishing</a></li>
<li class="part"><span><b>III Combining multiple views</b></span></li>
<li class="chapter" data-level="13" data-path="arranging-views.html"><a href="arranging-views.html"><i class="fa fa-check"></i><b>13</b> Arranging views</a><ul>
<li class="chapter" data-level="13.1" data-path="arranging-views.html"><a href="arranging-views.html#arranging-plotly-objects"><i class="fa fa-check"></i><b>13.1</b> Arranging plotly objects</a><ul>
<li class="chapter" data-level="13.1.1" data-path="arranging-views.html"><a href="arranging-views.html#recursive-subplots"><i class="fa fa-check"></i><b>13.1.1</b> Recursive subplots</a></li>
<li class="chapter" data-level="13.1.2" data-path="arranging-views.html"><a href="arranging-views.html#other-approaches-applications"><i class="fa fa-check"></i><b>13.1.2</b> Other approaches &amp; applications</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="arranging-views.html"><a href="arranging-views.html#arranging-htmlwidgets"><i class="fa fa-check"></i><b>13.2</b> Arranging htmlwidgets</a></li>
<li class="chapter" data-level="13.3" data-path="arranging-views.html"><a href="arranging-views.html#navigating-many-views"><i class="fa fa-check"></i><b>13.3</b> Navigating many views</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="animating-views.html"><a href="animating-views.html"><i class="fa fa-check"></i><b>14</b> Animating views</a><ul>
<li class="chapter" data-level="14.1" data-path="animating-views.html"><a href="animating-views.html#animation-api"><i class="fa fa-check"></i><b>14.1</b> Animation API</a></li>
<li class="chapter" data-level="14.2" data-path="animating-views.html"><a href="animating-views.html#animation-support"><i class="fa fa-check"></i><b>14.2</b> Animation support</a></li>
</ul></li>
<li class="part"><span><b>IV Linking multiple views</b></span></li>
<li class="chapter" data-level="15" data-path="introduction-2.html"><a href="introduction-2.html"><i class="fa fa-check"></i><b>15</b> Introduction</a></li>
<li class="chapter" data-level="16" data-path="client-side-linking.html"><a href="client-side-linking.html"><i class="fa fa-check"></i><b>16</b> Client-side linking</a><ul>
<li class="chapter" data-level="16.1" data-path="client-side-linking.html"><a href="client-side-linking.html#graphical-queries"><i class="fa fa-check"></i><b>16.1</b> Graphical queries</a></li>
<li class="chapter" data-level="16.2" data-path="client-side-linking.html"><a href="client-side-linking.html#filter"><i class="fa fa-check"></i><b>16.2</b> Highlight versus filter events</a></li>
<li class="chapter" data-level="16.3" data-path="client-side-linking.html"><a href="client-side-linking.html#linking-animated-views"><i class="fa fa-check"></i><b>16.3</b> Linking animated views</a></li>
<li class="chapter" data-level="16.4" data-path="client-side-linking.html"><a href="client-side-linking.html#querying-examples"><i class="fa fa-check"></i><b>16.4</b> Examples</a><ul>
<li class="chapter" data-level="16.4.1" data-path="client-side-linking.html"><a href="client-side-linking.html#trellis-linking"><i class="fa fa-check"></i><b>16.4.1</b> Querying facetted charts</a></li>
<li class="chapter" data-level="16.4.2" data-path="client-side-linking.html"><a href="client-side-linking.html#statistical-queries"><i class="fa fa-check"></i><b>16.4.2</b> Statistical queries</a></li>
<li class="chapter" data-level="16.4.3" data-path="client-side-linking.html"><a href="client-side-linking.html#statistical-queries-ggplot"><i class="fa fa-check"></i><b>16.4.3</b> Statistical queries with <code>ggplotly()</code></a></li>
<li class="chapter" data-level="16.4.4" data-path="client-side-linking.html"><a href="client-side-linking.html#geo-spatial-queries"><i class="fa fa-check"></i><b>16.4.4</b> Geo-spatial queries</a></li>
<li class="chapter" data-level="16.4.5" data-path="client-side-linking.html"><a href="client-side-linking.html#linking-with-other-htmlwidgets"><i class="fa fa-check"></i><b>16.4.5</b> Linking with other htmlwidgets</a></li>
<li class="chapter" data-level="16.4.6" data-path="client-side-linking.html"><a href="client-side-linking.html#ggally-ggpairs"><i class="fa fa-check"></i><b>16.4.6</b> Generalized pairs plots</a></li>
<li class="chapter" data-level="16.4.7" data-path="client-side-linking.html"><a href="client-side-linking.html#ggally-ggnostic"><i class="fa fa-check"></i><b>16.4.7</b> Querying diagnostic plots</a></li>
</ul></li>
<li class="chapter" data-level="16.5" data-path="client-side-linking.html"><a href="client-side-linking.html#limitations"><i class="fa fa-check"></i><b>16.5</b> Limitations</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="linking-server-side.html"><a href="linking-server-side.html"><i class="fa fa-check"></i><b>17</b> Server-side linking with shiny</a><ul>
<li class="chapter" data-level="17.1" data-path="linking-server-side.html"><a href="linking-server-side.html#hello-shiny"><i class="fa fa-check"></i><b>17.1</b> Embedding plotly in shiny</a><ul>
<li class="chapter" data-level="17.1.1" data-path="linking-server-side.html"><a href="linking-server-side.html#your-first-shiny-app"><i class="fa fa-check"></i><b>17.1.1</b> Your first shiny app</a></li>
<li class="chapter" data-level="17.1.2" data-path="linking-server-side.html"><a href="linking-server-side.html#hiding-and-redrawing-on-resize"><i class="fa fa-check"></i><b>17.1.2</b> Hiding and redrawing on resize</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="linking-server-side.html"><a href="linking-server-side.html#shiny-plotly-inputs"><i class="fa fa-check"></i><b>17.2</b> Leveraging plotly input events</a><ul>
<li class="chapter" data-level="17.2.1" data-path="linking-server-side.html"><a href="linking-server-side.html#dragging-events"><i class="fa fa-check"></i><b>17.2.1</b> Dragging events</a></li>
<li class="chapter" data-level="17.2.2" data-path="linking-server-side.html"><a href="linking-server-side.html#d-events"><i class="fa fa-check"></i><b>17.2.2</b> 3D events</a></li>
<li class="chapter" data-level="17.2.3" data-path="linking-server-side.html"><a href="linking-server-side.html#edit-events"><i class="fa fa-check"></i><b>17.2.3</b> Edit events</a></li>
<li class="chapter" data-level="17.2.4" data-path="linking-server-side.html"><a href="linking-server-side.html#relayout-vs-restyle-events"><i class="fa fa-check"></i><b>17.2.4</b> Relayout vs restyle events</a></li>
<li class="chapter" data-level="17.2.5" data-path="linking-server-side.html"><a href="linking-server-side.html#scoping-events"><i class="fa fa-check"></i><b>17.2.5</b> Scoping events</a></li>
<li class="chapter" data-level="17.2.6" data-path="linking-server-side.html"><a href="linking-server-side.html#event-priority"><i class="fa fa-check"></i><b>17.2.6</b> Event priority</a></li>
<li class="chapter" data-level="17.2.7" data-path="linking-server-side.html"><a href="linking-server-side.html#handling-discrete-axes"><i class="fa fa-check"></i><b>17.2.7</b> Handling discrete axes</a></li>
<li class="chapter" data-level="17.2.8" data-path="linking-server-side.html"><a href="linking-server-side.html#reactive-vals"><i class="fa fa-check"></i><b>17.2.8</b> Accumulating and managing event data</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="linking-server-side.html"><a href="linking-server-side.html#shiny-performance"><i class="fa fa-check"></i><b>17.3</b> Improving performance</a><ul>
<li class="chapter" data-level="17.3.1" data-path="linking-server-side.html"><a href="linking-server-side.html#proxies"><i class="fa fa-check"></i><b>17.3.1</b> Partial plotly updates</a></li>
<li class="chapter" data-level="17.3.2" data-path="linking-server-side.html"><a href="linking-server-side.html#partial-update-examples"><i class="fa fa-check"></i><b>17.3.2</b> Partial update examples</a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="linking-server-side.html"><a href="linking-server-side.html#advanced-applications"><i class="fa fa-check"></i><b>17.4</b> Advanced applications</a><ul>
<li class="chapter" data-level="17.4.1" data-path="linking-server-side.html"><a href="linking-server-side.html#drill-down"><i class="fa fa-check"></i><b>17.4.1</b> Drill-down</a></li>
<li class="chapter" data-level="17.4.2" data-path="linking-server-side.html"><a href="linking-server-side.html#crossfilter"><i class="fa fa-check"></i><b>17.4.2</b> Cross-filter</a></li>
<li class="chapter" data-level="17.4.3" data-path="linking-server-side.html"><a href="linking-server-side.html#drag-brush"><i class="fa fa-check"></i><b>17.4.3</b> A draggable brush</a></li>
</ul></li>
<li class="chapter" data-level="17.5" data-path="linking-server-side.html"><a href="linking-server-side.html#discussion"><i class="fa fa-check"></i><b>17.5</b> Discussion</a></li>
</ul></li>
<li class="part"><span><b>V Custom behavior with JavaScript</b></span></li>
<li class="chapter" data-level="18" data-path="javascript.html"><a href="javascript.html"><i class="fa fa-check"></i><b>18</b> Introduction</a></li>
<li class="chapter" data-level="19" data-path="json.html"><a href="json.html"><i class="fa fa-check"></i><b>19</b> Working with JSON</a><ul>
<li class="chapter" data-level="19.1" data-path="json.html"><a href="json.html#assignment-subsetting-and-iteration"><i class="fa fa-check"></i><b>19.1</b> Assignment, subsetting, and iteration</a></li>
<li class="chapter" data-level="19.2" data-path="json.html"><a href="json.html#mapping-r-to-json"><i class="fa fa-check"></i><b>19.2</b> Mapping R to JSON</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="js-event-handlers.html"><a href="js-event-handlers.html"><i class="fa fa-check"></i><b>20</b> Adding custom event handlers</a></li>
<li class="chapter" data-level="21" data-path="supplying-custom-data.html"><a href="supplying-custom-data.html"><i class="fa fa-check"></i><b>21</b> Supplying custom data</a></li>
<li class="chapter" data-level="22" data-path="client-side.html"><a href="client-side.html"><i class="fa fa-check"></i><b>22</b> Leveraging web technologies from R</a></li>
<li class="part"><span><b>VI Various special topics</b></span></li>
<li class="chapter" data-level="23" data-path="is-plotly-free-secure.html"><a href="is-plotly-free-secure.html"><i class="fa fa-check"></i><b>23</b> Is plotly free &amp; secure?</a></li>
<li class="chapter" data-level="24" data-path="controlling-tooltips.html"><a href="controlling-tooltips.html"><i class="fa fa-check"></i><b>24</b> Controlling tooltips</a><ul>
<li class="chapter" data-level="24.1" data-path="controlling-tooltips.html"><a href="controlling-tooltips.html#tooltip-text"><i class="fa fa-check"></i><b>24.1</b> <code>plot_ly()</code> tooltips</a></li>
<li class="chapter" data-level="24.2" data-path="controlling-tooltips.html"><a href="controlling-tooltips.html#tooltip-text-ggplotly"><i class="fa fa-check"></i><b>24.2</b> <code>ggplotly()</code> tooltips</a></li>
<li class="chapter" data-level="24.3" data-path="controlling-tooltips.html"><a href="controlling-tooltips.html#styling"><i class="fa fa-check"></i><b>24.3</b> Styling</a></li>
</ul></li>
<li class="chapter" data-level="25" data-path="control-modebar.html"><a href="control-modebar.html"><i class="fa fa-check"></i><b>25</b> Control the modebar</a><ul>
<li class="chapter" data-level="25.1" data-path="control-modebar.html"><a href="control-modebar.html#remove-the-entire-modebar"><i class="fa fa-check"></i><b>25.1</b> Remove the entire modebar</a></li>
<li class="chapter" data-level="25.2" data-path="control-modebar.html"><a href="control-modebar.html#remove-the-plotly-logo"><i class="fa fa-check"></i><b>25.2</b> Remove the plotly logo</a></li>
<li class="chapter" data-level="25.3" data-path="control-modebar.html"><a href="control-modebar.html#remove-modebar-buttons-by-name"><i class="fa fa-check"></i><b>25.3</b> Remove modebar buttons by name</a></li>
<li class="chapter" data-level="25.4" data-path="control-modebar.html"><a href="control-modebar.html#add-custom-modebar-buttons"><i class="fa fa-check"></i><b>25.4</b> Add custom modebar buttons</a></li>
<li class="chapter" data-level="25.5" data-path="control-modebar.html"><a href="control-modebar.html#control-image-downloads"><i class="fa fa-check"></i><b>25.5</b> Control image downloads</a></li>
</ul></li>
<li class="chapter" data-level="26" data-path="working-with-colors.html"><a href="working-with-colors.html"><i class="fa fa-check"></i><b>26</b> Working with colors</a></li>
<li class="chapter" data-level="27" data-path="working-with-symbols.html"><a href="working-with-symbols.html"><i class="fa fa-check"></i><b>27</b> Working with symbols and glyphs</a></li>
<li class="chapter" data-level="28" data-path="control-the-layout.html"><a href="control-the-layout.html"><i class="fa fa-check"></i><b>28</b> Control the layout</a><ul>
<li class="chapter" data-level="28.1" data-path="control-the-layout.html"><a href="control-the-layout.html#axis-titles"><i class="fa fa-check"></i><b>28.1</b> Axis titles</a></li>
<li class="chapter" data-level="28.2" data-path="control-the-layout.html"><a href="control-the-layout.html#axis-labels"><i class="fa fa-check"></i><b>28.2</b> Axis labels</a></li>
<li class="chapter" data-level="28.3" data-path="control-the-layout.html"><a href="control-the-layout.html#margins"><i class="fa fa-check"></i><b>28.3</b> Margins</a></li>
<li class="chapter" data-level="28.4" data-path="control-the-layout.html"><a href="control-the-layout.html#fonts"><i class="fa fa-check"></i><b>28.4</b> Fonts</a></li>
</ul></li>
<li class="chapter" data-level="29" data-path="locales.html"><a href="locales.html"><i class="fa fa-check"></i><b>29</b> Language support</a></li>
<li class="chapter" data-level="30" data-path="mathjax.html"><a href="mathjax.html"><i class="fa fa-check"></i><b>30</b> LaTeX rendering</a><ul>
<li class="chapter" data-level="30.1" data-path="mathjax.html"><a href="mathjax.html#mathjax-caveats"><i class="fa fa-check"></i><b>30.1</b> MathJax caveats</a></li>
</ul></li>
<li class="chapter" data-level="31" data-path="the-data-plot-pipeline.html"><a href="the-data-plot-pipeline.html"><i class="fa fa-check"></i><b>31</b> The data-plot-pipeline</a></li>
<li class="chapter" data-level="32" data-path="modifying-ggplotly.html"><a href="modifying-ggplotly.html"><i class="fa fa-check"></i><b>32</b> Improving <code>ggplotly()</code></a><ul>
<li class="chapter" data-level="32.1" data-path="modifying-ggplotly.html"><a href="modifying-ggplotly.html#modifying-layout"><i class="fa fa-check"></i><b>32.1</b> Modifying layout</a></li>
<li class="chapter" data-level="32.2" data-path="modifying-ggplotly.html"><a href="modifying-ggplotly.html#modifying-data"><i class="fa fa-check"></i><b>32.2</b> Modifying data</a></li>
<li class="chapter" data-level="32.3" data-path="modifying-ggplotly.html"><a href="modifying-ggplotly.html#leveraging-statistical-output"><i class="fa fa-check"></i><b>32.3</b> Leveraging statistical output</a></li>
</ul></li>
<li class="chapter" data-level="33" data-path="embedding-images.html"><a href="embedding-images.html"><i class="fa fa-check"></i><b>33</b> Embedding images</a></li>
<li class="part"><span><b>VII Developer-facing topics</b></span></li>
<li class="chapter" data-level="34" data-path="custom-geoms.html"><a href="custom-geoms.html"><i class="fa fa-check"></i><b>34</b> Translating custom ggplot2 geoms</a></li>
<li class="chapter" data-level="35" data-path="designing-an-htmlwidget-interface.html"><a href="designing-an-htmlwidget-interface.html"><i class="fa fa-check"></i><b>35</b> Designing an htmlwidget interface</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Interactive web-based data visualization with R, plotly, and shiny</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="arranging-views" class="section level1">
<h1><span class="header-section-number">13</span> Arranging views</h1>
<p>One technique essential to high-dimensional data visualization is the ability to arrange multiple views. By arranging multiple low-dimensional graphics of the same (or similar) high-dimensional data, one can put
local summaries and patterns into a global context. When arranging multiple <strong>plotly</strong> objects, you have some flexibility in terms of how you arrange them: you could use <code>subplot()</code> to merge multiple <strong>plotly</strong> object into a single object (useful for synchronizing zoom&amp;pan events across multiple axes), place them in separate HTML tags (Section <a href="arranging-views.html#arranging-htmlwidgets">13.2</a>), or embedded in a larger system for navigating many views (Section <a href="arranging-views.html#navigating-many-views">13.3</a>).</p>
<p>Ideally, when displaying multiple related data views, they are linked through an underlying data source to foster comparisons and enable posing of data queries <span class="citation">(D. Cook, Buja, and Swayne <a href="#ref-Cook:2007uk" role="doc-biblioref">2007</a>)</span>. Chapter <a href="client-side-linking.html#graphical-queries">16.1</a> shows how to build upon these methods for arranging views to link them (client-side) as well.</p>
<div id="arranging-plotly-objects" class="section level2">
<h2><span class="header-section-number">13.1</span> Arranging plotly objects</h2>
<p>The <code>subplot()</code> function provides a flexible interface for merging multiple <strong>plotly</strong> objects into a single object. It is more flexible than most trellis display frameworks (e.g., <strong>ggplot2</strong>’s <code>facet_wrap()</code>) as you don’t have to condition on a value of common variable in each display <span class="citation">(Richard A. Becker <a href="#ref-trellis" role="doc-biblioref">1996</a>)</span>. Its capabilities and interface is similar to the <code>grid.arrange()</code> function from the <strong>gridExtra</strong> package, which allows you to arrange multiple <strong>grid</strong> grobs in a single view, effectively providing a way to arrange (possibly unrelated) <strong>ggplot2</strong> and/or <strong>lattice</strong> plots in a single view <span class="citation">(R Core Team <a href="#ref-RCore" role="doc-biblioref">2016</a>)</span>; <span class="citation">(Auguie <a href="#ref-gridExtra" role="doc-biblioref">2016</a>)</span>; <span class="citation">(Sarkar <a href="#ref-lattice" role="doc-biblioref">2008</a>)</span>. Figure <a href="arranging-views.html#fig:subplot-simple">13.1</a> shows the most simple way to use <code>subplot()</code> which is to directly supply plotly objects.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(plotly)
p1 &lt;-<span class="st"> </span><span class="kw">plot_ly</span>(economics, <span class="dt">x =</span> <span class="op">~</span>date, <span class="dt">y =</span> <span class="op">~</span>unemploy) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">add_lines</span>(<span class="dt">name =</span> <span class="st">&quot;unemploy&quot;</span>)
p2 &lt;-<span class="st"> </span><span class="kw">plot_ly</span>(economics, <span class="dt">x =</span> <span class="op">~</span>date, <span class="dt">y =</span> <span class="op">~</span>uempmed) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">add_lines</span>(<span class="dt">name =</span> <span class="st">&quot;uempmed&quot;</span>)
<span class="kw">subplot</span>(p1, p2)</code></pre>
<div class="figure" style="text-align: center"><span id="fig:subplot-simple"></span>
<img src="images/subplot-simple.svg" alt="The most basic use of `subplot()` to merge multiple plotly objects into a single plotly object." width="100%" />
<p class="caption">
FIGURE 13.1: The most basic use of <code>subplot()</code> to merge multiple plotly objects into a single plotly object.
</p>
</div>
<p>Although <code>subplot()</code> accepts an arbitrary number of plot objects, passing a <em>list</em> of plots can save typing and redundant code when dealing with a large number of plots. Figure <a href="arranging-views.html#fig:economics">13.2</a> shows one time series for each variable in the <code>economics</code> dataset and share the x-axis so that zoom/pan events are synchronized across each series:</p>
<pre class="sourceCode r"><code class="sourceCode r">vars &lt;-<span class="st"> </span><span class="kw">setdiff</span>(<span class="kw">names</span>(economics), <span class="st">&quot;date&quot;</span>)
plots &lt;-<span class="st"> </span><span class="kw">lapply</span>(vars, <span class="cf">function</span>(var) {
  <span class="kw">plot_ly</span>(economics, <span class="dt">x =</span> <span class="op">~</span>date, <span class="dt">y =</span> <span class="kw">as.formula</span>(<span class="kw">paste0</span>(<span class="st">&quot;~&quot;</span>, var))) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">add_lines</span>(<span class="dt">name =</span> var)
})
<span class="kw">subplot</span>(plots, <span class="dt">nrows =</span> <span class="kw">length</span>(plots), <span class="dt">shareX =</span> <span class="ot">TRUE</span>, <span class="dt">titleX =</span> <span class="ot">FALSE</span>)</code></pre>
<div class="figure" style="text-align: center"><span id="fig:economics"></span>
<img src="images/economics.svg" alt="Five different economic variables on different y scales and a common x scale. Zoom and pan events in the x-direction are synchronized across plots." width="100%" />
<p class="caption">
FIGURE 13.2: Five different economic variables on different y scales and a common x scale. Zoom and pan events in the x-direction are synchronized across plots.
</p>
</div>
<p>Conceptually, <code>subplot()</code> provides a way to place a collection of plots into a table with a given number of rows and columns. The number of rows (and, by consequence, the number of columns) is specified via the <code>nrows</code> argument. By default each row/column shares an equal proportion of the overall height/width, but as shown in Figure <a href="arranging-views.html#fig:proportions">13.3</a> the default can be changed via the <code>heights</code> and <code>widths</code> arguments.</p>
<div class="figure" style="text-align: center"><span id="fig:proportions"></span>
<img src="images/proportions.svg" alt="A visual diagram of controling the `heights` of rows and `widths` of columns. In this particular example, there are 5 plots being placed in 2 rows and three columns." width="50%" />
<p class="caption">
FIGURE 13.3: A visual diagram of controling the <code>heights</code> of rows and <code>widths</code> of columns. In this particular example, there are 5 plots being placed in 2 rows and three columns.
</p>
</div>
<p>This flexibility is quite useful for a number of visualizations, for example, as shown in Figure <a href="arranging-views.html#fig:joint">13.4</a>, a joint density plot is really of subplot of joint and marginal densities. The <strong>heatmaply</strong> package is great example of leveraging <code>subplot()</code> in a similar way to create interactive dendrograms <span class="citation">(Galili <a href="#ref-heatmaply" role="doc-biblioref">2016</a>)</span>.</p>
<details>
<p><summary>Click to show code</summary></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># generate 10,000 random values from correlated bi-variate normal distribution</span>
m &lt;-<span class="st"> </span>mvtnorm<span class="op">::</span><span class="kw">rmvnorm</span>(<span class="fl">1e5</span>, <span class="dt">sigma =</span> <span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="fl">0.3</span>, <span class="fl">0.3</span>, <span class="dv">1</span>), <span class="dt">nrow =</span> <span class="dv">2</span>))
x &lt;-<span class="st"> </span>m[, <span class="dv">1</span>]
y &lt;-<span class="st"> </span>m[, <span class="dv">2</span>]
s &lt;-<span class="st"> </span><span class="kw">subplot</span>(
  <span class="kw">plot_ly</span>(<span class="dt">x =</span> x, <span class="dt">color =</span> <span class="kw">I</span>(<span class="st">&quot;black&quot;</span>)), 
  <span class="kw">plotly_empty</span>(), 
  <span class="kw">plot_ly</span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y, <span class="dt">color =</span> <span class="kw">I</span>(<span class="st">&quot;black&quot;</span>)) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">add_histogram2dcontour</span>(<span class="dt">colorscale =</span> <span class="st">&quot;Viridis&quot;</span>), 
  <span class="kw">plot_ly</span>(<span class="dt">y =</span> y, <span class="dt">color =</span> <span class="kw">I</span>(<span class="st">&quot;black&quot;</span>)),
  <span class="dt">nrows =</span> <span class="dv">2</span>, <span class="dt">heights =</span> <span class="kw">c</span>(<span class="fl">0.2</span>, <span class="fl">0.8</span>), <span class="dt">widths =</span> <span class="kw">c</span>(<span class="fl">0.8</span>, <span class="fl">0.2</span>), <span class="dt">margin =</span> <span class="dv">0</span>,
  <span class="dt">shareX =</span> <span class="ot">TRUE</span>, <span class="dt">shareY =</span> <span class="ot">TRUE</span>, <span class="dt">titleX =</span> <span class="ot">FALSE</span>, <span class="dt">titleY =</span> <span class="ot">FALSE</span>
)
<span class="kw">layout</span>(s, <span class="dt">showlegend =</span> <span class="ot">FALSE</span>)</code></pre>
</details>
<div class="figure" style="text-align: center"><span id="fig:joint"></span>
<img src="images/joint.svg" alt="A joint density plot with synchronized axes." width="100%" />
<p class="caption">
FIGURE 13.4: A joint density plot with synchronized axes.
</p>
</div>
<div id="recursive-subplots" class="section level3">
<h3><span class="header-section-number">13.1.1</span> Recursive subplots</h3>
<p>The <code>subplot()</code> function returns a plotly object so it can be modified like any other plotly object. This effectively means that subplots work recursively (i.e., you can have subplots within subplots). This idea is useful when your desired layout doesn’t conform to the table structure described in the previous section. In fact, you can think of a subplot of subplots like a spreadsheet with merged cells. Figure <a href="arranging-views.html#fig:recursive">13.5</a> gives a basic example where each row of the outer-most subplot contains a different number of columns.</p>
<details>
<p><summary>Click to show code</summary></p>
<pre class="sourceCode r"><code class="sourceCode r">plotList &lt;-<span class="st"> </span><span class="cf">function</span>(nplots) {
  <span class="kw">lapply</span>(<span class="kw">seq_len</span>(nplots), <span class="cf">function</span>(x) <span class="kw">plot_ly</span>())
}
s1 &lt;-<span class="st"> </span><span class="kw">subplot</span>(<span class="kw">plotList</span>(<span class="dv">6</span>), <span class="dt">nrows =</span> <span class="dv">2</span>, <span class="dt">shareX =</span> <span class="ot">TRUE</span>, <span class="dt">shareY =</span> <span class="ot">TRUE</span>)
s2 &lt;-<span class="st"> </span><span class="kw">subplot</span>(<span class="kw">plotList</span>(<span class="dv">2</span>), <span class="dt">shareY =</span> <span class="ot">TRUE</span>)
<span class="kw">subplot</span>(
  s1, s2, <span class="kw">plot_ly</span>(), <span class="dt">nrows =</span> <span class="dv">3</span>, 
  <span class="dt">margin =</span> <span class="fl">0.04</span>, <span class="dt">heights =</span> <span class="kw">c</span>(<span class="fl">0.6</span>, <span class="fl">0.3</span>, <span class="fl">0.1</span>)
)</code></pre>
</details>
<div class="figure" style="text-align: center"><span id="fig:recursive"></span>
<img src="images/recursive.svg" alt="Recursive subplots." width="100%" />
<p class="caption">
FIGURE 13.5: Recursive subplots.
</p>
</div>
<p>The concept is particularly useful when you want plot(s) in a given row to have different widths from plot(s) in another row. Figure <a href="arranging-views.html#fig:map-subplot">13.6</a> uses this recursive behavior to place many bar charts in the first row, and a single choropleth in the second row.</p>
<details>
<p><summary>Click to show code</summary></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># specify some map projection/options</span>
g &lt;-<span class="st"> </span><span class="kw">list</span>(
  <span class="dt">scope =</span> <span class="st">&#39;usa&#39;</span>,
  <span class="dt">projection =</span> <span class="kw">list</span>(<span class="dt">type =</span> <span class="st">&#39;albers usa&#39;</span>),
  <span class="dt">lakecolor =</span> <span class="kw">toRGB</span>(<span class="st">&#39;white&#39;</span>)
)
<span class="co"># create a map of population density</span>
density &lt;-<span class="st"> </span>state.x77[, <span class="st">&quot;Population&quot;</span>] <span class="op">/</span><span class="st"> </span>state.x77[, <span class="st">&quot;Area&quot;</span>]
map &lt;-<span class="st"> </span><span class="kw">plot_geo</span>(<span class="dt">z =</span> <span class="op">~</span>density, <span class="dt">text =</span> state.name, 
                <span class="dt">locations =</span> state.abb, <span class="dt">locationmode =</span> <span class="st">&#39;USA-states&#39;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">layout</span>(<span class="dt">geo =</span> g)
<span class="co"># create a bunch of horizontal bar charts </span>
vars &lt;-<span class="st"> </span><span class="kw">colnames</span>(state.x77)
barcharts &lt;-<span class="st"> </span><span class="kw">lapply</span>(vars, <span class="cf">function</span>(var) {
  <span class="kw">plot_ly</span>(<span class="dt">x =</span> state.x77[, var], <span class="dt">y =</span> state.name) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">add_bars</span>(<span class="dt">orientation =</span> <span class="st">&quot;h&quot;</span>, <span class="dt">name =</span> var) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">layout</span>(<span class="dt">showlegend =</span> <span class="ot">FALSE</span>, <span class="dt">hovermode =</span> <span class="st">&quot;y&quot;</span>,
           <span class="dt">yaxis =</span> <span class="kw">list</span>(<span class="dt">showticklabels =</span> <span class="ot">FALSE</span>))
})
<span class="kw">subplot</span>(
  <span class="kw">subplot</span>(barcharts, <span class="dt">margin =</span> <span class="fl">0.01</span>), map, 
  <span class="dt">nrows =</span> <span class="dv">2</span>, <span class="dt">heights =</span> <span class="kw">c</span>(<span class="fl">0.3</span>, <span class="fl">0.7</span>), <span class="dt">margin =</span> <span class="fl">0.1</span>
)</code></pre>
</details>
<div class="figure" style="text-align: center"><span id="fig:map-subplot"></span>
<img src="images/map-subplot.svg" alt="Multiple bar charts of US statistics by state in a subplot with a choropleth of population density" width="100%" />
<p class="caption">
FIGURE 13.6: Multiple bar charts of US statistics by state in a subplot with a choropleth of population density
</p>
</div>
</div>
<div id="other-approaches-applications" class="section level3">
<h3><span class="header-section-number">13.1.2</span> Other approaches &amp; applications</h3>
<p>Using <code>subplot()</code> directly is not the <em>only</em> to create multiple views of a dataset with <strong>plotly</strong>. In some special cases, like scatterplot matrices and generalized pair plots, we can take advantage of some special methods designed specifically for these use cases.</p>
<div id="scatterplot-matrices" class="section level4">
<h4><span class="header-section-number">13.1.2.1</span> Scatterplot matrices</h4>
<p>The plotly.js library provides a trace specifically designed and optimized for scatterplot matrices (splom). To use it, provide numeric variables to the <code>dimensions</code> attribute of the <code>splom</code> trace type.</p>
<pre class="sourceCode r"><code class="sourceCode r">dims &lt;-<span class="st"> </span>dplyr<span class="op">::</span><span class="kw">select_if</span>(iris, is.numeric)
dims &lt;-<span class="st"> </span>purrr<span class="op">::</span><span class="kw">map2</span>(dims, <span class="kw">names</span>(dims), <span class="op">~</span><span class="kw">list</span>(<span class="dt">values =</span> .x, <span class="dt">label =</span> .y))
<span class="kw">plot_ly</span>(<span class="dt">type =</span> <span class="st">&quot;splom&quot;</span>, <span class="dt">dimensions =</span> <span class="kw">setNames</span>(dims, <span class="ot">NULL</span>), <span class="dt">showupperhalf =</span> <span class="ot">FALSE</span>, <span class="dt">diagonal =</span> <span class="kw">list</span>(<span class="dt">visible =</span> <span class="ot">FALSE</span>))</code></pre>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-16"></span>
<iframe src="https://player.vimeo.com/video/325081084?title=0&amp;byline=0&amp;portrait=0" width="100%" height="400" frameborder="0" seamless="seamless" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>
<p class="caption">
FIGURE 13.7: Linked brushing in a scatterplot matrix of the iris dataset.
</p>
</div>
<p>See <a href="https://plot.ly/r/splom/" class="uri">https://plot.ly/r/splom/</a> for more options related to the splom trace type.</p>
</div>
<div id="generalized-pairs-plot" class="section level4">
<h4><span class="header-section-number">13.1.2.2</span> Generalized pairs plot</h4>
<p>The generalized pairs plot is an extension of the scatterplot matrix to support both discrete and numeric variables <span class="citation">(Emerson et al. <a href="#ref-gpp" role="doc-biblioref">2013</a>)</span>. The <code>ggpairs()</code> function from the <strong>GGally</strong> package provides an interface for creating these plots via <strong>ggplot2</strong> <span class="citation">(Schloerke et al. <a href="#ref-GGally" role="doc-biblioref">2016</a>)</span>. To implement <code>ggpairs()</code>, <strong>GGally</strong> introduces the notion of a matrix of <strong>ggplot2</strong> plot objects that it calls <code>ggmatrix()</code>. As Figure <a href="arranging-views.html#fig:ggpairs">13.8</a> shows, the <code>ggplotly()</code> function has a method for converting ggmatrix objects directly:</p>
<pre class="sourceCode r"><code class="sourceCode r">pm &lt;-<span class="st"> </span>GGally<span class="op">::</span><span class="kw">ggpairs</span>(iris, <span class="kw">aes</span>(<span class="dt">color =</span> Species))
<span class="kw">class</span>(pm)
<span class="co">#&gt; [1] &quot;gg&quot;  &quot;ggmatrix&quot;</span>
<span class="kw">ggplotly</span>(pm)</code></pre>
<div class="figure" style="text-align: center"><span id="fig:ggpairs"></span>
<img src="images/ggpairs.svg" alt="A generalized pairs plot made via the `ggpairs()` function from the **GGally** package" width="100%" />
<p class="caption">
FIGURE 13.8: A generalized pairs plot made via the <code>ggpairs()</code> function from the <strong>GGally</strong> package
</p>
</div>
<p>As it turns out, <strong>GGally</strong> use <code>ggmatrix()</code> as a building block for other visualizations, like model diagnostic plots (<code>ggnostic()</code>). Sections <a href="client-side-linking.html#ggally-ggpairs">16.4.6</a> and <a href="client-side-linking.html#ggally-ggnostic">16.4.7</a> demonstrates how to leverage linked brushing in the <code>ggplotly()</code> versions of these plots.</p>
</div>
<div id="trellis-displays-with-subplot" class="section level4">
<h4><span class="header-section-number">13.1.2.3</span> Trellis displays with <code>subplot()</code></h4>
<p>It’s true that <strong>ggplot2</strong>’s <code>facet_wrap()</code>/<code>facet_grid()</code> provides a simple way to create trellis displays, but for learning purposes, it can be helpful to learn how to implement a similar trellis display with <code>plot_ly()</code> and <code>subplot()</code>. Figure <a href="arranging-views.html#fig:subplot-trellis">13.9</a> demonstrates one approach, which leverages <code>subplot()</code>’s ability to reposition annotations and shapes. Specifically, the <code>panel()</code> function below, which defines the visualization method to be applied to each <code>variable</code> in the <code>economics_long</code> dataset, uses paper coordinates (i.e., graph coordinates on a normalized 0-1 scale) to place an annotation at the top-center of each panel as well as a rectangle shape behind the annotation. Note also the use of <code>ysizemode = 'pixel'</code> which gives the rectangle shape a fixed height (i.e., the reactangle height is always 16 pixels, regardless of the height of the trellis display).</p>
<details>
<p><summary>Click to show code</summary></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)

panel &lt;-<span class="st"> </span>. <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">plot_ly</span>(<span class="dt">x =</span> <span class="op">~</span>date, <span class="dt">y =</span> <span class="op">~</span>value) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">add_lines</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">add_annotations</span>(
    <span class="dt">text =</span> <span class="op">~</span><span class="kw">unique</span>(variable),
    <span class="dt">x =</span> <span class="fl">0.5</span>,
    <span class="dt">y =</span> <span class="dv">1</span>,
    <span class="dt">yref =</span> <span class="st">&quot;paper&quot;</span>,
    <span class="dt">xref =</span> <span class="st">&quot;paper&quot;</span>,
    <span class="dt">yanchor =</span> <span class="st">&quot;bottom&quot;</span>,
    <span class="dt">showarrow =</span> <span class="ot">FALSE</span>,
    <span class="dt">font =</span> <span class="kw">list</span>(<span class="dt">size =</span> <span class="dv">15</span>)
  ) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">layout</span>(
    <span class="dt">showlegend =</span> <span class="ot">FALSE</span>,
    <span class="dt">shapes =</span> <span class="kw">list</span>(
      <span class="dt">type =</span> <span class="st">&quot;rect&quot;</span>,
      <span class="dt">x0 =</span> <span class="dv">0</span>,
      <span class="dt">x1 =</span> <span class="dv">1</span>,
      <span class="dt">xref =</span> <span class="st">&quot;paper&quot;</span>,
      <span class="dt">y0 =</span> <span class="dv">0</span>, 
      <span class="dt">y1 =</span> <span class="dv">16</span>,
      <span class="dt">yanchor =</span> <span class="dv">1</span>,
      <span class="dt">yref =</span> <span class="st">&quot;paper&quot;</span>,
      <span class="dt">ysizemode =</span> <span class="st">&quot;pixel&quot;</span>,
      <span class="dt">fillcolor =</span> <span class="kw">toRGB</span>(<span class="st">&quot;gray80&quot;</span>),
      <span class="dt">line =</span> <span class="kw">list</span>(<span class="dt">color =</span> <span class="st">&quot;transparent&quot;</span>)
    )
  )

economics_long <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(variable) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">do</span>(<span class="dt">p =</span> <span class="kw">panel</span>(.)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">subplot</span>(<span class="dt">nrows =</span> <span class="kw">NROW</span>(.), <span class="dt">shareX =</span> <span class="ot">TRUE</span>)</code></pre>
</details>
<div class="figure" style="text-align: center"><span id="fig:subplot-trellis"></span>
<img src="images/subplot-trellis.svg" alt="Creating a trellis display with `subplot()`." width="100%" />
<p class="caption">
FIGURE 13.9: Creating a trellis display with <code>subplot()</code>.
</p>
</div>
</div>
<div id="ggplot2-subplots" class="section level4">
<h4><span class="header-section-number">13.1.2.4</span> ggplot2 subplots</h4>
<p>It’s possible to combine the convenience of <strong>ggplot2</strong>’s <code>facet_wrap()</code>/<code>facet_grid()</code> with the more flexibile arrangement capabilities of <code>subplot()</code>. Figure <a href="arranging-views.html#fig:ggplot2-subplots">13.10</a> does this to show two different views of the <code>economics_long</code> data: the left-hand column displays each variable along time while the right-hand column shows violin plots of each variable. For the implementation, each column is created through <code>ggplot2::facet_wrap()</code>, but then the trellis displays are combined with <code>subplot()</code>. In this case, <strong>ggplot2</strong> objects are passed directly to <code>subplot()</code>, but you can also use <code>ggplotly()</code> for finer control over the conversion of <strong>ggplot2</strong> to <strong>plotly</strong> (see also Chapter <a href="modifying-ggplotly.html#modifying-ggplotly">32</a>) before supplying that result to <code>subplot()</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r">gg1 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(economics_long, <span class="kw">aes</span>(date, value)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>variable, <span class="dt">scales =</span> <span class="st">&quot;free_y&quot;</span>, <span class="dt">ncol =</span> <span class="dv">1</span>)
gg2 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(economics_long, <span class="kw">aes</span>(<span class="kw">factor</span>(<span class="dv">1</span>), value)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_violin</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>variable, <span class="dt">scales =</span> <span class="st">&quot;free_y&quot;</span>, <span class="dt">ncol =</span> <span class="dv">1</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text =</span> <span class="kw">element_blank</span>(), <span class="dt">axis.ticks =</span> <span class="kw">element_blank</span>())
<span class="kw">subplot</span>(gg1, gg2)</code></pre>
<div class="figure" style="text-align: center"><span id="fig:ggplot2-subplots"></span>
<img src="images/ggplot2-subplots.svg" alt="Arranging multiple faceted ggplot2 plots into a plotly subplot." width="100%" />
<p class="caption">
FIGURE 13.10: Arranging multiple faceted ggplot2 plots into a plotly subplot.
</p>
</div>
</div>
</div>
</div>
<div id="arranging-htmlwidgets" class="section level2">
<h2><span class="header-section-number">13.2</span> Arranging htmlwidgets</h2>
<p>Since plotly objects inherit properties from an htmlwidget object, any method that works for arranging htmlwidgets also works for plotly objects.</p>
<p>TODO: flexdashboard!</p>
<p>An <strong>htmlwidgets</strong> object is a collection of HTML tags, and the <strong>htmltools</strong> package provides some useful functions for working with HTML tags <span class="citation">(RStudio and Inc. <a href="#ref-htmltools" role="doc-biblioref">2016</a>)</span>. The <code>tagList()</code> function gathers multiple HTML tags into a tag list, and when printing a tag list inside of a <strong>knitr</strong>/<strong>rmarkdown</strong> document <span class="citation">(Xie <a href="#ref-knitr" role="doc-biblioref">2016</a><a href="#ref-knitr" role="doc-biblioref">a</a>)</span>; <span class="citation">(Allaire et al. <a href="#ref-rmarkdown" role="doc-biblioref">2016</a>)</span>, it knows to render as HTML. However, when printing via the R/RStudio console, you must use <code>browsable()</code> to render and open the tag list as a web page (otherwise, it prints the HTML tags to your R console). Those familiar with <strong>shiny</strong> might already be familiar with using <code>uiOutput()</code> and/or <code>renderUI()</code> to dynamically render tag lists server-side.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(htmltools)
<span class="kw">library</span>(plotly)
p &lt;-<span class="st"> </span><span class="kw">plot_ly</span>(<span class="dt">x =</span> <span class="kw">rnorm</span>(<span class="dv">100</span>))
<span class="co"># </span><span class="al">NOTE</span><span class="co">: you don&#39;t need browsable() in rmarkdown, but you do at the R prompt </span>
<span class="kw">browsable</span>(<span class="kw">tagList</span>(p, p))</code></pre>
<div class="figure" style="text-align: center"><span id="fig:multiple-htmlwidgets"></span>
<img src="images/multiple-htmlwidgets.png" alt="Printing multiple htmlwidget objects with `tagList()`. To render tag lists at the command line, wrap them in `browsable()`" width="100%" />
<p class="caption">
FIGURE 13.11: Printing multiple htmlwidget objects with <code>tagList()</code>. To render tag lists at the command line, wrap them in <code>browsable()</code>
</p>
</div>
<p>Figure <a href="arranging-views.html#fig:multiple-htmlwidgets">13.11</a> renders two plots, each in its own row spanning the width of the page, because each htmlwidget object is an HTML <code>&lt;div&gt;</code> tag. More often than not, it is desirable to arrange multiple plots in a given row, and there are a few ways to do that. A very flexible approach is to wrap all of your plots in a <a href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/">flexbox</a> (i.e., an HTML <code>&lt;div&gt;</code> with <code>display: flex</code> Cascading Style Sheets (CSS) property). The <code>tags$div()</code> function from <strong>htmltools</strong> provides a way to wrap a <code>&lt;div&gt;</code> around both tag lists and htmlwidget objects, and set attributes, such as <code>style</code>. As Figure <a href="arranging-views.html#fig:flexbox">13.12</a> demonstrates, this approach also provides a nice way to add custom styling to the page, such as borders around each panel.</p>
<pre class="sourceCode r"><code class="sourceCode r">tags<span class="op">$</span><span class="kw">div</span>(
  <span class="dt">style =</span> <span class="st">&quot;display: flex; flex-wrap: wrap&quot;</span>,
  tags<span class="op">$</span><span class="kw">div</span>(p, <span class="dt">style =</span> <span class="st">&quot;width: 50%; padding: 1em; border: solid;&quot;</span>),
  tags<span class="op">$</span><span class="kw">div</span>(p, <span class="dt">style =</span> <span class="st">&quot;width: 50%; padding: 1em; border: solid;&quot;</span>),
  tags<span class="op">$</span><span class="kw">div</span>(p, <span class="dt">style =</span> <span class="st">&quot;width: 100%; padding: 1em; border: solid;&quot;</span>)
)</code></pre>
<div class="figure" style="text-align: center"><span id="fig:flexbox"></span>
<img src="images/flexbox.png" alt="Arranging multiple htmlwidgets with flexbox" width="100%" />
<p class="caption">
FIGURE 13.12: Arranging multiple htmlwidgets with flexbox
</p>
</div>
<p>Another way to arrange multiple htmlwidget objects on a single page is to leverage the <code>fluidPage()</code>, <code>fluidRow()</code>, and <code>column()</code> functions from the <strong>shiny</strong> package.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(shiny)
<span class="kw">fluidPage</span>(
  <span class="kw">fluidRow</span>(p),
  <span class="kw">fluidRow</span>(
    <span class="kw">column</span>(<span class="dv">6</span>, p), <span class="kw">column</span>(<span class="dv">6</span>, p) 
  )
)</code></pre>
<div class="figure" style="text-align: center"><span id="fig:fluid"></span>
<img src="images/fluid.png" alt="Arranging multiple htmlwidgets with `fluidPage()` from the **shiny** package." width="100%" />
<p class="caption">
FIGURE 13.13: Arranging multiple htmlwidgets with <code>fluidPage()</code> from the <strong>shiny</strong> package.
</p>
</div>
<p>All the arrangement approaches discussed thus far are agnostic to output format, meaning that they can be used to arrange htmlwidgets within <em>any</em> <strong>knitr</strong>/<strong>rmarkdown</strong> document.<a href="#fn20" class="footnote-ref" id="fnref20"><sup>20</sup></a> If the htmlwidgets do not need to be embedded within a larger document that requires an opinionated output format, the <strong>flexdashboard</strong> package provides a <strong>rmarkdown</strong> template for generating dashboards, with a convenient syntax for arranging views <span class="citation">(Allaire <a href="#ref-flexdashboard" role="doc-biblioref">2016</a>)</span>.</p>
</div>
<div id="navigating-many-views" class="section level2">
<h2><span class="header-section-number">13.3</span> Navigating many views</h2>
<p>Sometimes you have to consider way more views than you can possibly digest visually. In <a href="#multiple-linked-views">Multiple linked views</a>, we explore some useful techniques for implementing the popular visualization mantra from <span class="citation">Shneiderman (<a href="#ref-details-on-demand" role="doc-biblioref">1996</a>)</span>:</p>
<blockquote>
<p>“Overview first, zoom and filter, then details-on-demand.”</p>
</blockquote>
<p>In fact, Figure <a href="linking-server-side.html#fig:shiny-corrplot">17.11</a> from section <a href="linking-server-side.html#scoping-events">17.2.5</a> provides an example of this mantra put into practice. The correlation matrix provides an overview of the correlation structure between all the variables, and by clicking a cell, it populates a scatterplot between those two specific variables. This works fine with tens or hundreds or variables, but once you have thousands or tens-of-thousands of variables, this technique begins to fall apart. At that point, you may be better off defining a range of correlations that you’re interested in exploring, or better yet, incorporating another measure (e.g., a test statistic), then focusing on views that match a certain criteria.</p>
<p><span class="citation">Tukey and Tukey (<a href="#ref-scagnostics-tukey" role="doc-biblioref">n.d.</a>)</span> first described the idea of using quantitative measurements of scatterplot characteristics (e.g. correlation) to help guide exploratory analysis of many variables. This idea, coined scagnostics (short for scatterplot diagnostics), has since been made explicit, and many measures have been explored, even measures specifically useful for time-series have been proposed <span class="citation">(Wilkinson, Anand, and Grossman <a href="#ref-Wilkinson:2005b" role="doc-biblioref">2005</a>)</span>; <span class="citation">(Wilkinson and Wills <a href="#ref-Wilkinson:2008" role="doc-biblioref">2008</a>)</span>; <span class="citation">(Dang and Wilkinson <a href="#ref-Wilkinson:2012" role="doc-biblioref">2012</a>)</span>. Probably the most universally useful scagnostic is the outlying measure which helps identify projections of the data space that contain outlying observations. Of course, the idea of associating quantitative measures with a graphical display of data can be generalized to include more that just scatterplots, and in this more general case, these measures are sometimes referred to as cognostics.</p>
<p>The same problems and principles that inspired scagnostics has inspired work on more general divide &amp; recombine technique(s) for working with navigating through many statistical artifacts <span class="citation">(Cleveland and Hafen <a href="#ref-divide-recombine" role="doc-biblioref">2014</a>)</span>; <span class="citation">(Saptarshi Guha and Cleveland <a href="#ref-RHIPE" role="doc-biblioref">2012</a>)</span>, including visualizations <span class="citation">(Hafen et al. <a href="#ref-trelliscope" role="doc-biblioref">2013</a>)</span>. The <strong>trelliscope</strong> package provides a system for computing arbitrary cognostics on each panel of a trellis display as well as an interactive graphical user interface for defining (and navigating through) interesting panels based on those cognostics <span class="citation">(Hafen <a href="#ref-trelliscope-pkg" role="doc-biblioref">2016</a>)</span>. This system also allows users to define the graphical method for displaying each panel, so <strong>plotly</strong> graphs can easily be embedded. The <strong>trelliscope</strong> package is currently built upon <strong>shiny</strong>, but as Figure <a href="arranging-views.html#fig:trelliscope">13.14</a> demonstrates, the <strong>trelliscopejs</strong> package provides lower-level tools that allow one to create trelliscope displays without <strong>shiny</strong> <span class="citation">(Hafen and Schloerke, <a href="#ref-trelliscopejs" role="doc-biblioref">n.d.</a>)</span>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(trelliscopejs)

<span class="kw">qplot</span>(cty, hwy, <span class="dt">data =</span> mpg) <span class="op">+</span>
<span class="st">  </span><span class="kw">xlim</span>(<span class="dv">7</span>, <span class="dv">37</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylim</span>(<span class="dv">9</span>, <span class="dv">47</span>) <span class="op">+</span><span class="st"> </span><span class="kw">theme_bw</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">facet_trelliscope</span>(
    <span class="op">~</span><span class="st"> </span>manufacturer <span class="op">+</span><span class="st"> </span>class, <span class="dt">nrow =</span> <span class="dv">2</span>, <span class="dt">ncol =</span> <span class="dv">4</span>, 
    <span class="dt">as_plotly =</span> <span class="ot">TRUE</span>, <span class="dt">plotly_args =</span> <span class="kw">list</span>(<span class="dt">dynamicTicks =</span> T)
  )</code></pre>
<div class="figure" style="text-align: center"><span id="fig:trelliscope"></span>
<img src="images/trelliscope.png" alt="Using plotly within a trelliscope" width="100%" />
<p class="caption">
FIGURE 13.14: Using plotly within a trelliscope
</p>
</div>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-Cook:2007uk">
<p>Cook, Dianne, Andreas Buja, and Deborah F Swayne. 2007. “Interactive High-Dimensional Data Visualization.” <em>Journal of Computational and Graphical Statistics</em>, December, 1–23.</p>
</div>
<div id="ref-trellis">
<p>Richard A. Becker, Ming-Jen Shyu, William S. Cleveland. 1996. “The Visual Design and Control of Trellis Display.” <em>Journal of Computational and Graphical Statistics</em> 5 (2): 123–55. <a href="http://www.jstor.org/stable/1390777">http://www.jstor.org/stable/1390777</a>.</p>
</div>
<div id="ref-RCore">
<p>R Core Team. 2016. <em>R: A Language and Environment for Statistical Computing</em>. Vienna, Austria: R Foundation for Statistical Computing. <a href="https://www.R-project.org/">https://www.R-project.org/</a>.</p>
</div>
<div id="ref-gridExtra">
<p>Auguie, Baptiste. 2016. <em>GridExtra: Miscellaneous Functions for "Grid" Graphics</em>. <a href="https://CRAN.R-project.org/package=gridExtra">https://CRAN.R-project.org/package=gridExtra</a>.</p>
</div>
<div id="ref-lattice">
<p>Sarkar, Deepayan. 2008. <em>Lattice: Multivariate Data Visualization with R</em>. New York: Springer. <a href="http://lmdvr.r-forge.r-project.org">http://lmdvr.r-forge.r-project.org</a>.</p>
</div>
<div id="ref-heatmaply">
<p>Galili, Tal. 2016. <em>Heatmaply: Interactive Heat Maps Using ’Plotly’</em>. <a href="https://CRAN.R-project.org/package=heatmaply">https://CRAN.R-project.org/package=heatmaply</a>.</p>
</div>
<div id="ref-gpp">
<p>Emerson, John W., Walton A. Green, Barret Schloerke, Jason Crowley, Dianne Cook, Heike Hofmann, and Hadley Wickham. 2013. “The Generalized Pairs Plot.” <em>Journal of Computational and Graphical Statistics</em> 22 (1): 79–91. <a href="https://doi.org/10.1080/10618600.2012.694762">https://doi.org/10.1080/10618600.2012.694762</a>.</p>
</div>
<div id="ref-GGally">
<p>Schloerke, Barret, Jason Crowley, Di Cook, Francois Briatte, Moritz Marbach, Edwin Thoen, Amos Elberg, and Joseph Larmarange. 2016. <em>GGally: Extension to ’Ggplot2’</em>.</p>
</div>
<div id="ref-htmltools">
<p>RStudio, and Inc. 2016. <em>Htmltools: Tools for Html</em>. <a href="https://CRAN.R-project.org/package=htmltools">https://CRAN.R-project.org/package=htmltools</a>.</p>
</div>
<div id="ref-knitr">
<p>Xie, Yihui. 2016a. <em>Knitr: A General-Purpose Package for Dynamic Report Generation in R</em>. <a href="https://CRAN.R-project.org/package=knitr">https://CRAN.R-project.org/package=knitr</a>.</p>
</div>
<div id="ref-rmarkdown">
<p>Allaire, JJ, Joe Cheng, Yihui Xie, Jonathan McPherson, Winston Chang, Jeff Allen, Hadley Wickham, Aron Atkins, and Rob Hyndman. 2016. <em>Rmarkdown: Dynamic Documents for R</em>. <a href="https://CRAN.R-project.org/package=rmarkdown">https://CRAN.R-project.org/package=rmarkdown</a>.</p>
</div>
<div id="ref-flexdashboard">
<p>Allaire, JJ. 2016. <em>Flexdashboard: R Markdown Format for Flexible Dashboards</em>. <a href="https://CRAN.R-project.org/package=flexdashboard">https://CRAN.R-project.org/package=flexdashboard</a>.</p>
</div>
<div id="ref-details-on-demand">
<p>Shneiderman, Ben. 1996. “The Eyes Have It:A Task by Data Type Taxonomy for Information Visualizations.” <em>VL Proceedings of the IEEE Symposium on Visual Languages</em>, January, 1–9.</p>
</div>
<div id="ref-scagnostics-tukey">
<p>Tukey, J. W., and P. A. Tukey. n.d. “Computer Graphics and Exploratory Data Analysis: An Introduction.” In <em>In Proceedings of the Sixth Annual Conference and Exposition: Computer Graphics85</em>.</p>
</div>
<div id="ref-Wilkinson:2005b">
<p>Wilkinson, Leland, Anushka Anand, and Robert Grossman. 2005. “Graph-Theoretic Scagnostics.” In <em>Proceedings of the Proceedings of the 2005 Ieee Symposium on Information Visualization</em>, 21. INFOVIS ’05. Washington, DC, USA: IEEE Computer Society. <a href="https://doi.org/10.1109/INFOVIS.2005.14">https://doi.org/10.1109/INFOVIS.2005.14</a>.</p>
</div>
<div id="ref-Wilkinson:2008">
<p>Wilkinson, Leland, and Graham Wills. 2008. “Scagnostics Distributions.” <em>Journal of Computational and Graphical Statistics</em>, no. 2: 473–91.</p>
</div>
<div id="ref-Wilkinson:2012">
<p>Dang, Tuan Nhon, and Leland Wilkinson. 2012. “Timeseer: Detecting interesting distributions in multiple time series data.” <em>VINCI</em>, October, 1–9.</p>
</div>
<div id="ref-divide-recombine">
<p>Cleveland, William S., and Ryan Hafen. 2014. “Divide and Recombine (d&amp;R): Data Science for Large Complex Data.” <em>Statistical Analysis and Data Mining: The ASA Data Science Journal</em> 7 (6): 425–33.</p>
</div>
<div id="ref-RHIPE">
<p>Saptarshi Guha, Jeremiah Rounds, Ryan Hafen, and William S. Cleveland. 2012. “Large Complex Data: Divide and Recombine (d&amp;R) with Rhipe.” <em>The ISI’s Journal for the Rapid Dissemination of Statistics Research</em>, August, 53–67.</p>
</div>
<div id="ref-trelliscope">
<p>Hafen, R., L. Gosink, J. McDermott, K. Rodland, K. K. V. Dam, and W. S. Cleveland. 2013. “Trelliscope: A System for Detailed Visualization in the Deep Analysis of Large Complex Data.” In <em>Large-Scale Data Analysis and Visualization (Ldav), 2013 Ieee Symposium on</em>, 105–12. <a href="https://doi.org/10.1109/LDAV.2013.6675164">https://doi.org/10.1109/LDAV.2013.6675164</a>.</p>
</div>
<div id="ref-trelliscope-pkg">
<p>Hafen, Ryan. 2016. <em>Trelliscope: Create and Navigate Large Multi-Panel Visual Displays</em>. <a href="https://CRAN.R-project.org/package=trelliscope">https://CRAN.R-project.org/package=trelliscope</a>.</p>
</div>
<div id="ref-trelliscopejs">
<p>Hafen, Ryan, and Barret Schloerke. n.d. <em>Trelliscopejs: Create Interactive Trelliscope Displays</em>. <a href="https://github.com/hafen/trelliscopejs">https://github.com/hafen/trelliscopejs</a>.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="20">
<li id="fn20"><p>Although HTML can not possibly render in a pdf or word document, <strong>knitr</strong> can automatically detect a non-HTML output format and embed a static image of the htmlwidget via the <strong>webshot</strong> package <span class="citation">(Chang <a href="#ref-webshot" role="doc-biblioref">2016</a>)</span>.<a href="arranging-views.html#fnref20" class="footnote-back">↩</a></p></li>
</ol>
</div>
<script>
  var header = document.querySelector(".book-header");

  var img = document.createElement("img");
  img.src = "images/rstudioCloud.svg";
  img.width = 200;
  img.align = "right";
  img.style = "margin-top:10px; float:right";

  var a = document.createElement("a");
  a.href = "https://rstudio.cloud/project/156701";
  a.target = "_blank";

  a.appendChild(img);
  header.appendChild(a);
</script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-60116966-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-60116966-3');
</script>
            </section>

          </div>
        </div>
      </div>
<a href="editing-views.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="animating-views.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/lunr.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/cpsievert/plotly_book/edit/master/arranging.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
